(function(e){function t(t){for(var o,n,r=t[0],l=t[1],c=t[2],u=0,m=[];u<r.length;u++)n=r[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],o=!0,r=1;r<a.length;r++){var l=a[r];0!==i[l]&&(o=!1)}o&&(s.splice(t--,1),e=n(n.s=a[0]))}return e}var o={},i={app:0},s=[];function n(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=o,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"09ca":function(e,t,a){},"0ad8":function(e,t,a){"use strict";a("36dd")},"0b35":function(e,t,a){},"0c76":function(e,t,a){"use strict";a("5f48")},"0cf2":function(e,t,a){"use strict";a("76d0")},1316:function(e,t,a){},"142d":function(e,t,a){"use strict";a("ec3b")},1525:function(e,t,a){},"1a7b":function(e,t,a){},"1c96":function(e,t,a){"use strict";a("0b35")},"299d":function(e,t,a){"use strict";a("2e59")},"2da4":function(e,t,a){},"2e59":function(e,t,a){},3151:function(e,t,a){"use strict";a("fe98")},"36cd":function(e,t,a){},"36dd":function(e,t,a){},"382e":function(e,t,a){"use strict";a("b7ac")},"401a":function(e,t,a){"use strict";a("d73a")},4678:function(e,t,a){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=s(e);return a(t)}function s(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=s,e.exports=i,i.id="4678"},5476:function(e,t,a){"use strict";a("d317")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o,i=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view"),a("notifications",{attrs:{group:"notification",position:"bottom right",duration:6e3,max:10},scopedSlots:e._u([{key:"body",fn:function(e){return[a("a-alert",{attrs:{message:e.item.title,description:e.item.text,type:e.item.type,"show-icon":""}})]}}])}),a("vue-progress-bar")],1)},n=[],r=a("2f62"),l=a("1232"),c=(a("4160"),a("45fc"),a("159b"),a("8c4f")),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-layout",{staticStyle:{"min-height":"100vh"},attrs:{id:"components-layout-demo-side"}},[a("a-layout",[a("Sidebar"),a("a-layout",[a("Header"),a("a-layout-content",{staticStyle:{margin:"0 16px","background-color":"#fcfafa"}},[a("router-view")],1),a("Footer")],1)],1)],1)},u=[],m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-layout-footer",{staticClass:"pie"},[e._v(" Quick Pay 2024. ")])},p=[],f=(a("7e7b"),a("2877")),h={},g=Object(f["a"])(h,m,p,!1,null,"323c7f5e",null),b=g.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-layout-header",{staticStyle:{"padding-left":"0px","padding-right":"5px",height:"auto"}},[a("a-row",{attrs:{type:"flex",justify:"end",align:"top"}},[a("a-col",{staticStyle:{"font-weight":"bold",color:"white","text-align":"right","padding-right":"10px"},attrs:{span:24}},[a("div",[a("a-divider",{attrs:{type:"vertical"}}),e._v(" "+e._s(e.datos.nombreUsuario)+" "),a("a-divider",{attrs:{type:"vertical"}}),a("a-tooltip",{attrs:{placement:"bottom"}},[a("template",{slot:"title"},[a("span",[e._v("Notificaciones ...")])]),a("a-badge",{attrs:{count:e.countNotifications,"number-style":{color:"#fffff",borderColor:"red"}}},[a("a-button",{attrs:{shape:"circle"},on:{click:function(t){e.displayNotifications=!0}}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"bell"}})],1)],1)],2),a("a-divider",{attrs:{type:"vertical"}}),"ADMINISTRADOR"!=e.datos.modulo?a("a-tooltip",{attrs:{placement:"bottom"}},[a("template",{slot:"title"},[a("span",[e._v("CAMBIAR CONTRASEÑA")])]),a("a-button",{attrs:{shape:"circle"},on:{click:function(t){return e.mostrarModalPassword()}}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"setting"}})],1)],2):e._e(),a("a-divider",{attrs:{type:"vertical"}}),a("a-tooltip",{attrs:{placement:"bottom"}},[a("a-popconfirm",{attrs:{placement:"leftTop","ok-text":"Si","cancel-text":"No"},on:{confirm:e.logout}},[a("template",{slot:"title"},[a("br"),a("p",[e._v("ESTA SEGURO(A) DE SALIR DEL SISTEMA?")])]),a("a-button",{attrs:{shape:"circle"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"logout"}})],1)],2),a("template",{slot:"title"},[a("span",[e._v("SALIR DEL SISTEMA")])])],2)],1)])],1),a("Notificaciones",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],on:{updatingNotif:e.updateNotif}}),a("a-modal",{attrs:{title:"Notificaciones","ok-text":"Cobrar","cancel-text":"Cancelar",width:"600px",centered:!1,closable:!0,maskClosable:!1,footer:null},model:{value:e.displayNotifications,callback:function(t){e.displayNotifications=t},expression:"displayNotifications"}},[a("Notificaciones",{on:{updatingNotif:e.updateNotif}})],1),a("a-modal",{attrs:{title:"Cambio de contraseña"},on:{ok:function(t){e.showModalPassword=!1}},model:{value:e.showModalPassword,callback:function(t){e.showModalPassword=t},expression:"showModalPassword"}},[a("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,size:"small"}},[a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("a-form-model-item",{ref:"passwordActual",attrs:{prop:"passwordActual",label:"Password Actual :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input-password",{attrs:{placeholder:"Password Actual"},on:{blur:function(){e.$refs.passwordActual.onFieldBlur()}},model:{value:e.form.passwordActual,callback:function(t){e.$set(e.form,"passwordActual",t)},expression:"form.passwordActual"}},[a("a-icon",{attrs:{slot:"suffix",type:"global"},slot:"suffix"})],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("a-form-model-item",{ref:"passwordNew1",attrs:{prop:"passwordNew1",label:"Nuevo Password :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input-password",{attrs:{placeholder:"Nuevo Password"},on:{blur:function(){e.$refs.passwordNew1.onFieldBlur()}},model:{value:e.form.passwordNew1,callback:function(t){e.$set(e.form,"passwordNew1",t)},expression:"form.passwordNew1"}},[a("a-icon",{attrs:{slot:"suffix",type:"global"},slot:"suffix"})],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("a-form-model-item",{ref:"passwordNew2",attrs:{prop:"passwordNew2",label:"Confirmación password :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input-password",{attrs:{placeholder:"Confirmar Password"},on:{blur:function(){e.$refs.passwordNew2.onFieldBlur()}},model:{value:e.form.passwordNew2,callback:function(t){e.$set(e.form,"passwordNew2",t)},expression:"form.passwordNew2"}},[a("a-icon",{attrs:{slot:"suffix",type:"global"},slot:"suffix"})],1)],1)],1)],1)],1),a("template",{slot:"footer"},[a("a-button",{on:{click:function(t){return e.cerrarModalPassword()}}},[e._v(" Cancelar ")]),a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.cambiarPassord()}}},[e._v(" Aceptar ")])],1)],2)],1)},y=[],C=(a("99af"),a("bc3a")),x=a.n(C),E=function(){return x.a.create({baseURL:"https://quickpay.com.bo:7080/"})},R={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},getMenu:function(){return E().get("api/Menu/menu",this.headersConfig())},getSubMenu:function(){return E().get("api/Menu/subMenu",this.headersConfig())},getOpciones:function(e){return E().get("api/Menu/getOperaciones/".concat(e),this.headersConfig())},getOpcionesByEstado:function(e,t){return null!=t?E().get("api/Menu/operaciones/".concat(e,"/").concat(t),this.headersConfig()):E().get("api/Menu/operaciones/".concat(e),this.headersConfig())},getDatosLogin:function(){return E().get("api/Menu/getDatosLogin",this.headersConfig())},getOperacionesFacturacionLst:function(e,t){return E().get("api/menufacturas/operaciones/".concat(e,"/estados/").concat(t),this.headersConfig())},cambiarPassord:function(e){return E().post("api/Menu/cambiarPassword",e,this.headersConfig())}},w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"background-color":"#fff !important"}})},I=[],k={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},getDosificacionesLst:function(){return E().get("api/dosificaciones",this.headersConfig())},getDosificacionById:function(e){return E().get("api/dosificaciones/".concat(e),this.headersConfig())},postDosificacion:function(e){return E().post("api/dosificaciones",e,this.headersConfig())},putTransaccion:function(e,t){return E().put("api/dosificaciones/".concat(e,"/transacciones/").concat(t),null,this.headersConfig())},getDosificacionesLstAlertas:function(){return E().get("api/dosificaciones/alertas",this.headersConfig())}},_=[{title:"Sucursal",dataIndex:"nombreSucursal"},{title:"Código",dataIndex:"codigoActividadEconomica"},{title:"Actividad Económica",dataIndex:"actividadEconomica"},{title:"Fecha Límite Emisión",dataIndex:"fechaLimiteEmision",scopedSlots:{customRender:"fechaLimite"}}],A={name:"Notif",data:function(){return{countNotifications:0,pagination:{pageSize:5},columnsDosificacion:_,lstDosificaciones:[],loadingDosif:!1}},created:function(){this.cargarDosificacionesAlertas()},methods:{cargarDosificacionesAlertas:function(){var e=this;this.loadingDosif=!0,k.getDosificacionesLstAlertas().then((function(t){if(204===t.status)return e.lstDosificaciones=[],void(e.loadingDosif=!1);e.lstDosificaciones=t.data.result,e.countNotifications=e.lstDosificaciones.length,e.loadingDosif=!1,e.$emit("updatingNotif",e.countNotifications)})).catch((function(t){e.lstDosificaciones=[],e.loadingDosif=!1}))}}},S=A,D=Object(f["a"])(S,w,I,!1,null,null,null),O=D.exports,T={labelCol:{xs:{span:24},sm:{span:24},md:{span:8},lg:{span:8},xl:{span:8}},wrapperCol:{xs:{span:24},sm:{span:24},md:{span:16},lg:{span:16},xl:{span:16}}},L={components:{Notificaciones:O},data:function(){return{formItemTowLayout:T,iconConfig:"lock",datos:{nombreUsuario:null,correo:null,nombreEntidad:null,path:null},displayNotifications:!1,countNotifications:0,showModalPassword:!1,form:{},rules:{passwordActual:[{required:!0,message:"Debe introducir su Password Actual",trigger:"blur"},{min:6,message:"Mínimante el password debe tener 6 caracteres",trigger:"blur"}],passwordNew1:[{required:!0,message:"Debe introducir su Password Nuevo",trigger:"blur"},{min:6,message:"Mínimante el password debe tener 6 caracteres",trigger:"blur"}],passwordNew2:[{required:!0,message:"Debe introducir su Password Nuevo",trigger:"blur"},{min:6,message:"Mínimante el password debe tener 6 caracteres",trigger:"blur"}]}}},created:function(){this.getDatosLogin()},methods:{getDatosLogin:function(){var e=this;R.getDatosLogin().then((function(t){e.datos=t.data.data})).catch((function(t){e.datos=[]}))},logout:function(){this.$store.dispatch("salir")},changeUnlock:function(){this.iconConfig="unlock"},changeLock:function(){this.iconConfig="lock"},updateNotif:function(e){this.countNotifications=e},mostrarModalPassword:function(){this.showModalPassword=!0,this.form={}},cerrarModalPassword:function(){this.showModalPassword=!1,this.form={}},cambiarPassord:function(){var e=this;this.$refs.ruleForm.validate((function(t){t&&R.cambiarPassord(e.form).then((function(t){e.$notification.success(t.data.message),e.showModalPassword=!1})).catch((function(t){e.$notification.error(t.response.data.message)}))}))}}},B=L,M=(a("5476"),Object(f["a"])(B,v,y,!1,null,"d28dbd40",null)),j=M.exports,F=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("a-layout-sider",{staticStyle:{width:"256px"},attrs:{collapsible:"",theme:"dark"},model:{value:e.collapsed,callback:function(t){e.collapsed=t},expression:"collapsed"}},[o("br"),o("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[o("a-col",[o("br"),o("br"),o("br"),o("div",{on:{click:function(t){return e.navegar("index")}}},[e.collapsed?e._e():o("img",{staticStyle:{"padding-bottom":"5px"},attrs:{src:a("a720"),width:"180",height:"100"}})]),e.collapsed?o("div",{staticStyle:{height:"100px"}}):e._e()])],1),o("br"),e.collapsed||"ADMINISTRADOR"==e.datos.nombreEntidad?e._e():o("div",{staticClass:"entiades"},[e._v(" "+e._s(e.datos.nombreEntidad)+" ")]),e.collapsed?e._e():o("a-divider",{staticStyle:{color:"#fff","font-size":"10px"}},[e._v(" "+e._s(e.datos.modulo)+" ")]),o("a-menu",{attrs:{theme:"dark",breakpoint:"xl","default-selected-keys":["0"],mode:"inline",collapsedWidth:"150"}},[e._l(e.menuList,(function(t){return o("a-menu-item",{key:t.privilegiosId},[o("a-icon",{attrs:{type:t.icono},on:{click:function(a){return e.navegar(t.link)}}}),o("span",{on:{click:function(a){return e.navegar(t.link)}}},[e._v(" "+e._s(t.descripcion)+" ")])],1)})),e._l(e.subMenuList,(function(t){return o("a-sub-menu",{key:t.privilegiosId},[o("span",{attrs:{slot:"title"},slot:"title"},[o("a-icon",{attrs:{type:t.icono}}),o("span",[e._v(" "+e._s(t.descripcion))])],1),e._l(t.segPrivilegioEntityList,(function(t){return o("a-menu-item",{key:t.privilegiosId},[o("span",{on:{click:function(a){return e.navegar(t.link)}}},[e._v(" "+e._s(t.descripcion)+" ")])])}))],2)}))],2)],1)},P=[],$=(a("ac1f"),a("5319"),{data:function(){return{collapsed:!0,menuList:[],subMenuList:[],datos:{nombreUsuario:null,correo:null,nombreEntidad:null,path:null}}},created:function(){this.getMenu(),this.getSubMenu(),this.getDatosLogin()},methods:{getDatosLogin:function(){var e=this;R.getDatosLogin().then((function(t){e.datos=t.data.data})).catch((function(t){e.datos=[]}))},getMenu:function(){var e=this;R.getMenu().then((function(t){e.menuList=t.data.data})).catch((function(t){e.menuList=[]}))},getSubMenu:function(){var e=this;R.getSubMenu().then((function(t){e.subMenuList=t.data.data})).catch((function(t){e.subMenuList}))},navegar:function(e){this.$router.replace({name:e})}}}),q=$,N=(a("90e6"),Object(f["a"])(q,F,P,!1,null,"cfe34018",null)),U=N.exports,z={components:{Footer:b,Header:j,Sidebar:U}},V=z,G=(a("b76c"),Object(f["a"])(V,d,u,!1,null,null,null)),Y=G.exports,K=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"limiter"},[o("div",{staticClass:"container-login100"},[o("div",{staticClass:"wrap-login100"},[o("div",{staticClass:"login100-form-title",style:{"background-image":"url("+a("9d64")+")"}}),o("form",{staticClass:"login100-form"},[o("div",{staticClass:"wrap-input100 validate-input m-b-26",attrs:{"data-validate":"Username is required"}},[o("span",{staticClass:"label-input100"},[e._v("Usuario")]),o("a-input",{attrs:{name:"username",placeholder:"Ingrese su usuario"},model:{value:e.usuario.username,callback:function(t){e.$set(e.usuario,"username",t)},expression:"usuario.username"}}),o("span",{staticClass:"focus-input100"})],1),o("div",{staticClass:"wrap-input100 validate-input m-b-18",attrs:{"data-validate":"Password is required"}},[o("span",{staticClass:"label-input100"},[e._v("Contraseña")]),o("a-input-password",{attrs:{placeholder:"Ingrese su contraseña"},model:{value:e.usuario.password,callback:function(t){e.$set(e.usuario,"password",t)},expression:"usuario.password"}})],1),o("div",{staticClass:"container-login100-form-btn"},[o("a-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.login}},[e._v(" Login ")])],1),e.showError?o("div",{staticStyle:{width:"100%",margin:"5px"},attrs:{"wrap-input100":"","validate-input":"","m-b-18":""}},[o("a-alert",{attrs:{message:"Hay un problema en el ingreso al sistema.",description:"El usuario o contraseña no son correctos. Si realizo más de 5 intentos fallidos el sistema bloqueara su cuenta.",type:"error","show-icon":""}})],1):e._e()])])])])},H=[],J=(a("1316"),a("5aea"),a("b383")),Q=a.n(J),W=btoa("exacta.tesla.resource:6pqn@Ean%3peC%o09.12zx_nWAS#"),Z={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(W)},X={login:function(e){var t={username:e.username,password:e.password,grant_type:"password"};return E().post("oauth/token",Q.a.stringify(t),{headers:Z})}},ee={data:function(){return{response:void 0,show:!1,usuario:{username:"",password:""},errorCredenciales:!1,showError:!1}},methods:{login:function(){var e=this;this.showError=!1,X.login(this.usuario).then((function(e){return e.data})).then((function(t){e.showError=!0,e.$store.dispatch("guardarToken",t.access_token),e.$router.push({name:"index"})})).catch((function(t){e.showError=!0}))}}},te=ee,ae=(a("e4c1"),Object(f["a"])(te,K,H,!1,null,"c8b4c414",null)),oe=ae.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head"},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#08632d"}},[e._v(" CARGADO DE ARCHIVOS. ")])])])],1),a("a-row",{staticStyle:{width:"100%"},attrs:{align:"top"}},[a("a-col",{attrs:{span:24}},[a("a-card",{staticStyle:{width:"100%"}},[a("a-upload-dragger",{attrs:{"list-type":"picture",name:"file",accept:".csv",multiple:!1,"file-list":e.fileList,disabled:this.disableUpload,method:"post",action:this.url,headers:{Authorization:"Bearer "+this.token},showUploadList:this.showUpload,"before-upload":e.handleClick},on:{change:e.handleChange}},[a("p",{staticClass:"ant-upload-drag-icon"},[a("a-icon",{attrs:{type:"inbox"}})],1),a("p",{staticClass:"ant-upload-text"},[e._v(" Haga clic o arrastre el archivo a esta área. ")])]),e.booleanMensjae?a("a-alert",{attrs:{message:e.titutloMensaje,description:e.mensajeUpload,type:e.tipoMensaje,"show-icon":""}}):e._e(),a("br"),a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"primary",block:"",disabled:e.buttonProcesar},on:{click:e.showConfirmProcearArchivo}},[a("span",[a("a-icon",{attrs:{type:"download"}}),e._v(" Procesar Cargado de Datos ")],1)])],1)],1)],1)],1),a("p"),a("a-row",{attrs:{type:"flex",justify:"space-around",align:"top"}},[a("a-col",{attrs:{span:24}},[a("a-card",{staticStyle:{width:"100%"}},[a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-form",{attrs:{layout:"inline"}},[a("a-form-item",{attrs:{label:"Busqueda de Deudas : "}},[a("a-input-search",{staticStyle:{width:"400px"},attrs:{placeholder:"Código de Cliente, Nombre del Cliente, Nro. Documento del Cliente","enter-button":""},on:{search:e.onSearch},model:{value:e.paramBusqueda,callback:function(t){e.paramBusqueda=t},expression:"paramBusqueda"}})],1)],1)],1),a("a-divider",{staticClass:"a-divider",attrs:{orientation:"left"}},[e._v("LISTA DE REGISTROS CARGADOS")]),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,bordered:"",pagination:e.pagination,showHeader:!1,loading:e.loadingTable},scopedSlots:e._u([{key:"archivoId",fn:function(t,o){return[a("font",{attrs:{size:"2"}},[a("table",{staticClass:"styled-header",staticStyle:{width:"100%","background-color":"#f2f0ef"}},[a("tr",[a("td",{staticClass:"td-align-right"},[e._v("Código de Cliente:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.codigoCliente))]),a("td",{staticClass:"td-align-right"},[e._v("Nro. Documento:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.nroDocumento))])]),a("tr",[a("td",{staticClass:"td-align-right"},[e._v("Nombre de Cliente:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.nombreCliente))]),a("td",{staticClass:"td-align-right"},[e._v("Teléfono / correo:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.telefono)+" / "+e._s(o.correoCliente))])]),a("tr",[a("td",{staticClass:"td-align-right"},[e._v("Dirección:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.direccion))]),a("td",{staticClass:"td-align-right"},[e._v("Nit:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.nit))])]),a("tr",[a("td",{staticClass:"td-align-right"},[e._v("Periodo:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.periodo))]),a("td",{staticClass:"td-align-right"},[e._v("Tipo de Pago:")]),a("td",{staticClass:"td-align-left"},[o.esPostpago?a("div",[e._v("POSTPAGO")]):a("div",[e._v("PREPAGO")])])]),a("tr",[a("td",{staticClass:"td-align-right"},[e._v("Tipo Servicio:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.tipoServicio))]),a("td",{staticClass:"td-align-right"},[e._v("Servicio:")]),a("td",{staticClass:"td-align-left"},[e._v(" "+e._s(o.servicio)+" ")])])])]),a("font",{attrs:{size:"2"}},[a("table",{staticClass:"styled-table",staticStyle:{width:"100%"}},[a("thead",[a("tr",[a("th",{staticStyle:{width:"5%"}},[e._v("CANTIDAD.")]),a("th",{staticStyle:{width:"65%"}},[e._v("CONCEPTO.")]),a("th",{staticStyle:{width:"15%"}},[e._v("MONTO UNIT.")]),a("th",{staticStyle:{width:"15%"}},[e._v("SUB-TOTAL.")])])]),a("tbody",e._l(o.conceptoLisit,(function(t,o){return a("tr",{key:o,class:o%2==0?"active-row":""},[a("td",{staticStyle:{width:"5%"}},[e._v(e._s(t.cantidad))]),a("td",{staticStyle:{width:"65%"}},[e._v(e._s(t.concepto))]),a("td",{staticStyle:{width:"15%"},attrs:{align:"center"}},[e._v(" "+e._s(t.montoUnitario)+" ")]),a("td",{staticStyle:{width:"15%"},attrs:{align:"center"}},[e._v(" "+e._s(t.subTotal)+" ")])])})),0),a("tfoot",[a("tr",{staticClass:"styled-footer"},[a("td",{attrs:{colspan:"2"}}),a("td",[a("b",[e._v("TOTAL")])]),a("td",{attrs:{align:"center"}},[a("b",[e._v(e._s(o.total))])])])])])])]}}])})],1)],1)],1),a("a-modal",{attrs:{closable:!1,confirmLoading:!0,mask:!0,maskClosable:!1},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("template",{slot:"footer"},[a("a-button",{key:"submit",attrs:{type:"primary",disabled:e.buttonModal},on:{click:e.handleOk}},[e._v(" Aceptar ")])],1),e.sucess?a("div",{staticClass:"div"},[a("div",{staticClass:"spin"},[a("a-icon",{attrs:{type:"check-circle",theme:"twoTone","two-tone-color":"#52c41a"}})],1),a("a-alert",{attrs:{message:"Su archivo fue procesado con éxito.",description:"Todos los registros del archivo fueron procesados y almacenados correctamente.",type:"success","show-icon":""}})],1):e._e(),e.info?a("div",[a("div",{staticClass:"spin"},[a("a-spin",{attrs:{size:"large",tip:"Procesando..."}})],1),a("a-alert",{attrs:{message:"Procesando información del archivo.",description:"Esta operación puede tardar varios minutos dependiendo de la cantidad de registros en el archivo, por favor no salga ni actualice esta aplicación.",type:"info","show-icon":""}})],1):e._e(),e.error?a("div",[a("div",{staticClass:"spin"},[a("a-icon",{attrs:{type:"close-circle",theme:"twoTone","two-tone-color":"#F64155"}})],1),a("a-alert",{attrs:{message:"El archivo no pudo ser procesado.",description:"Verifique el detalle de los errores y/o las causas que provocaron que el archivo no pueda ser procesado.",type:"error","show-icon":""}}),a("div",{staticClass:"desc"},[a("p",[a("a-icon",{style:{color:"red"},attrs:{type:"close-circle"}}),e._v(" "+e._s(e.mensaje)+" ")],1),a("p",[a("a-icon",{style:{color:"red"},attrs:{type:"close-circle"}}),e._v(" "+e._s(e.detalle)+" ")],1)])],1):e._e()],2)],1)},se=[],ne=(a("d81d"),a("fb6a"),a("2909")),re={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},processFile:function(e){return E().post("api/deudaCliente/processFile/".concat(e),{},this.headersConfig())},findDeudasClientesByArchivoId:function(e,t,a){return E().get("api/deudaCliente/findDeudasClientesByArchivoId/".concat(e,"/").concat(t,"/").concat(a),this.headersConfig())}},le=[{title:"DEUDA DE LOS CLIENTES",dataIndex:"archivoId",scopedSlots:{customRender:"archivoId"}}],ce={data:function(){return{fileList:[],info:!1,sucess:!1,error:!1,visible:!1,disableUpload:!1,mensaje:"",detalle:"",archivo:{},paramBusqueda:"",data:[],columns:le,defaultPageSize:0,total:0,pagination:{},mensajeUpload:"",tipoMensaje:"",booleanMensjae:!1,titutloMensaje:"",url:"https://quickpay.com.bo:7080/api/deudaCliente/upload",token:"",buttonProcesar:!0,buttonModal:!0,showUpload:!0,loadingTable:!1}},created:function(){var e=this;this.token=localStorage.getItem("token"),this.pagination={total:this.total,onChange:function(t){e.findDeudasClientesByArchivoId(e.archivo.archivoId,t,e.paramBusqueda)}}},methods:{handleClick:function(){this.showUpload=!0,this.booleanMensjae=!1},handleChange:function(e){var t=e.file.status,a=Object(ne["a"])(e.fileList);a=a.slice(-1),a=a.map((function(e){return e.response&&(e.url=e.response.url),e})),this.fileList=a,"done"===t?(this.disableUpload=!1,this.archivo=e.file.response.archivo,this.mensajeUpload=e.file.response.mensaje,this.tipoMensaje="success",this.booleanMensjae=!0,this.titutloMensaje="Éxito",this.buttonProcesar=!1,this.showUpload=!1,this.data=[]):"error"===t&&(this.mensajeUpload=e.file.response.mensaje,this.tipoMensaje="warning",this.titutloMensaje="Error",this.booleanMensjae=!0,this.buttonProcesar=!0,this.showUpload=!0)},showConfirmProcearArchivo:function(){var e=this;this.$createElement;this.$confirm({title:"¿Está seguro de procesar el archivo, no podrá revertir esta acción?",content:function(e){return e("div",["Al procesar los registros del archivo estos se guardarán y se eliminarán los registros anteriores."])},okText:"Aceptar",okType:"primary",cancelText:"Cancelar",onOk:function(){e.procesarArchivo()}})},procesarArchivo:function(){var e=this;this.visible=!0,this.info=!0,this.sucess=!1,this.error=!1,this.buttonModal=!0,re.processFile(this.archivo.archivoId).then((function(t){e.info=!1,e.sucess=!0,e.error=!1,e.buttonModal=!1,e.buttonProcesar=!0,e.findDeudasClientesByArchivoId(e.archivo.archivoId,1,"")})).catch((function(t){e.mensaje=t.response.data.mensaje,e.detalle=t.response.data.detalle,e.info=!1,e.sucess=!1,e.error=!0,e.buttonModal=!1}))},findDeudasClientesByArchivoId:function(e,t,a){var o=this;this.loadingTable=!0,re.findDeudasClientesByArchivoId(e,t,a).then((function(e){o.pagination.pageSize=e.data.data.numberOfElements,o.pagination.total=e.data.data.totalElements,o.data=e.data.data.content,o.loadingTable=!1})).catch((function(e){o.data=[],o.loadingTable=!1}))},onSearch:function(){this.data=[],this.loadingTable=!0,this.findDeudasClientesByArchivoId(this.archivo.archivoId,1,this.paramBusqueda)},handleOk:function(e){this.visible=!1}}},de=ce,ue=(a("0cf2"),Object(f["a"])(de,ie,se,!1,null,null,null)),me=ue.exports,pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head"},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#08632D"}},[e._v(" LISTA DE ARCHIVOS CARGADOS. ")])])])],1),a("a-divider",{attrs:{orientation:"left"}},[e._v("Busqueda")]),a("a-row",{attrs:{type:"flex",justify:"center"}},[a("a-form",{attrs:{layout:"inline","label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-form-item",{attrs:{label:"Fecha Inicio :"}},[a("a-date-picker",{attrs:{format:"DD/MM/YYYY ",locale:e.locale},model:{value:e.formBusqueda.fechaInicio,callback:function(t){e.$set(e.formBusqueda,"fechaInicio",t)},expression:"formBusqueda.fechaInicio"}})],1),a("a-form-item",{attrs:{label:"Fecha Fin :"}},[a("a-date-picker",{attrs:{format:"DD/MM/YYYY",locale:e.locale},model:{value:e.formBusqueda.fechaFin,callback:function(t){e.$set(e.formBusqueda,"fechaFin",t)},expression:"formBusqueda.fechaFin"}})],1)],1)],1),a("a-row",{attrs:{type:"flex",justify:"center"}},[a("a-form",{attrs:{layout:"inline"}},[a("a-form-item",{attrs:{label:"Estado :"}},[a("a-radio-group",{attrs:{"default-value":"ACTIVO","button-style":"solid"},model:{value:e.formBusqueda.estado,callback:function(t){e.$set(e.formBusqueda,"estado",t)},expression:"formBusqueda.estado"}},[a("a-radio-button",{attrs:{value:"null"}},[e._v(" Todos ")]),a("a-radio-button",{attrs:{value:"ACTIVO"}},[e._v(" Activo ")]),a("a-radio-button",{attrs:{value:"DESACTIVO"}},[e._v(" Inactivo ")]),a("a-radio-button",{attrs:{value:"FALLIDO"}},[e._v(" Fallidos ")])],1)],1)],1)],1),a("br"),a("a-row",{attrs:{type:"flex",justify:"center",align:"top",gutter:16}},[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"dashed",block:""},on:{click:function(t){return e.limpiar()}}},[a("span",[a("a-icon",{attrs:{type:"undo"}}),e._v(" Limpiar ")],1)])],1),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"primary",block:""},on:{click:function(t){return e.findArchivos(1)}}},[a("span",[a("a-icon",{attrs:{type:"search"}}),e._v(" Buscar ")],1)])],1)],1)],1),a("a-card",{staticStyle:{width:"100%"}},[a("a-divider",{attrs:{orientation:"left"}},[e._v("Datos de los Archivos")]),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,pagination:e.pagination,align:"center",loading:e.loadingTable},scopedSlots:e._u([{key:"nombre",fn:function(t,o){return[a("a",{on:{click:function(t){return e.getCsv(o.archivoId,o.nombre)}}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"download"}}),e._v(" 一 "+e._s(o.nombre))],1)]}},{key:"estado",fn:function(t,o){return["ACTIVO"==o.estado?a("div",[a("a-tag",{attrs:{color:"green"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"file-protect"}}),a("a",{on:{click:function(t){return e.showModal(o.archivoId)}}},[e._v("ACTIVO")])],1)],1):e._e(),"DESACTIVO"==o.estado?a("div",[a("a-tag",{attrs:{color:"blue"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"inbox"}}),a("a",{on:{click:function(t){return e.showModal(o.archivoId)}}},[e._v("INACTIVO")])],1)],1):e._e(),"FALLIDO"==o.estado?a("div",[a("a-tag",{attrs:{color:"red"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"exception"}}),a("a",[e._v("FALLIDO")])],1)],1):e._e()]}},{key:"reporte",fn:function(t,o){return[a("a-button",{style:{fontSize:"20px"},attrs:{type:"link",icon:"printer"},on:{click:function(t){return e.showModalReportes(o.archivoId)}}})]}}])})],1),a("a-modal",{attrs:{title:"Ver detalle del archivo"},on:{ok:e.closeModal},model:{value:e.visibleModal,callback:function(t){e.visibleModal=t},expression:"visibleModal"}},[a("a-row",[a("a-col",{attrs:{span:6}},[a("a-icon",{style:{fontSize:"105px",color:"#8EBDF5"},attrs:{type:"question-circle"}})],1),a("a-col",{attrs:{span:18}},[a("a-alert",{attrs:{message:"Ver detalle del archivo.",description:"¿Quiere ingresar al detalle do los registros de las deudas enviadas en este archivo?",type:"info"}})],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){return e.closeModal()}}},[e._v(" Cancelar ")]),a("a-button",{key:"submit",attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.ingresarDetalleArchivo()}}},[e._v(" Aceptar ")])],1)],2),a("a-modal",{attrs:{title:"Imprimir tipo de reporte"},on:{ok:e.closeModal},model:{value:e.visibleModalForm,callback:function(t){e.visibleModalForm=t},expression:"visibleModalForm"}},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-alert",{attrs:{message:"Seleccione el estado y el tipo de tipo de reporte que desea imprimir.",type:"info","show-icon":""}})],1)],1),a("a-row",[a("a-form",{attrs:{"label-col":{span:10},"wrapper-col":{span:12}}},[a("a-form-item",{attrs:{label:"Imprimir reporte de deudas :"}},[a("a-select",{model:{value:e.formBusqueda.estado,callback:function(t){e.$set(e.formBusqueda,"estado",t)},expression:"formBusqueda.estado"}},[a("a-select-option",{attrs:{value:"All"}},[e._v(" TODS LOS ESTADOS ")]),e._l(e.estadoList,(function(t){return a("a-select-option",{key:t.estadoId,attrs:{value:t.estadoId}},[e._v(" "+e._s(t.estado)+" ")])}))],2)],1),a("a-form-item",{attrs:{label:"Entidad Recaudadora :"}},[a("a-select",{model:{value:e.formBusqueda.recaudadorId,callback:function(t){e.$set(e.formBusqueda,"recaudadorId",t)},expression:"formBusqueda.recaudadorId"}},[a("a-select-option",{attrs:{value:"0"}},[e._v(" TODS LAS SOCIOS ESTRATEGICOS ")]),e._l(e.recaudadoresList,(function(t){return a("a-select-option",{key:t.recaudadorId,attrs:{value:t.recaudadorId}},[e._v(e._s(t.nombre))])}))],2)],1),a("a-form-item",{attrs:{label:"Formato del Reporte :"}},[a("a-select",{model:{value:e.formBusqueda.formato,callback:function(t){e.$set(e.formBusqueda,"formato",t)},expression:"formBusqueda.formato"}},e._l(e.tipoReporteList,(function(t){return a("a-select-option",{key:t.dominioId,attrs:{value:t.abreviatura}},[e._v(e._s(t.descripcion))])})),1)],1)],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){return e.closeModal()}}},[e._v(" Cancelar ")]),a("a-button",{key:"submit",attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.generarReporte()}}},[e._v(" Aceptar ")])],1)],2),a("a-modal",{attrs:{title:"Reporte Generado",width:"800px","dialog-style":{top:"20px"}},on:{ok:e.closeModal},model:{value:e.visibleModalReporte,callback:function(t){e.visibleModalReporte=t},expression:"visibleModalReporte"}},[a("iframe",{staticStyle:{width:"100%",height:"400px"},attrs:{src:e.urlReporte}}),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalReporte=!1}}},[e._v(" Cerrar ")])],1)],2)],1)},fe=[],he=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("c1df")),ge=a.n(he),be=(a("898b"),{headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},findArchivos:function(e,t,a,o){return t="Invalid date"==t||"null"==t||null==t?ge()("01/01/2021","DD/MM/YYYY"):ge()(t,"DD/MM/YYYY"),a="Invalid date"==a||"null"==a||null==a?ge()("01/01/2100","DD/MM/YYYY"):ge()(a,"DD/MM/YYYY"),""==o&&(o="null"),E().get("api/historicoDeuda/findArchivos/".concat(e,"/").concat(t,"/").concat(a,"/").concat(o),this.headersConfig())},findDeudasArchivoHistorico:function(e,t,a){return E().get("api/historicoDeuda/groupByDeudasClientes/".concat(e,"/").concat(t,"/").concat(a),this.headersConfig())},findDominioByDominio:function(){return E().get("api/dominio/findByDominio/tipo_reporte_id",this.headersConfig())},getEstadoHistoricos:function(){return E().get("api/historicoDeuda/findEstadoHistorico",this.headersConfig())},getRecaudadoresByEntidad:function(){return E().get("api/recaudadores/findRecaudadoresByEntidadId",this.headersConfig())},getCsv:function(e){return E().get("api/historicoDeuda/getCsv/".concat(e),{responseType:"arraybuffer",headers:{Accept:"text/csv",Authorization:"Bearer "+localStorage.getItem("token")}})}}),ve=a("e8b9"),ye=[{title:"Nombre Archivo",dataIndex:"nombre",width:"25%",scopedSlots:{customRender:"nombre"}},{title:"Usuario",dataIndex:"usuarioCreacion",width:"25%"},{title:"Fecha de Cargado.",dataIndex:"fechaCreacion",width:"15%"},{title:"Cantidad Registros",dataIndex:"nroRegistros",width:"15%",align:"center"},{title:"Estado",dataIndex:"estado",width:"10%",scopedSlots:{customRender:"estado"}}],Ce={data:function(){return{locale:ve["a"],labelCol:{xs:{span:24},sm:{span:8},md:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16},md:{span:16}},data:[],pagination:{},page:1,total:0,loading:!1,columns:ye,moment:ge.a,visibleModal:!1,archivoId:null,visibleModalForm:!1,tipoReporteList:[],estadoList:[],formBusqueda:{archivoId:null,estado:"ACTIVO",recaudadorId:null,formato:null},urlReporte:null,visibleModalReporte:!1,url:null,recaudadoresList:[],loadingTable:!1}},created:function(){var e=this;this.findArchivos(1),this.getEstadoHistoricos(),this.pagination={total:this.total,onChange:function(t){e.findArchivos(t)}}},methods:{findArchivos:function(e){var t=this;this.loadingTable=!0,this.data=[],be.findArchivos(e,this.formBusqueda.fechaInicio,this.formBusqueda.fechaFin,this.formBusqueda.estado).then((function(e){t.pagination.pageSize=e.data.data.numberOfElements,t.pagination.total=e.data.data.totalElements,t.data=e.data.data.content,t.loadingTable=!1})).catch((function(e){t.data=[],t.loadingTable=!1}))},showModal:function(e){this.visibleModal=!0,this.archivoId=e},closeModal:function(){this.visibleModal=!1,this.archivoId=null},ingresarDetalleArchivo:function(){this.$router.push({path:"/HistoricoDeudasDetalle/"+this.archivoId})},limpiar:function(){this.formBusqueda.fechaInicio=null,this.formBusqueda.fechaFin=null,this.formBusqueda.estado="ACTIVO",this.findArchivos(1)},showModalReportes:function(e){this.visibleModalForm=!0,this.archivoId=e},getEstadoHistoricos:function(){var e=this;be.getEstadoHistoricos().then((function(t){e.estadoList=t.data.data})).catch((function(t){e.estadoList=[]}))},getCsv:function(e,t){var a=this;be.getCsv(e).then((function(e){a.forceFileDownload(e,t)})).catch((function(e){}))},forceFileDownload:function(e,t){var a=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=a,o.setAttribute("download","".concat(t)),document.body.appendChild(o),o.click()}}},xe=Ce,Ee=(a("8446"),Object(f["a"])(xe,pe,fe,!1,null,null,null)),Re=Ee.exports,we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("a-page-header",{staticClass:"a-page-header",attrs:{title:"DETALLE DE ARCHIVO SELECCIONADO."},on:{back:function(t){return e.back()}}}),a("br"),a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"Introduzca texto de búsqueda","enter-button":""},on:{search:function(t){return e.findDeudasArchivoHistorico(1)}},model:{value:e.paramBusqueda,callback:function(t){e.paramBusqueda=t},expression:"paramBusqueda"}})],1),a("br"),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,bordered:"",pagination:e.pagination,showHeader:!1},scopedSlots:e._u([{key:"archivoId",fn:function(t,o){return[a("table",{staticClass:"styled-header",staticStyle:{width:"100%","background-color":"#f2f0ef"}},[a("tr",[a("td",{staticClass:"td-align-right"},[e._v("Código de Cliente:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.codigoCliente))]),a("td",{staticClass:"td-align-right"},[e._v("Nro. Documento:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.nroDocumento))])]),a("tr",[a("td",{staticClass:"td-align-right"},[e._v("Nombre de Cliente:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.nombreCliente))]),a("td",{staticClass:"td-align-right"},[e._v("Teléfono:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.telefono))])]),a("tr",[a("td",{staticClass:"td-align-right"},[e._v("Dirección:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.direccion))]),a("td",{staticClass:"td-align-right"},[e._v("Nit:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.nit))])]),a("tr",[a("td",{staticClass:"td-align-right"},[e._v("Periodo:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.periodo))]),a("td",{staticClass:"td-align-right"},[e._v("Tipo de Pago:")]),a("td",{staticClass:"td-align-left"},[o.esPostpago?a("div",[e._v("POSTPAGO")]):a("div",[e._v("PREPAGO")])])])]),a("a-divider",{staticStyle:{color:"#89136b"},attrs:{orientation:"left"}},[e._v("Detalle")]),a("table",{staticClass:"styled-table",staticStyle:{width:"100%"}},[a("thead",[a("tr",[a("th",{staticStyle:{width:"5%"}},[e._v("CANTIDAD.")]),a("th",{staticStyle:{width:"65%"}},[e._v("CONCEPTO.")]),a("th",{staticStyle:{width:"15%"}},[e._v("MONTO UNIT.")]),a("th",{staticStyle:{width:"15%"}},[e._v("SUB-TOTAL.")])])]),a("tbody",e._l(o.conceptoLisit,(function(t,o){return a("tr",{key:o,class:o%2==0?"active-row":""},[a("td",{staticStyle:{width:"5%"}},[e._v(e._s(t.cantidad))]),a("td",{staticStyle:{width:"65%"}},[e._v(e._s(t.concepto))]),a("td",{staticStyle:{width:"15%"},attrs:{align:"center"}},[e._v(" "+e._s(t.montoUnitario)+" ")]),a("td",{staticStyle:{width:"15%"},attrs:{align:"center"}},[e._v(e._s(t.subTotal))])])})),0),a("tfoot",[a("tr",{staticClass:"styled-footer"},[a("td",{attrs:{colspan:"2"}}),a("td",[a("b",[e._v("TOTAL")])]),a("td",{attrs:{align:"center"}},[a("b",[e._v(e._s(o.total))])])])])])]}}])})],1)],1)},Ie=[],ke=[{title:"DEUDA DE LOS CLIENTES",dataIndex:"archivoId",scopedSlots:{customRender:"archivoId"}}],_e={data:function(){return{paramBusqueda:"",data:[],columns:ke,pagination:{},total:0,archivoId:null,page:1}},created:function(){var e=this;this.archivoId=this.$route.params.archivoId,this.findDeudasArchivoHistorico(1),this.pagination={total:this.total,onChange:function(t){e.findDeudasArchivoHistorico(t)}}},methods:{findDeudasArchivoHistorico:function(e){var t=this;be.findDeudasArchivoHistorico(this.archivoId,e,this.paramBusqueda).then((function(e){t.pagination.pageSize=e.data.data.numberOfElements,t.pagination.total=e.data.data.totalElements,t.data=e.data.data.content})).catch((function(e){}))},back:function(){this.$router.back()}}},Ae=_e,Se=(a("c3fd"),Object(f["a"])(Ae,we,Ie,!1,null,null,null)),De=Se.exports,Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("a-page-header",{staticClass:"a-page-header",attrs:{title:"REPORTE DE ENTIDAD"},on:{back:function(t){return e.back()}}}),a("a-divider",{attrs:{orientation:"left"}},[e._v("Busqueda")]),a("a-row",{staticStyle:{width:"100%"}},[a("a-form",{attrs:{layout:"inline"}},[a("a-form-item",{attrs:{label:"Fecha Inicio :","label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-date-picker",{attrs:{format:"DD/MM/YYYY ",locale:e.locale},model:{value:e.formBusqueda.fechaInicio,callback:function(t){e.$set(e.formBusqueda,"fechaInicio",t)},expression:"formBusqueda.fechaInicio"}})],1),a("a-form-item",{attrs:{label:"Fecha Fin :","label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-date-picker",{attrs:{format:"DD/MM/YYYY",locale:e.locale},model:{value:e.formBusqueda.fechaFin,callback:function(t){e.$set(e.formBusqueda,"fechaFin",t)},expression:"formBusqueda.fechaFin"}})],1)],1)],1),a("a-row",[a("a-form",{attrs:{layout:"inline"}},[a("a-form-item",{attrs:{label:"Recaudador :","label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"Seleccione el estado","option-filter-prop":"children"},model:{value:e.formBusqueda.recaudadorId,callback:function(t){e.$set(e.formBusqueda,"recaudadorId",t)},expression:"formBusqueda.recaudadorId"}},[a("a-select-option",{attrs:{value:"null"}},[e._v(" TODOS LAS RECAUDADORAS ")]),a("a-select-option",{attrs:{value:"1"}},[e._v(" BANCO FIES ")]),a("a-select-option",{attrs:{value:"3"}},[e._v(" BANCO BNB ")])],1)],1),a("a-form-item",{attrs:{label:"Estado :","label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"Select a person","option-filter-prop":"children"},model:{value:e.formBusqueda.estado,callback:function(t){e.$set(e.formBusqueda,"estado",t)},expression:"formBusqueda.estado"}},[a("a-select-option",{attrs:{value:"null"}},[e._v(" TODOS LOS ESTADOS ")]),a("a-select-option",{attrs:{value:"ACTIVO"}},[e._v(" ACTIVO ")]),a("a-select-option",{attrs:{value:"DESACTIVO"}},[e._v(" DESACTIVADO ")]),a("a-select-option",{attrs:{value:"FALLIDO"}},[e._v(" FALLIDOS ")])],1)],1)],1)],1),a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("a-button",{attrs:{type:"link",icon:"undo"},on:{click:function(t){return e.limpiar()}}},[e._v(" Limpiar ")]),a("a-button",{attrs:{type:"link",icon:"search"},on:{click:function(t){return e.chartOption()}}},[e._v(" Buscar ")]),a("a-button",{attrs:{type:"link",icon:"search"}},[e._v(" Imprimir ")])],1)],2),a("a-card",{staticStyle:{width:"100%"}},[a("a-divider",{attrs:{orientation:"left"}},[e._v("CANTIDAD DE DEUDAS COBRADAS POR DÍA.")]),a("a-row",[a("a-col",[a("GChart",{staticStyle:{width:"100%",height:"600px"},attrs:{type:"LineChart",data:e.chartLinealData,options:e.chartLinealOptions.chart}})],1)],1),a("a-divider",{attrs:{orientation:"left"}},[e._v("CANTIDAD DE SERVICIOS PAGADOS.")]),a("a-row",{attrs:{type:"flex",justify:"center"}},[a("a-col",[a("GChart",{staticStyle:{width:"100%",height:"400px"},attrs:{type:"PieChart",data:e.pieChartData,options:e.pieChartOptions.chart}})],1)],1),a("a-divider",{attrs:{orientation:"left"}},[e._v("CANTIDAD DE TIPO DE SERVICIOS PAGADOS .")]),a("a-row",{attrs:{type:"flex",justify:"center"}},[a("a-col",[a("GChart",{staticStyle:{width:"100%",height:"400px"},attrs:{type:"PieChart",data:e.columnChartData,options:e.columnChartOptions.chart}})],1)],1)],1)],1)},Te=[],Le=a("ade3"),Be=(o={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},findDeudasByParameterForReport:function(e){return E().post("api/ReportEntidad/findDeudasByParameter",e,this.headersConfig())},getEstadoHistoricos:function(){return E().get("api/historicoDeuda/findEstadoHistorico",this.headersConfig())},getRecaudadoresByEntidad:function(){return E().get("api/recaudadores/findRecaudadoresByEntidadId",this.headersConfig())},openModalGenerarReporte:function(e){return E().post("api/ReportEntidad/findDeudasByParameterForReport",e,{responseType:"arraybuffer",headers:{Accept:"application/pdf",Authorization:"Bearer "+localStorage.getItem("token")}})},findArchivos:function(e,t,a,o){return t="Invalid date"==t||"null"==t||null==t?ge()("01/01/2021","DD/MM/YYYY"):ge()(t,"DD/MM/YYYY"),a="Invalid date"==a||"null"==a||null==a?ge()("01/01/2100","DD/MM/YYYY"):ge()(a,"DD/MM/YYYY"),""==o&&(o="null"),E().get("api/ReportEntidad/findArchivos/".concat(e,"/").concat(t,"/").concat(a,"/").concat(o),this.headersConfig())},findDominioByDominio:function(){return E().get("api/dominios/findByDominio/tipo_reporte_id",this.headersConfig())}},Object(Le["a"])(o,"getEstadoHistoricos",(function(){return E().get("api/historicoDeuda/findEstadoHistorico",this.headersConfig())})),Object(Le["a"])(o,"getRecaudadoresByEntidad",(function(){return E().get("api/recaudadores/findRecaudadoresByEntidadId",this.headersConfig())})),Object(Le["a"])(o,"openReportesPorArchivo",(function(e){var t="api/ReportEntidad/findDeudasByArchivoIdAndEstado/".concat(e.archivoId,"/").concat(e.export);return E().get(t,{responseType:"arraybuffer",headers:{Accept:"application/pdf",Authorization:"Bearer "+localStorage.getItem("token")}})})),Object(Le["a"])(o,"downloaArchivo",(function(e){return E().post("api/ReportLaRazon/downloaArchivo",e,{responseType:"arraybuffer",headers:{Accept:"text/csv",Authorization:"Bearer "+localStorage.getItem("token")}})})),o),Me={data:function(){return{locale:ve["a"],moment:ge.a,labelCol:{xs:{span:24},sm:{span:8},md:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16},md:{span:16}},formBusqueda:{entidadId:null,recaudadorId:null,fechaInicio:null,fechaFin:null,estado:null},chartLinealWatch:!1,chartLinealData:null,chartLinealOptions:{chart:{curveType:"function"}},pieChartWatch:!1,pieChartData:null,pieChartOptions:{chart:{}},columnChartWatch:!1,columnChartData:null,columnChartOptions:{chart:{}}}},created:function(){this.formBusqueda.entidadId=1,this.chartOption()},methods:{chartOption:function(){this.getLinealChart(),this.getPieChart(),this.getColumnChart()},getLinealChart:function(){var e=this;this.chartLinealWatch=!0,Be.linealChart(this.formBusqueda).then((function(t){e.chartLinealData=t.data.data})).catch((function(e){}))},getPieChart:function(){var e=this;this.pieChartWatch=!0,Be.pieChart(this.formBusqueda).then((function(t){e.pieChartData=t.data.data})).catch((function(e){}))},getColumnChart:function(){var e=this;this.pieChartWatch=!0,Be.columnChart(this.formBusqueda).then((function(t){e.columnChartData=t.data.data})).catch((function(e){}))}}},je=Me,Fe=(a("fd49"),Object(f["a"])(je,Oe,Te,!1,null,null,null)),Pe=Fe.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticStyle:{border:"2px solid #21618c","border-radius":"5px",height:"100%",width:"100%",padding:"1%",color:"#21618c"}},[a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("h2",[a("b",{staticStyle:{color:"#21618c"}},[a("a-icon",{attrs:{type:"arrow-left"},on:{click:function(t){return e.$router.back()}}}),e._v(" "+e._s(e.title))],1)])]),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:14,xl:14}},[a("a-row",{attrs:{type:"flex",justify:"space-between"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[e.displayCliente?e._e():a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Campo de Búsqueda",size:"small"},on:{change:function(t){return e.resetSearch(e.campoBusquedaCliente)}},model:{value:e.campoBusquedaCliente,callback:function(t){e.campoBusquedaCliente=t},expression:"campoBusquedaCliente"}},e._l(e.lstCamposBusqueda,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:16,xl:16,align:"right"}},[e.displayCliente?e._e():a("a-input-search",{attrs:{placeholder:e.placeholderBC,"enter-button":" Buscar",maxLength:15,size:"small"},on:{search:e.buscar},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e.displayCliente?a("a-button",{attrs:{type:"primary",size:"small"},on:{click:e.reload}},[e._v(" Nueva Búsqueda ")]):e._e()],1)],1)],1)],1)],1),a("br"),e.displayCliente?e._e():a("div",[a("a-table",{attrs:{columns:e.columns,"data-source":e.lstClientes,rowKey:"codigoCliente",locale:{emptyText:"No hay data"},scroll:{x:350},pagination:e.pagination,loading:e.loading},scopedSlots:e._u([{key:"name",fn:function(t){return a("a",{},[e._v(e._s(t))])}},{key:"COBRAR",fn:function(t,o){return a("span",{},[a("a-button",{attrs:{type:"danger",block:"",size:"small"},on:{click:function(t){return e.mostrarDeudas(o)}}},[e._v("Ver Deudas"),a("a-icon",{attrs:{type:"export"}})],1)],1)}}],null,!1,3450215873)})],1),e.displayCliente?a("a-row",{staticStyle:{padding:"0px",margin:"0px",border:"0px"}},[a("div",{staticStyle:{width:"100%"},attrs:{id:"components-form-demo-advanced-search"}},[a("a-form-model",{ref:"ruleForm",staticClass:"ant-advanced-search-form",staticStyle:{padding:"7px",margin:"0px",border:"0px"},attrs:{model:e.clienteDto,rules:e.rules,size:"small"}},[a("a-row",{staticStyle:{padding:"0px",margin:"0px",border:"0px"}},[a("a-col",{staticStyle:{padding:"0px",margin:"0px",border:"0px"},attrs:{xs:24,sm:24,md:24,lg:6,xl:6}},[a("a-form-model-item",{ref:"nroDocumento",staticStyle:{padding:"0px",margin:"0px"},attrs:{label:"CI/NIT :","label-col":{span:10},"wrapper-col":{span:14},prop:"nroDocumento"}},[a("a-input",{attrs:{maxLength:12,disabled:e.editCi,size:"small"},on:{blur:function(){e.$refs.nroDocumento.onFieldBlur()}},model:{value:e.clienteDto.nroDocumento,callback:function(t){e.$set(e.clienteDto,"nroDocumento",t)},expression:"clienteDto.nroDocumento"}},[a("a-icon",{attrs:{slot:"addonAfter",type:"edit"},on:{click:function(t){e.editCi=!e.editCi}},slot:"addonAfter"})],1)],1)],1),a("a-col",{staticStyle:{padding:"0px",margin:"0px",border:"0px"},attrs:{xs:24,sm:24,md:24,lg:12,xl:12}},[a("a-form-model-item",{ref:"nombreCliente",staticStyle:{padding:"0px",margin:"0px",border:"0px"},attrs:{label:"Nombre Cliente:","label-col":{span:10},"wrapper-col":{span:14},prop:"nombreCliente"}},[a("a-input",{attrs:{maxLength:200,disabled:e.editNombre,size:"small"},on:{blur:function(){e.$refs.nombreCliente.onFieldBlur()}},model:{value:e.clienteDto.nombreCliente,callback:function(t){e.$set(e.clienteDto,"nombreCliente",t)},expression:"clienteDto.nombreCliente"}},[a("a-icon",{attrs:{slot:"addonAfter",type:"edit"},on:{click:function(t){e.editNombre=!e.editNombre}},slot:"addonAfter"})],1)],1)],1),a("a-col",{staticStyle:{padding:"0px",margin:"0px",border:"0px"},attrs:{xs:24,sm:24,md:24,lg:6,xl:6}},[a("a-form-model-item",{ref:"codigoCliente",staticStyle:{padding:"0px",margin:"0px",border:"0px"},attrs:{label:"Código Cliente:","label-col":{span:10},"wrapper-col":{span:14},prop:"codigoCliente"}},[a("a-input",{staticStyle:{"text-align":"left"},attrs:{maxLength:12,disabled:e.editcCdigoCliente},model:{value:e.clienteDto.codigoCliente,callback:function(t){e.$set(e.clienteDto,"codigoCliente",t)},expression:"clienteDto.codigoCliente"}})],1)],1)],1),a("a-row",{staticStyle:{padding:"0px",margin:"0px",border:"0px"}},[a("a-col",{staticStyle:{padding:"0px",margin:"0px",border:"0px"},attrs:{xs:24,sm:24,md:24,lg:6,xl:6}}),a("a-col",{staticStyle:{padding:"0px",margin:"0px",border:"0px"},attrs:{xs:24,sm:24,md:24,lg:12,xl:12}},[a("a-form-model-item",{ref:"correoCliente",staticStyle:{padding:"0px",margin:"0px",border:"0px"},attrs:{label:"Correo Cliente:","label-col":{span:10},"wrapper-col":{span:14},prop:"correoCliente"}},[a("a-input",{attrs:{maxLength:200,disabled:e.editCorreoCliente,size:"small"},on:{blur:function(){e.$refs.correoCliente.onFieldBlur()}},model:{value:e.clienteDto.correoCliente,callback:function(t){e.$set(e.clienteDto,"correoCliente",t)},expression:"clienteDto.correoCliente"}},[a("a-icon",{attrs:{slot:"addonAfter",type:"edit"},on:{click:function(t){e.editCorreoCliente=!e.editCorreoCliente}},slot:"addonAfter"})],1)],1)],1),a("a-col",{staticStyle:{padding:"0px",margin:"0px",border:"0px"},attrs:{xs:24,sm:24,md:24,lg:6,xl:6}})],1)],1)],1)]):e._e(),a("p"),e.displayCliente?a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:18,xl:18}},[a("div",[a("div",[a("a-row")],1),a("a-table",{attrs:{columns:e.columnsA,"data-source":e.lstServiciosDeudas,bordered:"","row-selection":e.rowSelectionS,pagination:!1,scroll:{x:600},loading:e.loadingServ},scopedSlots:e._u([{key:"key",fn:function(t,o){return[a("div",{staticClass:"grupo-tabla"},[a("a-row",[a("a-col",{staticStyle:{"padding-left":"5px","padding-right":"3px"},attrs:{xs:{span:24},sm:{span:6},md:{span:6},lg:{span:4}}},[a("b",[e._v("Tipo Servicio:")])]),a("a-col",{staticStyle:{"padding-right":"3px"},attrs:{xs:{span:24},sm:{span:6},md:{span:6},lg:{span:5}}},[e._v(" "+e._s(o.tipoServicio)+" ")]),a("a-col",{attrs:{xs:{span:24},sm:{span:6},md:{span:6},lg:{span:3}}},[a("b",[e._v("Servicio:")])]),a("a-col",{attrs:{xs:{span:24},sm:{span:6},md:{span:6},lg:{span:6}}},[e._v(" "+e._s(o.servicio)+" ")]),a("a-col",{attrs:{xs:{span:24},sm:{span:6},md:{span:3},lg:{span:3}}},[a("b",[e._v("Período:")])]),a("a-col",{attrs:{xs:{span:24},sm:{span:6},md:{span:5},lg:{span:3}}},[e._v(" "+e._s(o.periodo)+" ")])],1)],1),a("br"),a("table",{staticStyle:{}},[a("tr",[a("th",{staticStyle:{width:"10%"},attrs:{align:"rigth"}},[e._v("Cantidad")]),a("th",{staticStyle:{width:"50%"}},[e._v("Concepto")]),a("th",{staticClass:"th-amount"},[e._v("Monto Unit. (Bs)")]),a("th",{staticClass:"th-amount"},[e._v("Monto (Bs)")]),a("th",{staticStyle:{width:"5px"}})]),e._l(o.deudaClienteDtos,(function(t,i){return a("tr",{key:i},[a("td",{attrs:{align:"center"}},[e._v(e._s(t.cantidad))]),a("td",[e._v(e._s(t.concepto))]),a("td",{attrs:{align:"right"}},[a("money",e._b({staticClass:"ant-input",attrs:{disabled:!0,size:"small"},model:{value:t.montoUnitario,callback:function(a){e.$set(t,"montoUnitario",a)},expression:"deuda.montoUnitario"}},"money",e.money,!1))],1),t.editable&&o.editando?a("td",{attrs:{align:"right"}},[a("money",e._b({staticClass:"input-amount",nativeOn:{keydown:function(e){"-"===e.key&&e.preventDefault()},keyup:function(a){return e.sumSubTotal(o,t)}},model:{value:t.subTotal,callback:function(a){e.$set(t,"subTotal",a)},expression:"deuda.subTotal"}},"money",e.money,!1))],1):a("td",{attrs:{align:"right"}},[a("money",e._b({staticClass:"ant-input",attrs:{disabled:!0,max:"4"},model:{value:t.subTotal,callback:function(a){e.$set(t,"subTotal",a)},expression:"deuda.subTotal"}},"money",e.money,!1))],1),a("td",[0==t.subTotal?a("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e()])])})),a("tr",{staticClass:"subgrupo-tabla"},[a("td"),a("td"),a("td",{attrs:{align:"right"}},[a("div",{staticStyle:{"background-color":"#96C5CB"}},[a("b",[e._v("Sub Total (Bs)")])])]),a("td",{attrs:{align:"right"}},[a("money",e._b({staticClass:"ant-inputSum",attrs:{disabled:!0},model:{value:o.subTotal,callback:function(t){e.$set(o,"subTotal",t)},expression:"record.subTotal"}},"money",e.money,!1))],1),a("td",[o.editable?a("div",{staticStyle:{"background-color":"#96C5CB"},attrs:{align:"right"}},[a("a-button",{attrs:{type:"primary",size:"small",icon:"edit"},on:{click:function(e){o.editando=!0}}}),a("a-button",{attrs:{type:"primary",size:"small",icon:"undo"},on:{click:function(t){return e.resetear(o)}}})],1):e._e()])])],2)]}}],null,!1,3111012518)})],1)]),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:6,xl:6}},[a("div",{staticClass:"tablaTit"},[e._v(" TOTAL DEUDA A COBRAR ")]),a("div",{staticClass:"tabla"},[a("div",{staticClass:"grupo-tabla"},[a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12,align:"right"}},[a("b",[e._v("Total (Bs)")])]),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("money",e._b({staticClass:"ant-inputSum",attrs:{disabled:!0},model:{value:e.sumTotal,callback:function(t){e.sumTotal=t},expression:"sumTotal"}},"money",e.money,!1))],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12,align:"right"}},[a("b",[e._v("Efectivo (Bs)")])]),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("money",e._b({staticClass:"input-amount",attrs:{disabled:!e.selectedRowKeys.length>0},nativeOn:{keydown:function(e){"-"===e.key&&e.preventDefault()}},model:{value:e.efectivo,callback:function(t){e.efectivo=t},expression:"efectivo"}},"money",e.money,!1))],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12,align:"right"}},[a("b",[e._v("Cambio (Bs)")])]),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("money",e._b({staticClass:"ant-input",attrs:{disabled:!0},model:{value:e.cambio,callback:function(t){e.cambio=t},expression:"cambio"}},"money",e.money,!1))],1)],1)],1),a("br"),a("a-button",{staticStyle:{height:"50px"},attrs:{type:"danger",disabled:!e.selectedRowKeys.length>0,block:""},on:{click:e.confirmCobro}},[a("span",{style:{fontSize:"14px"}},[a("b",[a("a-icon",{style:{fontSize:"22px"},attrs:{type:"dollar"}}),e._v(" REALIZAR COBRO ")],1)])])],1)])],1):e._e(),a("a-modal",{attrs:{title:"","ok-text":"Cobrar","cancel-text":"Cancelar",width:"80%",centered:!0,closable:!1,maskClosable:!1,okButtonProps:{style:{color:"white",background:"#339966",border:"0px"}},cancelButtonProps:{style:{color:"white",background:"red",border:"0px"}}},on:{ok:e.cobrarDeudas,cancel:e.cancelCobro},model:{value:e.displayModal,callback:function(t){e.displayModal=t},expression:"displayModal"}},[a("a-row",{staticStyle:{"background-color":"#FAFAFA","padding-bottom":"10px","margin-bottom":"5px"}},[a("a-icon",{style:{fontSize:"2em"},attrs:{type:"question-circle",theme:"twoTone","two-tone-color":"#FAAD14"}}),a("b",[e._v(" ¿Está seguro de cobrar las deudas seleccionadas?")]),e._v(" (Comprobante "+e._s(e.entidadObj.comprobanteEnUno?"agrupado":"Por Transacción")+") ")],1),e.displayCliente?a("a-row",{staticStyle:{padding:"0px",margin:"0px",border:"0px"}},[a("div",{staticStyle:{width:"100%"},attrs:{id:"components-form-demo-advanced-search"}},[a("a-form",{staticClass:"ant-advanced-search-form",staticStyle:{padding:"7px",margin:"0px",border:"0px"}},[a("a-row",{staticStyle:{padding:"0px",margin:"0px",border:"0px"}},[a("a-col",{staticStyle:{padding:"0px",margin:"0px",border:"0px"},attrs:{xs:24,sm:24,md:24,lg:6,xl:6}},[a("a-form-item",{staticStyle:{padding:"0px",margin:"0px"},attrs:{label:"CI/NIT :","label-col":{span:10},"wrapper-col":{span:14}}},[a("a-input",{staticStyle:{color:"#418791","font-weight":"bold","text-align":"left"},attrs:{maxLength:12,disabled:!0},model:{value:e.clienteDto.nroDocumento,callback:function(t){e.$set(e.clienteDto,"nroDocumento",t)},expression:"clienteDto.nroDocumento"}})],1)],1),a("a-col",{staticStyle:{padding:"0px",margin:"0px",border:"0px"},attrs:{xs:24,sm:24,md:24,lg:12,xl:12}},[a("a-form-item",{staticStyle:{padding:"0px",margin:"0px",border:"0px"},attrs:{label:"Nombre Cliente:","label-col":{span:10},"wrapper-col":{span:14}}},[a("a-input",{staticStyle:{color:"#418791","font-weight":"bold","text-align":"left"},attrs:{maxLength:200,disabled:!0},model:{value:e.clienteDto.nombreCliente,callback:function(t){e.$set(e.clienteDto,"nombreCliente",t)},expression:"clienteDto.nombreCliente"}})],1)],1),a("a-col",{staticStyle:{padding:"0px",margin:"0px",border:"0px"},attrs:{xs:24,sm:24,md:24,lg:6,xl:6}},[a("a-form-item",{staticStyle:{padding:"0px",margin:"0px"},attrs:{label:"Código Cliente:","label-col":{span:10},"wrapper-col":{span:14}}},[a("a-input",{staticStyle:{"text-align":"left"},attrs:{maxLength:12,disabled:e.editcCdigoCliente},model:{value:e.clienteDto.codigoCliente,callback:function(t){e.$set(e.clienteDto,"codigoCliente",t)},expression:"clienteDto.codigoCliente"}})],1)],1)],1),a("a-row",{staticStyle:{padding:"0px",margin:"0px",border:"0px"}},[a("a-col",{staticStyle:{padding:"0px",margin:"0px",border:"0px"},attrs:{xs:24,sm:24,md:24,lg:6,xl:6}}),a("a-col",{staticStyle:{padding:"0px",margin:"0px",border:"0px"},attrs:{xs:24,sm:24,md:24,lg:12,xl:12}},[a("a-form-model-item",{ref:"correoCliente",staticStyle:{padding:"0px",margin:"0px",border:"0px"},attrs:{label:"Correo Cliente:","label-col":{span:10},"wrapper-col":{span:14},prop:"correoCliente"}},[a("a-input",{staticStyle:{color:"#418791","font-weight":"bold","text-align":"left"},attrs:{maxLength:200,disabled:!0},model:{value:e.clienteDto.correoCliente,callback:function(t){e.$set(e.clienteDto,"correoCliente",t)},expression:"clienteDto.correoCliente"}})],1)],1),a("a-col",{staticStyle:{padding:"0px",margin:"0px",border:"0px"},attrs:{xs:24,sm:24,md:24,lg:6,xl:6}})],1)],1)],1)]):e._e(),a("p"),e.displayCliente?a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:18,xl:18}},[a("div",[a("div",[a("a-row")],1),a("a-table",{attrs:{columns:e.columnsA,"data-source":e.clienteDto.servicioDeudaDtoList,bordered:"",pagination:!1,scroll:{x:500},loading:e.loadingServ,showHeader:!1},scopedSlots:e._u([{key:"key",fn:function(t,o){return[a("div",{staticClass:"grupo-tabla"},[a("a-row",[a("a-col",{staticStyle:{"padding-left":"5px","padding-right":"3px"},attrs:{xs:{span:24},sm:{span:6},md:{span:6},lg:{span:4}}},[a("b",[e._v("Tipo Servicio:")])]),a("a-col",{staticStyle:{"padding-right":"3px"},attrs:{xs:{span:24},sm:{span:6},md:{span:6},lg:{span:5}}},[e._v(" "+e._s(o.tipoServicio)+" ")]),a("a-col",{attrs:{xs:{span:24},sm:{span:6},md:{span:6},lg:{span:3}}},[a("b",[e._v("Servicio:")])]),a("a-col",{attrs:{xs:{span:24},sm:{span:6},md:{span:6},lg:{span:6}}},[e._v(" "+e._s(o.servicio)+" ")]),a("a-col",{attrs:{xs:{span:24},sm:{span:6},md:{span:3},lg:{span:3}}},[a("b",[e._v("Período:")])]),a("a-col",{attrs:{xs:{span:24},sm:{span:6},md:{span:5},lg:{span:3}}},[e._v(" "+e._s(o.periodo)+" ")])],1)],1),a("br"),a("table",{staticStyle:{}},[a("tr",[a("th",{staticStyle:{width:"10%"},attrs:{align:"rigth"}},[e._v("Cantidad")]),a("th",{staticStyle:{width:"50%"}},[e._v("Concepto")]),a("th",{staticClass:"th-amount"},[e._v("Monto Unit. (Bs)")]),a("th",{staticClass:"th-amount"},[e._v("Monto (Bs)")]),a("th",{staticStyle:{width:"5px"}})]),e._l(o.deudaClienteDtos,(function(t,o){return a("tr",{key:o},[a("td",{attrs:{align:"center"}},[e._v(e._s(t.cantidad))]),a("td",[e._v(e._s(t.concepto))]),a("td",{attrs:{align:"right"}},[a("money",e._b({staticClass:"ant-input",attrs:{disabled:!0,size:"small"},model:{value:t.montoUnitario,callback:function(a){e.$set(t,"montoUnitario",a)},expression:"deuda.montoUnitario"}},"money",e.money,!1))],1),a("td",{attrs:{align:"right"}},[a("money",e._b({staticClass:"ant-input",attrs:{disabled:!0},model:{value:t.subTotal,callback:function(a){e.$set(t,"subTotal",a)},expression:"deuda.subTotal"}},"money",e.money,!1))],1)])})),a("tr",{staticClass:"subgrupo-tabla"},[a("td"),a("td"),a("td",{attrs:{align:"right"}},[a("div",{staticStyle:{"background-color":"#96C5CB"}},[a("b",[e._v("Sub Total (Bs)")])])]),a("td",{attrs:{align:"right"}},[a("money",e._b({staticClass:"ant-inputSum",attrs:{disabled:!0},model:{value:o.subTotal,callback:function(t){e.$set(o,"subTotal",t)},expression:"record.subTotal"}},"money",e.money,!1))],1)])],2)]}}],null,!1,774252960)})],1)]),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:6,xl:6}},[a("div",{staticClass:"tabla"},[a("div",{staticClass:"grupo-tabla"},[a("a-row",[a("a-col",{attrs:{span:"15",align:"right"}},[a("b",[e._v("Total (Bs)")])]),a("a-col",{attrs:{span:"9"}},[a("money",e._b({staticClass:"ant-inputSum",attrs:{disabled:!0},model:{value:e.sumTotal,callback:function(t){e.sumTotal=t},expression:"sumTotal"}},"money",e.money,!1))],1)],1),a("a-row",[a("a-col",{attrs:{span:"15",align:"right"}},[a("b",[e._v("Efectivo (Bs)")])]),a("a-col",{attrs:{span:"9"}},[a("money",e._b({staticClass:"input-amount",attrs:{disabled:!e.selectedRowKeys.length>0},nativeOn:{keydown:function(e){"-"===e.key&&e.preventDefault()}},model:{value:e.efectivo,callback:function(t){e.efectivo=t},expression:"efectivo"}},"money",e.money,!1))],1)],1),a("a-row",[a("a-col",{attrs:{span:"15",align:"right"}},[a("b",[e._v("Cambio (Bs)")])]),a("a-col",{attrs:{span:"9"}},[a("money",e._b({staticClass:"ant-input",attrs:{disabled:!0},model:{value:e.cambio,callback:function(t){e.cambio=t},expression:"cambio"}},"money",e.money,!1))],1)],1)],1)])])],1):e._e()],1)],1),a("a-modal",{attrs:{title:"Documento Generado",width:"900px",height:"400px","dialog-style":{top:"20px"},closable:!0},on:{ok:function(t){e.visibleModalReporte=!1},cancel:function(t){e.link=null}},model:{value:e.visibleModalReporte,callback:function(t){e.visibleModalReporte=t},expression:"visibleModalReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center"}},[e.viewCargando?a("a-spin",{attrs:{size:"large",tip:"Cargando Factura...."}}):e._e(),a("iframe",{attrs:{width:"100%",height:"400px",src:this.link,frameborder:"0"}})],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:e.closeReporte}},[e._v(" Cerrar ")])],1)],2)],1)},qe=[],Ne=(a("caad"),a("13d5"),a("a9e3"),a("b680"),a("2532"),a("841c"),a("498a"),a("9911"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),{headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},cargarTiposEntidades:function(){return E().get("api/entidades/tipos",this.headersConfig())},cargarEntidades:function(e){return E().get("api/entidades/tipos/".concat(e),this.headersConfig())},cargarTodasEntidades:function(){return E().get("api/entidades/recaudadores",this.headersConfig())},cargarClientes:function(e,t){return E().get("api/entidades/".concat(e,"/clientes/").concat(t),this.headersConfig())},cargarServicioDeudas:function(e,t){return E().get("api/entidades/".concat(e,"/clientes/").concat(t,"/deudas"),this.headersConfig())},cobrarDeudas:function(e){return E().post("api/cobros",e,{responseType:"arraybuffer",headers:{Accept:"application/pdf",Authorization:"Bearer "+localStorage.getItem("token")}})},getCamposBusquedaDeudas:function(){return E().get("api/deudaCliente/camposdeudas",this.headersConfig())},getAllClientesByEntidadIdAndCampos:function(e,t,a){return E().get("api/entidades/".concat(e,"/clientes/").concat(t,"/").concat(a),this.headersConfig())}}),Ue={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},getEntidad:function(e){return E().get("api/entidades/".concat(e),this.headersConfig())},getLstEntidad:function(){return E().get("api/entidades",this.headersConfig())},postEntidad:function(e){return E().post("api/entidades",e,this.headersConfig())},putEntidadTransaccion:function(e,t){return E().put("api/entidades/".concat(e,"/").concat(t),{},this.headersConfig())},putLstEntidadTransaccion:function(e,t){return E().put("api/entidades/listas/".concat(t),e,this.headersConfig())},postEntidadRecaudador:function(e,t){return E().post("api/entidadesrecaudadores/entidades/".concat(t),e,this.headersConfig())},postLogo:function(e,t){return E().post("api/entidades/upload/logo/".concat(t),{file:e},this.headersConfig())},getLogo:function(e){return E().get("api/entidades/download/logo/".concat(e),this.headersConfig())}},ze=a("716b"),Ve={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},getDominiosLst:function(e){return E().get("api/facturas/dominios/".concat(e),this.headersConfig())},getDimensionesPlantillas:function(e){return E().get("api/facturas/dominios/dimensiones/".concat(e),this.headersConfig())}},Ge={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},getRecaudador:function(e){return E().get("api/recaudadores/".concat(e),this.headersConfig())},getLstRecaudadores:function(){return E().get("api/recaudadores",this.headersConfig())},postRecaudador:function(e){return E().post("api/recaudadores",e,this.headersConfig())},putRecaudadorTransaccion:function(e,t){return E().put("api/recaudadores/".concat(e,"/").concat(t),{},this.headersConfig())},putLstRecaudadorTransaccion:function(e,t){return E().put("api/recaudadores/listas/".concat(t),e,this.headersConfig())},postEntidadRecaudador:function(e,t){return E().post("api/entidadesrecaudadores/recaudadores/".concat(t),e,this.headersConfig())},getLstMetCobroByLogin:function(){return E().get("api/rec-metodos-cobros",this.headersConfig())}},Ye=[{title:"Código Cliente",dataIndex:"codigoCliente",key:"codigoCliente"},{title:"CI/NIT",dataIndex:"nroDocumento",key:"nroDocumento"},{title:"Nombre Cliente",dataIndex:"nombreCliente",key:"nombreCliente"},{title:"Operación",key:"COBRAR",scopedSlots:{customRender:"COBRAR"}}],Ke=[{title:"DEUDA DEL CLIENTE",dataIndex:"key",scopedSlots:{customRender:"key"}}],He={components:{Money:ze["Money"]},data:function(){return{search:"",form:null,lstClientes:[],columns:Ye,entidadId:null,entidadObj:{},title:"Deudas Clientes",displayCliente:!1,clienteDto:{},formC:null,pagination:{pageSize:10},loading:!1,rules:{nroDocumento:[{required:!0,message:"CI/NIT obligatorio",trigger:"blur"}],nombreCliente:[{required:!0,message:"Nombre/Razón Social obligatorio",trigger:"blur"}],correoCliente:[{trigger:"blur",message:"El correo electrónico esta incorrecto.",pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/}]},lstServiciosDeudas:[],columnsA:Ke,sumTotal:0,efectivo:0,selectedRowKeys:[],loadingServ:!1,money:{decimal:".",thousands:",",precision:2,masked:!1,maxlength:17},displayEdition:!1,displayModal:!1,visibleModalReporte:!1,link:null,viewCargando:!1,lstCamposBusqueda:[],campoBusquedaCliente:"CODIGO CLIENTE",placeholderBC:"Ingrese CODIGO CLIENTE",editNombre:!0,editCi:!0,editcCdigoCliente:!0,editCorreoCliente:!0,lstDimensiones:[],lstMetodosCobros:[]}},created:function(){this.entidadId=this.$route.params.entidadId,this.cargarEntidad(this.entidadId),this.cargarCamposBusquedasDeudas(),this.cargarDimensionesFacturas(),this.cargarMetodosCobros()},computed:{rowSelectionS:function(){var e=this;return{selectedRowKeys:this.selectedRowKeys,onChange:function(t,a){e.selectedRowKeys=t},onSelect:function(t,a,o){e.sumTotal=0,e.sumTotal=o.reduce((function(e,t){return e+t.subTotal}),0),e.efectivo=a?e.efectivo:0,e.clienteDto.servicioDeudaDtoList=o},onSelectAll:function(t,a,o){e.sumTotal=0,e.sumTotal=a.reduce((function(e,t){return e+t.subTotal}),0),e.efectivo=t?e.efectivo:0,e.clienteDto.servicioDeudaDtoList=a}}},cambio:{get:function(){var e=this.efectivo>0?-1*(this.sumTotal-this.efectivo):0;return Number(e).toFixed(2)},set:function(){}}},watch:{"clienteDto.servicioDeudaDtoList":{handler:function(e,t){this.sumTotal=0,this.sumTotal=this.sumTotal+e.reduce((function(e,t){return e+t.subTotal}),0)},deep:!0}},methods:{cargarEntidad:function(e){var t=this;Ue.getEntidad(e).then((function(e){t.entidadObj=e.data.result,t.title=t.entidadObj.nombre+": Deudas Clientes"})).catch((function(e){t.$notification.error(e.response.data.message,e.response.data.code)}))},cargarClientes:function(e){var t=this;this.loading=!0,Ne.getAllClientesByEntidadIdAndCampos(this.entidadId,this.campoBusquedaCliente,e).then((function(a){if(204===a.status)return t.lstClientes=[],t.$notification.warning("No existen cliente con parámetro de búsqueda: "+e+"."),void(t.loading=!1);t.lstClientes=a.data.result,t.loading=!1})).catch((function(e){t.lstClientes=[],t.loading=!1,t.$notification.error(e.response.data.message,e.response.data.code)}))},buscar:function(){this.search.length>0?(this.cargarClientes(this.search),this.editCi=!0,this.editNombre=!0,this.editCorreoCliente=!0):this.lstClientes=[],this.displayCliente=!1,this.inicializar()},cargarDimensionesFacturas:function(){var e=this;Ve.getDimensionesPlantillas(this.entidadId).then((function(t){if(204===t.status)return e.lstDimensiones=[],void e.$notification.warning("La parametrización de plantillas no esta completa.");e.lstDimensiones=t.data.result})).catch((function(t){e.lstDimensiones=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},cargarMetodosCobros:function(){var e=this;Ge.getLstMetCobroByLogin().then((function(t){if(204===t.status)return e.lstMetodosCobros=[],void e.$notification.warning("La parametrización de métodos de cobro no esta completa.");e.lstMetodosCobros=t.data.result})).catch((function(t){e.lstMetodosCobros=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},inicializar:function(){this.selectedRowKeys=[],this.sumTotal=0,this.efectivo=0},cargarServicioDeudas:function(){var e=this;this.loadingServ=!0,Ne.cargarServicioDeudas(this.entidadId,this.clienteDto.codigoCliente).then((function(t){if(204===t.status)return e.$notification.warning("No existe registro de deudas para el cliente seleccionado"),e.lstServiciosDeudas=[],void(e.loadingServ=!1);e.lstServiciosDeudas=t.data.result,e.loadingServ=!1})).catch((function(t){e.$notification.error(t.response.data.message,t.response.data.code),e.lstServiciosDeudas=[],e.loadingServ=!1}))},sumSubTotal:function(e,t){return t.subTotal<0&&t.editable&&(t.subTotal=0),t.montoUnitario=(t.subTotal/t.cantidad).toFixed(2),e.subTotal=e.deudaClienteDtos.reduce((function(e,t){return e+Number(t.subTotal)}),0),e.subTotal},mostrarDeudas:function(e){this.displayCliente=!0,this.clienteDto={entidadId:this.entidadId,codigoCliente:e.codigoCliente,nroDocumento:e.nroDocumento,nombreCliente:e.nombreCliente,correoCliente:e.correoCliente,servicioDeudaDtoList:[]},this.cargarServicioDeudas()},verificarMontoPrepago:function(e){for(var t=0;t<e.length;t++)for(var a=0;a<e[t].deudaClienteDtos.length;a++)if(e[t].deudaClienteDtos[a].editable&&(null==e[t].deudaClienteDtos[a].subTotal||""==e[t].deudaClienteDtos[a].subTotal||0==e[t].deudaClienteDtos[a].subTotal))return!1;return!0},confirmCobro:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(t){if(null===e.clienteDto.nombreCliente||null===e.clienteDto.nroDocumento)return e.$notification.warning("Debe especificar obligatoriamente el NOMBRE CLIENTE y CI/NIT."),void(e.displayModal=!1);if(""===e.clienteDto.nombreCliente.trim()||""===e.clienteDto.nroDocumento.trim())return e.$notification.warning("Debe especificar obligatoriamente el NOMBRE CLIENTE y NÚMERO DOCUMENTO."),void(e.displayModal=!1);if(isNaN(e.clienteDto.nroDocumento.trim()))return e.$notification.warning("El CI/NIT es solo numérico."),void(e.displayModal=!1);if(!e.verificarMontoPrepago(e.clienteDto.servicioDeudaDtoList))return e.$notification.warning("Para el caso de prepagos debe llenar el monto correspondiente, por favor verifique."),void(e.displayModal=!1);e.displayModal=!0,1===e.lstDimensiones.length&&(e.clienteDto.dimensionId=e.lstDimensiones[0].dominioId),1===e.lstMetodosCobros.length&&(e.clienteDto.metodoCobroId=e.lstMetodosCobros[0].metodoCobroId)}else e.$notification.warning("Debe resolver las validaciones del formulario."),e.displayModal=!1}))},cancelCobro:function(e){},cobrarDeudas:function(e){var t=this;this.clienteDto.dimensionId=9,this.clienteDto.metodoCobroId=5,null!=this.clienteDto.dimensionId?null!=this.clienteDto.metodoCobroId?(this.$Progress.start(),this.displayModal=!1,this.visibleModalReporte=!0,this.clienteDto.montoTotalCobrado=this.sumTotal,this.viewCargando=!0,Ne.cobrarDeudas(this.clienteDto).then((function(e){t.viewFileDownload(e),t.cargarServicioDeudas(),t.inicializar(),t.$Progress.finish(),t.clienteDto.dimensionId=null,t.clienteDto.metodoCobroId=null})).catch((function(e){t.cargarServicioDeudas(),t.inicializar(),t.visibleModalReporte=!1,t.$notification.error(t.ab2str(e.response.data)),t.$Progress.fail(),t.clienteDto.dimensionId=null}))):this.$notification.warning("Debe seleccionar una metodo de cobro para el registro."):this.$notification.warning("Debe seleccionar una dimensión para la impresión")},viewFileDownload:function(e){var t=new Blob([e.data],{type:"application/pdf"});this.link=URL.createObjectURL(t),this.viewCargando=!1},closeReporte:function(){this.visibleModalReporte=!1,this.link=null},ab2str:function(e){for(var t="",a=new Uint8Array(e),o=a.length,i=0;i<o;i++)t+=String.fromCharCode(a[i]);return t},reload:function(){this.lstServiciosDeudas=[],this.displayCliente=!1,this.lstClientes=[],this.search="",this.inicializar(),this.campoBusquedaCliente="CODIGO CLIENTE",this.placeholderBC="Ingrese CODIGO CLIENTE"},resetear:function(e){var t=this;e.editando=!1,e.deudaClienteDtos.forEach((function(a){a.editable&&(a.subTotal=0,a.montoUnitario=0),t.sumSubTotal(e,a)}))},verificarPrelacion:function(e){var t=Math.max.apply(null,e);if(0!=t){for(var a=t-1;a>=0;a--)if(!e.includes(a))return!1;return!0}return!0},cargarCamposBusquedasDeudas:function(){var e=this;Ne.getCamposBusquedaDeudas().then((function(t){if(204===t.status)return e.lstCamposBusqueda=[],void e.$notification.warning("No se ha encontrado ningun campo de búsqueda de clientes.");e.lstCamposBusqueda=t.data.result})).catch((function(t){e.lstCamposBusqueda=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},resetSearch:function(e){this.search="",this.placeholderBC="Ingrese "+e}}},Je=He,Qe=(a("142d"),Object(f["a"])(Je,$e,qe,!1,null,"5ac7a0e1",null)),We=Qe.exports,Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.displayForm?e._e():a("div",{staticStyle:{border:"2px solid #21618c","border-radius":"5px",height:"100%",width:"100%",padding:"1%",color:"#21618c"}},[a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("h2",[a("b",{staticStyle:{color:"#21618c"}},[e._v(" Administración de Registro de Empresas ")])])]),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:14,xl:14,align:"right"}},[a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:20,xl:20,align:"right"}},[a("a-input-search",{attrs:{placeholder:"Buscar por nombre...","enter-button":" Buscar ",maxLength:50},on:{search:e.filterTable},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1)],1),e.displayForm?e._e():a("a-card",{staticStyle:{width:"100%"}},[a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("b",[e._v(e._s(e.filter))]),a("a-button-group",e._l(e.lstOpciones,(function(t,o){return a("a-button",{key:o,attrs:{type:"primary"},on:{click:function(a){return e.seleccionarOpcion(t.transaccion)}}},[e._v(" "+e._s(t.etiqueta)+" ")])})),1)],1)],2),e.displayForm?e._e():a("a-card",{staticStyle:{width:"100%"}},[a("a-table",{attrs:{"row-selection":e.rowSelection,columns:e.columns,"data-source":e.lstFilter,rowKey:"entidadId",pagination:e.pagination,loading:e.loading,scroll:{x:1e3}},scopedSlots:e._u([{key:"logo",fn:function(t,o){return[null!=o.imagen64?a("img",{attrs:{src:o.imagen64,alt:o.nombre,width:"64px",height:"64px"}}):e._e(),"INACTIVO"!=o.estado?a("a-button",{attrs:{type:"link",icon:"upload",size:"small"},on:{click:function(t){return e.openModalLogo(o.entidadId,o.nombre)}}},[e._v(" Subir ")]):e._e()]}},{key:"estado",fn:function(t,o){return["ACTIVO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"green"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"caret-up"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"INACTIVO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"red"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"caret-down"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"CREADO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"blue"}},[e._v(" "+e._s(o.estado)+" ")])],1):e._e()]}},{key:"opciones",fn:function(t,o){return"ACTIVO"==o.estado||"CREADO"==o.estado?[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.mostrarSucursal(o.entidadId,o.nombre)}}},[e._v(" Sucursales ")]),a("br"),a("a",{staticClass:"head-example",attrs:{href:"javascript:;"},on:{click:function(t){return e.openModalRecaudadora(o.entidadId)}}},[e._v(" Socios Estratégicos ")]),a("br"),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.openModalComision(o.entidadId)}}},[e._v(" Comisión ")]),a("br")]:void 0}},{key:"datosEntidad",fn:function(t,o){return[a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Nombre ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[o.nombre.length>30?a("a-tooltip",{key:o.nombre,attrs:{title:o.nombre}},[a("a-tag",{key:o.nombre,attrs:{color:"blue"}},[e._v(" "+e._s(o.nombre.slice(0,30)+"...")+" ")])],1):a("a-tag",{attrs:{color:"blue"}},[e._v(" "+e._s(o.nombre)+" ")])],1)],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Tipo Empresa ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.tipoEntidadDescripcion)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Nombre Comercial ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.nombreComercial)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Sub Dominio Empresa ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.subdominioEmpresa)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Dirección ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.direccion)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Teléfono ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.telefono)+" ")])],1)]}},{key:"informacionTributaria",fn:function(t,o){return[a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Actividad Económica Grande ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.actividadEconomicaDescripcion)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" NIT ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.nit)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Modalidad Facturación ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.modalidadFacturacionDescripcion)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Comprobante Agrupado ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.comprobanteEnUno?"SI":"NO")+" ")])],1)]}},{key:"parametrizacion",fn:function(t,o){return[a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:18}},[e._v(" ¿Realiza Cobros? ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:6}},[e._v(" "+e._s(o.esCobradora?"SI":"NO")+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:18}},[e._v(" ¿Realiza Pagos? ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:6}},[e._v(" "+e._s(o.esPagadora?"SI":"NO")+" ")])],1)]}}],null,!0)})],1),e.displayForm?a("div",{staticStyle:{border:"2px solid #21618c","border-radius":"5px",height:"100%",width:"100%",padding:"1%",color:"#21618c"}},[a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#21618c"}},[a("a-icon",{attrs:{type:"arrow-left"},on:{click:e.volverListado}}),e._v(" Administración de Empresas (Empresas, Universidades y otros): "+e._s(e.subTitle)+" ")],1)])])],1)],1):e._e(),e.displayForm?a("a-card",[a("a-form-model",{ref:"ruleForm",attrs:{model:e.entidadObj,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol,size:"small"}},[a("a-divider",{attrs:{orientation:"left"}},[e._v("Información General")]),a("a-form-model-item",{ref:"nombre",attrs:{label:"Nombre Empresa",prop:"nombre"}},[a("a-input",{attrs:{maxLength:200},on:{blur:function(){e.$refs.nombre.onFieldBlur()}},model:{value:e.entidadObj.nombre,callback:function(t){e.$set(e.entidadObj,"nombre",t)},expression:"entidadObj.nombre"}})],1),a("a-form-model-item",{attrs:{label:"Tipo Empresa",prop:"tipoEntidadId"}},[a("a-select",{attrs:{placeholder:"Seleccione Tipo Empresa"},on:{change:e.habilitarNombreComercial},model:{value:e.entidadObj.tipoEntidadId,callback:function(t){e.$set(e.entidadObj,"tipoEntidadId",t)},expression:"entidadObj.tipoEntidadId"}},e._l(e.lstTiposEntidades,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.dominioId}},[e._v(" "+e._s(t.descripcion)+" ")])})),1)],1),a("a-form-model-item",{ref:"nombreComercial",attrs:{label:"Nombre Comercial",prop:"nombreComercial"}},[a("a-input",{attrs:{disabled:e.disabledNombreComercial,maxLength:200},model:{value:e.entidadObj.nombreComercial,callback:function(t){e.$set(e.entidadObj,"nombreComercial",t)},expression:"entidadObj.nombreComercial"}})],1),a("a-form-model-item",{ref:"subdominioEmpresa",attrs:{label:"SubDominio Empresa",prop:"subdominioEmpresa"}},[a("a-input",{attrs:{disabled:e.disabledSubDominioEmpresa,maxLength:200},model:{value:e.entidadObj.subdominioEmpresa,callback:function(t){e.$set(e.entidadObj,"subdominioEmpresa",t)},expression:"entidadObj.subdominioEmpresa"}})],1),a("a-form-model-item",{ref:"direccion",attrs:{label:"Dirección",prop:"direccion"}},[a("a-input",{attrs:{maxLength:200},on:{blur:function(){e.$refs.direccion.onFieldBlur()}},model:{value:e.entidadObj.direccion,callback:function(t){e.$set(e.entidadObj,"direccion",t)},expression:"entidadObj.direccion"}})],1),a("a-form-model-item",{ref:"telefono",attrs:{label:"Teléfono",prop:"telefono"}},[a("a-input",{attrs:{maxLength:10},on:{blur:function(){e.$refs.telefono.onFieldBlur()}},model:{value:e.entidadObj.telefono,callback:function(t){e.$set(e.entidadObj,"telefono",t)},expression:"entidadObj.telefono"}})],1),a("a-divider",{attrs:{orientation:"left"}},[e._v("Información Tributaria")]),a("a-form-model-item",{attrs:{label:"Actividad Económica Grande",prop:"actividadEconomicaId"}},[a("a-select",{attrs:{placeholder:"Seleccione Actividad Económica"},model:{value:e.entidadObj.actividadEconomicaId,callback:function(t){e.$set(e.entidadObj,"actividadEconomicaId",t)},expression:"entidadObj.actividadEconomicaId"}},e._l(e.lstActividadesEconomicas,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.dominioId}},[e._v(" "+e._s(t.descripcion)+" ")])})),1)],1),a("a-form-model-item",{ref:"nit",attrs:{label:"Nit",prop:"nit"}},[a("a-input",{attrs:{maxLength:13},on:{blur:function(){e.$refs.nit.onFieldBlur()}},model:{value:e.entidadObj.nit,callback:function(t){e.$set(e.entidadObj,"nit",t)},expression:"entidadObj.nit"}})],1),a("a-form-model-item",{attrs:{label:"Modalidad Facturación",prop:"modalidadFacturacionId"}},[a("a-select",{attrs:{placeholder:"Seleccione Modalidad de Facturación"},model:{value:e.entidadObj.modalidadFacturacionId,callback:function(t){e.$set(e.entidadObj,"modalidadFacturacionId",t)},expression:"entidadObj.modalidadFacturacionId"}},e._l(e.lstModFacturaciones,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.dominioId}},[e._v(" "+e._s(t.descripcion)+" ")])})),1)],1),a("a-form-model-item",{attrs:{label:"¿Comprobante agrupado?",prop:"comprobanteEnUno"}},[a("a-switch",{model:{value:e.entidadObj.comprobanteEnUno,callback:function(t){e.$set(e.entidadObj,"comprobanteEnUno",t)},expression:"entidadObj.comprobanteEnUno"}})],1),null==e.entidadObj.entidadId?a("a-divider",{attrs:{orientation:"left"}},[e._v("Parametrización")]):e._e(),null==e.entidadObj.entidadId?a("a-form-model-item",{attrs:{label:"¿Realiza Cobros?",prop:"comprobanteEnUno"}},[a("a-switch",{model:{value:e.entidadObj.esCobradora,callback:function(t){e.$set(e.entidadObj,"esCobradora",t)},expression:"entidadObj.esCobradora"}})],1):e._e(),null==e.entidadObj.entidadId?a("a-form-model-item",{attrs:{label:"¿Realiza Pagos?",prop:"comprobanteEnUno"}},[a("a-switch",{model:{value:e.entidadObj.esPagadora,callback:function(t){e.$set(e.entidadObj,"esPagadora",t)},expression:"entidadObj.esPagadora"}})],1):e._e(),null==e.entidadObj.entidadId?a("a-form-model-item",{attrs:{label:"Socios Estratégicos Habilitadas"}},[a("RecaudadorLst",{attrs:{entidadObj:e.entidadObj}})],1):e._e(),null==e.entidadObj.entidadId?a("a-divider",{attrs:{orientation:"left"}},[e._v("Comisión")]):e._e(),null==e.entidadObj.entidadId?a("a-form-model-item",{ref:"tipoComisionId",attrs:{label:"Tipo Comision",prop:"tipoComisionId"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Seleccione Tipo Comision"},model:{value:e.entidadComisionObj.tipoComisionId,callback:function(t){e.$set(e.entidadComisionObj,"tipoComisionId",t)},expression:"entidadComisionObj.tipoComisionId"}},e._l(e.lstTipoComisiones,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.dominioId}},[e._v(" "+e._s(t.descripcion)+" ")])})),1)],1):e._e(),null==e.entidadObj.entidadId?a("a-form-model-item",{ref:"comision",attrs:{label:"Comisión",prop:"comision"}},[a("money",e._b({staticClass:"ant-input",on:{blur:function(){e.$refs.comision.onFieldBlur()}},model:{value:e.entidadComisionObj.comision,callback:function(t){e.$set(e.entidadComisionObj,"comision",t)},expression:"entidadComisionObj.comision"}},"money",e.money,!1))],1):e._e()],1),a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("a-button",{staticStyle:{color:"white","background-color":"#339966",border:"0px"},attrs:{type:"link"},on:{click:e.onSubmit}},[a("a-icon",{attrs:{type:"form"}}),e._v(" Registrar ")],1),a("a-button",{attrs:{type:"primary",ghost:""},on:{click:e.resetForm}},[a("a-icon",{attrs:{type:"reload"}}),e._v(" Limpiar ")],1)],1)],2):e._e(),a("a-modal",{attrs:{title:"Socios Estratégicos Habilitadas","ok-text":"Registrar","cancel-text":"Cancelar",width:"60%",centered:!0,closable:!1,maskClosable:!1,okButtonProps:{style:{color:"white",background:"#339966",border:"0px"}},cancelButtonProps:{style:{color:"white",background:"red",border:"0px"}}},on:{ok:function(t){return e.closeModal()}},model:{value:e.displayModal,callback:function(t){e.displayModal=t},expression:"displayModal"}},[a("RecaudadorLst",{attrs:{entidadObj:e.entidadObj}})],1),a("a-modal",{attrs:{title:e.titleModalLogo,"ok-text":"OK","cancel-text":"Cancelar",width:"400px",centered:!0,destroyOnClose:!0,footer:null,closable:!0,confirmLoading:!0},on:{cancel:e.closeModalLogo},model:{value:e.displayModalLogo,callback:function(t){e.displayModalLogo=t},expression:"displayModalLogo"}},[a("LogoUpload",{attrs:{entidadId:e.entidadId}})],1),a("a-modal",{attrs:{title:"Comisión Por Entidad","ok-text":"OK","cancel-text":"Cancelar",width:"800px",centered:!0,destroyOnClose:!0,footer:null},on:{ok:function(t){return e.closeModalComision()},cancel:function(t){e.loading=!1}},model:{value:e.displayModalComision,callback:function(t){e.displayModalComision=t},expression:"displayModalComision"}},[a("EntidadComisiones",{attrs:{entidadId:e.entidadId}})],1)],1)},Xe=[],et=(a("4de4"),a("6062"),a("96cf"),a("1da1")),tt={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},getListDominos:function(e){return E().get("api/dominios/".concat(e),this.headersConfig())},getListDominosByAgrupador:function(e){return E().get("api/dominios/agrupadores/".concat(e),this.headersConfig())}},at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.displayFormComision?a("div",[a("a-card",{attrs:{title:"Formulario de Comisión"}},[a("a-form-model",{ref:"ruleFormComision",attrs:{model:e.entidadComisionObj,rules:e.rulesComision,"label-col":e.labelCol,"wrapper-col":e.wrapperCol,size:"small"}},[a("a-form-model-item",{ref:"tipoComisionId",attrs:{label:"Tipo Comision",prop:"tipoComisionId"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Seleccione Tipo Comision"},model:{value:e.entidadComisionObj.tipoComisionId,callback:function(t){e.$set(e.entidadComisionObj,"tipoComisionId",t)},expression:"entidadComisionObj.tipoComisionId"}},e._l(e.lstTipoComisiones,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.dominioId}},[e._v(" "+e._s(t.descripcion)+" ")])})),1)],1),a("a-form-model-item",{ref:"comision",attrs:{label:"Comisión",prop:"comision"}},[a("money",e._b({staticClass:"ant-input",on:{blur:function(){e.$refs.comision.onFieldBlur()}},model:{value:e.entidadComisionObj.comision,callback:function(t){e.$set(e.entidadComisionObj,"comision",t)},expression:"entidadComisionObj.comision"}},"money",e.money,!1))],1)],1),a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("a-tooltip",{attrs:{placement:"top",title:"Registra Comisión por Empresa"}},[a("a-button",{staticStyle:{color:"white","background-color":"#339966",border:"0px"},attrs:{type:"link"},on:{click:e.onSubmitComision}},[a("a-icon",{attrs:{type:"form"}}),e._v(" Registrar ")],1)],1),a("a-tooltip",{attrs:{placement:"top",title:"Vuelve al Listado de Comisión"}},[a("a-button",{attrs:{type:"primary",ghost:""},on:{click:e.cancelarFormComisionEdicion}},[a("a-icon",{attrs:{type:"reload"}}),e._v(" Cancelar ")],1)],1)],1)],2)],1):a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("a-button-group",[a("a-button",{attrs:{type:"primary"},on:{click:e.nuevaComision}},[e._v(" NUEVO ")]),a("a-button",{attrs:{type:"primary"},on:{click:e.editarEntidadComision}},[e._v(" MODIFICAR ")])],1)],1)],2),a("br"),a("a-table",{attrs:{columns:e.columnsComisiones,"data-source":e.lstEntidadesComisiones,rowKey:"entidadComisionId",pagination:e.pagination,"row-selection":e.rowSelectionComision,loading:e.loading},scopedSlots:e._u([{key:"comision",fn:function(t,o){return[a("money",e._b({attrs:{disabled:"true"},model:{value:o.comision,callback:function(t){e.$set(o,"comision",t)},expression:"record.comision"}},"money",e.money,!1))]}},{key:"estadoComision",fn:function(t,o){return["ACTIVO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"green"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"caret-up"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"INACTIVO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"red"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"caret-down"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e()]}}])})],1)},ot=[],it={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},getEntidadComision:function(e){return E().get("api/comisionesentidades/".concat(e),this.headersConfig())},getlstEntidadesComisionesByEntidadId:function(e){return E().get("api/comisionesentidades/entidades/".concat(e),this.headersConfig())},postEntidadComision:function(e){return E().post("api/comisionesentidades",e,this.headersConfig())},getEntidadComisionActivoByEntidadId:function(e){return E().get("api/comisionesentidades/comision/activo/".concat(e),this.headersConfig())}},st=[{title:"Fecha Inicio",dataIndex:"fechaCreacion"},{title:"Tipo Comisión",dataIndex:"tipoComisionDescripcion"},{title:"Comision",dataIndex:"comision",scopedSlots:{customRender:"comision"}},{title:"Estado",dataIndex:"estado",scopedSlots:{customRender:"estadoComision"}}],nt={props:{entidadId:null},components:{Money:ze["Money"]},data:function(){return{displayComision:!1,lstEntidadesComisiones:[],columnsComisiones:st,displayFormComision:!1,selectedRowKeysComision:[],lstTipoComisiones:[],entidadComisionObj:{},pagination:{pageSize:5},labelCol:{span:6},wrapperCol:{span:14},loading:!1,money:{decimal:".",thousands:",",precision:2,masked:!1,maxlength:17},prefix:"",rulesComision:{comision:[{required:!0,message:"Debe registrar el monto de la comisión",trigger:"blur"}],tipoComisionId:[{required:!0,message:"Debe seleccionar un Tipo de Comision",trigger:"change"}]}}},computed:{rowSelectionComision:function(){var e=this;return{type:"radio",onChange:function(t,a){e.selectedRowKeysComision=t},getCheckboxProps:function(e){return{props:{disabled:"INACTIVO"===e.estado||"ACTIVO"===e.estado&&"ACTIVO"===e.estadoEntidad}}}}}},mounted:function(){this.cargarTipoComisiones(),this.cargarEntidadesComisiones(this.entidadId)},methods:{cargarTipoComisiones:function(){var e=this;tt.getListDominos("tipo_comision_id").then((function(t){if(204===t.status)return e.lstTipoComisiones=[],void e.$notification.warning("La parametrización de dominios no esta completa.");e.lstTipoComisiones=t.data.result})).catch((function(t){e.lstTipoComisiones=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},nuevaComision:function(){this.entidadComisionObj={},this.displayFormComision=!0},editarEntidadComision:function(){1===this.selectedRowKeysComision.length?(this.cargarEntidadComision(this.selectedRowKeysComision),this.displayFormComision=!0):this.$notification.warning("Debe seleccionar un solo registro para MODIFICAR")},cargarEntidadesComisiones:function(e){var t=this;this.loading=!0,it.getlstEntidadesComisionesByEntidadId(e).then((function(e){t.lstEntidadesComisiones=e.data.result,t.loading=!1})).catch((function(e){t.$notification.error(e.response.data.message,e.response.data.code),t.loading=!1}))},cargarEntidadComision:function(e){var t=this;it.getEntidadComision(e).then((function(e){t.entidadComisionObj=e.data.result})).catch((function(e){t.$notification.error(e.response.data.message,e.response.data.code)}))},guardarEntidadComision:function(){var e=this;this.$Progress.start(),it.postEntidadComision(this.entidadComisionObj).then((function(t){e.displayFormComision=!1,e.cargarEntidadesComisiones(e.entidadId),e.$notification.success(t.data.message),e.$Progress.finish()})).catch((function(t){e.$notification.error(t.response.data.message,t.response.data.code),e.$Progress.fail()}))},onSubmitComision:function(){var e=this;this.$refs.ruleFormComision.validate((function(t){if(!t)return e.$notification.warning("Debe resolver las validaciones del formulario de Comisiones."),!1;e.entidadComisionObj.entidadId=e.entidadId,e.entidadComisionObj.fechaCreacion=null,e.entidadComisionObj.fechaModificacion=null,e.guardarEntidadComision(e.entidadComisionObj)}))},cancelarFormComisionEdicion:function(){this.displayFormComision=!1,this.selectedRowKeysComision=[]}}},rt=nt,lt=Object(f["a"])(rt,at,ot,!1,null,null,null),ct=lt.exports,dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:{textAlign:"center"}},[a("a-space",{attrs:{align:"center"}},[a("a-upload",{staticClass:"avatar-uploader",attrs:{name:"file","list-type":"picture-card","show-upload-list":!1,action:this.url,"before-upload":e.beforeUpload,headers:{Authorization:"Bearer "+this.token}},on:{change:e.handleChange}},[e.imageUrl?a("img",{attrs:{src:e.imageUrl,alt:"",width:"180px",height:"180px"}}):a("div",[a("a-icon",{attrs:{type:e.loading?"loading":"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v("Upload")])],1)])],1)],1)},ut=[];function mt(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}var pt,ft,ht={props:{entidadId:null},data:function(){return{url:"https://quickpay.com.bo:7080/api/entidades/upload/logo/"+this.entidadId,token:"",loading:!1,imageUrl:""}},created:function(){this.token=localStorage.getItem("token")},methods:{handleChange:function(e){var t=this;"uploading"!==e.file.status?"done"===e.file.status&&mt(e.file.originFileObj,(function(e){t.imageUrl=e,t.loading=!1})):this.loading=!0},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||this.$notification.warning("Solo archivos *.jpg y *.png");var a=e.size/1024/1024<2;return a||this.$notification.warning("¡Archivo debe ser menor o igual a 2MB!"),t&&a}}},gt=ht,bt=Object(f["a"])(gt,dt,ut,!1,null,null,null),vt=bt.exports,yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-row",{attrs:{type:"flex"}},[a("a-col",{attrs:{span:"18"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",placeholder:"Seleccione  Socios Estratégicos",loading:e.loading},model:{value:e.entidadObj.recaudadorIdLst,callback:function(t){e.$set(e.entidadObj,"recaudadorIdLst",t)},expression:"entidadObj.recaudadorIdLst"}},e._l(e.lstRecaudadores,(function(t){return a("a-select-option",{key:t.recaudadorId},[a("b",{staticStyle:{color:"#117A65"}},[e._v(e._s(t.nombre))]),e._v(" "+e._s(t.estado)+" ")])})),1)],1),a("a-col",{attrs:{span:"6"}},[a("a-button",{attrs:{type:"link",icon:"plus"},on:{click:e.abrirRecaudador}},[e._v(" Nuevo Socios Estratégicos ")])],1)],1)],1)},Ct=[],xt={props:{entidadObj:null},data:function(){return{lstRecaudadores:[],loading:!1}},mounted:function(){this.cargarRecaudadores()},methods:{cargarRecaudadores:function(){var e=this;this.$Progress.start(),this.loading=!0,Ge.getLstRecaudadores().then((function(t){if(204===t.status)return e.lstRecaudadores=[],e.$notification.warning("No se ha encontrado ninguna Recaudador a la que pueda habilitar."),e.loading=!1,void e.$Progress.finish();e.lstRecaudadores=t.data.result,e.lstRecaudadores=e.lstRecaudadores.filter((function(e){return"ACTIVO"==e.estado||"CREADO"==e.estado})),e.loading=!1,e.$Progress.finish()})).catch((function(t){e.lstRecaudadores=[],e.$notification.error(t.response.data.message,t.response.data.code),e.loading=!1,e.$Progress.fail()}))},abrirRecaudador:function(){var e=this;this.$confirm({title:"¿Está seguro de ingresar a Registro de Recaudadores?",content:"Considere que los datos se perderán.",okText:"Aceptar",cancelText:"Cancelar",onOk:function(){e.$router.push({name:"AbmRecaudadores"})},onCancel:function(){},class:"test"})}}},Et=xt,Rt=Object(f["a"])(Et,yt,Ct,!1,null,null,null),wt=Rt.exports,It=function(e){return e.slice().sort((function(e,t){return t.entidadId-e.entidadId}))},kt=[{title:"Datos Generales",dataIndex:"nombre",scopedSlots:{customRender:"datosEntidad"},width:"25%"},{title:"Información Tributaria",dataIndex:"actividadEconomicaDescripcion",scopedSlots:{customRender:"informacionTributaria"},width:"25%"},{title:"Transacciones a realizar",dataIndex:"esCobradora",scopedSlots:{customRender:"parametrizacion"},width:"15%"},{title:"Logo",scopedSlots:{customRender:"logo"},width:"10%"},{title:"Estado",dataIndex:"estado",scopedSlots:{customRender:"estado"},width:"10%"},{title:"Opciones",dataIndex:"",scopedSlots:{customRender:"opciones"},width:"15%"}],_t={components:{EntidadComisiones:ct,LogoUpload:vt,RecaudadorLst:wt,Money:ze["Money"]},data:function(){return{lstEntidades:[],entidadId:null,columns:kt,selectedRowKeys:[],pagination:{pageSize:5},loading:!1,lstOpciones:[],current:null,displayModal:!1,entidadObj:{},subTitle:"",displayForm:!1,disabledNombreComercial:!0,labelCol:{span:6},wrapperCol:{span:14},rules:{nombre:[{required:!0,message:"Debe registrar el nombre",trigger:"blur"},{min:2,message:"Mínimante el nombre debe tener 2 caracteres",trigger:"blur"}],tipoEntidadId:[{required:!0,message:"Debe seleccionar un Tipo de Entidad",trigger:"change"}],direccion:[{required:!0,message:"Debe registrar la dirección",trigger:"blur"},{min:5,message:"Mínimante la dirección debe tener 5 caracteres",trigger:"blur"}],telefono:[{required:!0,message:"Debe registrar la dirección",trigger:"blur"},{min:7,max:10,message:"El teléfono debe contener al menos 7 caracteres y máximo 10",trigger:"blur"}],actividadEconomicaId:[{required:!0,message:"Debe seleccionar una actividad económica",trigger:"change"}],municipioId:[{required:!0,message:"Debe seleccionar un municipo",trigger:"change"}],nit:[{min:10,max:13,message:"El NIT debe contener al menos 10 caracteres y máximo 13",trigger:"blur"},{trigger:"blur",message:"Debe registrar solo números.",pattern:/^[0-9,$]*$/}],modalidadFacturacionId:[{required:!0,message:"Debe seleccionar una Modalidad de Facturación",trigger:"change"}]},lstTiposEntidades:[],lstActividadesEconomicas:[],lstMunicipios:[],lstModFacturaciones:[],displayModalComision:!1,displayModalLogo:!1,titleModalLogo:"",search:"",lstFilter:[],filter:"Registros: 0/0",entidadComisionObj:{},lstTipoComisiones:[],money:{decimal:".",thousands:",",precision:2,masked:!1,maxlength:17}}},computed:{rowSelection:function(){var e=this;return console.log("seleccionando "),{selectedRowKeys:this.selectedRowKeys,onChange:function(t,a){e.selectedRowKeys=t;var o=Object(ne["a"])(new Set(a.map((function(e){return e.estado}))));console.log(o.length),o.length>1?(e.$notification.warning("Debe seleccionar registros del mismo ESTADO para realizar operaciones múltiples."),e.cargarOpcionesByEstado("INICIAL")):(console.log(a),a.length>0?e.cargarOpcionesByEstado(a[0].estado):e.cargarOpcionesByEstado(null))}}}},mounted:function(){this.cargarEntidades(),this.cargarTipoEntidades(),this.cargarActividadesEconomicas(),this.cargarMunicipios(),this.cargarModalidadFacturaciones(),this.cargarOpcionesByEstado(null),this.cargarTipoComisiones()},methods:{cargarOpcionesByEstado:function(e){var t=this;R.getOpcionesByEstado("ENTIDADES",e).then((function(e){t.lstOpciones=e.data.data}))},seleccionarOpcion:function(e){var t=this;return Object(et["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:a.t0=e,a.next="CREAR"===a.t0?3:"MODIFICAR"===a.t0?8:"ELIMINAR"===a.t0?17:"ACTIVAR"===a.t0?19:"INACTIVAR"===a.t0?21:23;break;case 3:return t.entidadComisionObj={},t.entidadObj={},t.displayForm=!0,t.subTitle="Registro Nuevo",a.abrupt("break",23);case 8:if(1!==t.selectedRowKeys.length){a.next=15;break}return a.next=11,t.cargarEntidad(t.selectedRowKeys);case 11:t.displayForm=!0,t.subTitle="Modificación de Registro",a.next=16;break;case 15:t.$notification.warning("Debe seleccionar un solo registro para MODIFICAR");case 16:return a.abrupt("break",23);case 17:return t.selectedRowKeys.length>0?t.$confirm({title:"¿Está seguro de ELIMINAR el(los) registro(s) seleccionado(s)?",content:"Considere que el(los) registro(s) ya no podrá(n) ser visualizado(s).",okText:"Aceptar",okType:"danger",cancelText:"Cancelar",onOk:function(){t.actualizaListaEntidadesTransaccion(t.selectedRowKeys,"ELIMINAR")},onCancel:function(){},class:"test"}):t.$notification.warning("Debe seleccionar al menos un registro para ELIMINAR"),a.abrupt("break",23);case 19:return t.selectedRowKeys.length>0?t.$confirm({title:"¿Está seguro de DAR ALTA el(los) registro(s) seleccionado(s)?",content:"Considere que el(los) registro(s) ingresará(n) en transacciones en el Sistema.",okText:"Aceptar",cancelText:"Cancelar",onOk:function(){t.actualizaListaEntidadesTransaccion(t.selectedRowKeys,"ACTIVAR")},onCancel:function(){},class:"test"}):t.$notification.warning("Debe seleccionar al menos un registro para DAR ALTA"),a.abrupt("break",23);case 21:return t.selectedRowKeys.length>0?t.$confirm({title:"¿Está seguro de DAR BAJA el(los) registro(s) seleccionado(s)?",content:"Considere que el registro ya no podrá realizar transacciones en el Sistema.",okText:"Aceptar",okType:"danger",cancelText:"Cancelar",onOk:function(){t.actualizaListaEntidadesTransaccion(t.selectedRowKeys,"INACTIVAR")},onCancel:function(){},class:"test"}):t.$notification.warning("Debe seleccionar al menos un registro para DAR BAJA"),a.abrupt("break",23);case 23:case"end":return a.stop()}}),a)})))()},cargarEntidades:function(){var e=this;this.loading=!0,Ue.getLstEntidad().then((function(t){if(204===t.status)return e.lstEntidades=[],e.lstFilter=[],e.$notification.warning("No se ha encontrado ninguna Entidad registrada"),void(e.loading=!1);e.lstEntidades=It(t.data.result),e.lstFilter=e.lstEntidades,e.countRows(),e.loading=!1})).catch((function(t){e.lstEntidades=[],e.lstFilter=[],e.$notification.error(t.response.data.message,t.response.data.code),e.loading=!1})),this.countRows()},cargarEntidad:function(e){var t=this;return Object(et["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Ue.getEntidad(e);case 2:o=a.sent,t.entidadObj=o.data.result;case 4:case"end":return a.stop()}}),a)})))()},actualizaListaEntidadesTransaccion:function(e,t){var a=this;Ue.putLstEntidadTransaccion(e,t).then((function(e){a.$Progress.start(),a.cargarEntidades(),a.selectedRowKeys=[],a.$notification.success(e.data.message),a.$Progress.finish()})).catch((function(e){a.$notification.error(e.response.data.message,e.response.data.code),a.$Progress.fail()}))},mostrarSucursal:function(e,t){this.$router.push({name:"AbmSucursalesEntidades",params:{entidadId:e,nombre:t}})},volverListado:function(){this.displayForm=!this.displayForm,this.entidadObj={},this.selectedRowKeys=[]},habilitarNombreComercial:function(e){this.disabledNombreComercial=!1,this.entidadObj.nombreComercial=null},verificarTipoTransaccion:function(e){return e.esCobradora||e.esPagadora},cargarTipoEntidades:function(){var e=this;tt.getListDominos("tipo_entidad_id").then((function(t){if(204===t.status)return e.lstTiposEntidades=[],void e.$notification.warning("La parametrización de dominios no esta completa.");e.lstTiposEntidades=t.data.result})).catch((function(t){e.lstTiposEntidades=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},cargarActividadesEconomicas:function(){var e=this;tt.getListDominos("actividad_economica_id").then((function(t){if(204===t.status)return e.lstActividadesEconomicas=[],void e.$notification.warning("La parametrización de dominios no esta completa.");e.lstActividadesEconomicas=t.data.result})).catch((function(t){e.lstActividadesEconomicas=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},cargarMunicipios:function(){var e=this;tt.getListDominos("municipio_id").then((function(t){if(204===t.status)return e.lstMunicipios=[],void e.$notification.warning("La parametrización de dominios no esta completa.");e.lstMunicipios=t.data.result})).catch((function(t){e.lstMunicipios=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},cargarModalidadFacturaciones:function(){var e=this;tt.getListDominos("modalidad_facturacion_id").then((function(t){if(204===t.status)return e.lstModFacturaciones=[],void e.$notification.warning("La parametrización de dominios no esta completa.");e.lstModFacturaciones=t.data.result})).catch((function(t){e.lstModFacturaciones=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},guardarEntidad:function(){var e=this;this.verificarTipoTransaccion(this.entidadObj)?(this.$Progress.start(),Ue.postEntidad(this.entidadObj).then((function(t){e.entidadComisionObj.entidadId=t.data.result.entidadId,null==e.entidadObj.entidadId&&e.guardarComision(),e.cargarEntidades(),e.$notification.success(t.data.message),e.$Progress.finish()})).catch((function(t){e.$notification.error(t.response.data.message,t.response.data.code),e.$Progress.fail()}))):this.$notification.warning("Debe registrar si la Entidad Realiza Cobros y/o Realiza Pagos")},guardarComision:function(){var e=this;this.entidadComisionObj.entidadComisionId=null,this.entidadComisionObj.fechaCreacion=null,this.entidadComisionObj.fechaModificacion=null,it.postEntidadComision(this.entidadComisionObj).then((function(t){e.$notification.success(t.data.message)})).catch((function(t){e.$notification.error(t)}))},onSubmit:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return e.$notification.warning("Debe resolver las validaciones del formulario."),!1;e.guardarEntidad(e.entidadObj),e.selectedRowKeys=[],e.displayForm=!1}))},resetForm:function(){this.entidadObj={},this.$refs.ruleForm.resetFields()},guardarRecaudadoras:function(){var e=this;this.$Progress.start(),Ue.postEntidadRecaudador(this.entidadObj.recaudadorIdLst,this.entidadObj.entidadId).then((function(t){e.$notification.success(t.data.message),e.$Progress.finish()})).catch((function(t){e.lstRecaudadores=[],e.$notification.error(t.response.data.message,t.response.data.code),e.$Progress.fail()}))},openModalRecaudadora:function(e){this.cargarEntidad(e),this.displayModal=!0},closeModal:function(){this.guardarRecaudadoras(),this.displayModal=!1},openModalLogo:function(e,t){this.entidadId=e,this.displayModalLogo=!0,this.titleModalLogo="Logo "+t},closeModalLogo:function(){this.entidadId=null,this.displayModalLogo=!1,this.cargarEntidades()},cargarLogo:function(e){Ue.getLogo(e).then((function(e){var t=e.data;return null!=t&&(t="data:image/png;base64,"+e.data),t}))},openModalComision:function(e){this.entidadId=e,this.displayModalComision=!0},closeModalComision:function(){this.entidadId=null,this.displayModalComision=!1},filterTable:function(){var e=this;this.lstFilter=this.lstEntidades.filter((function(t){if(null!=e.search||""!=e.search)return t.nombre.toLowerCase().includes(e.search.toLowerCase())})),this.countRows()},countRows:function(){var e=this.lstFilter.length,t=this.lstEntidades.length;this.filter="Registros: "+e+"/"+t},cargarTipoComisiones:function(){var e=this;tt.getListDominos("tipo_comision_id").then((function(t){if(204===t.status)return e.lstTipoComisiones=[],void e.$notification.warning("La parametrización de dominios no esta completa.");e.lstTipoComisiones=t.data.result})).catch((function(t){e.lstTipoComisiones=[],e.$notification.error(t.response.data.message,t.response.data.code)}))}}},At=_t,St=(a("a205"),Object(f["a"])(At,Ze,Xe,!1,null,"0035bfac",null)),Dt=St.exports,Ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("compSucursalesEntdades",{attrs:{entidadId:e.entidadId,nombreEntidad:e.nombreEntidad}})},Tt=[],Lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.displayForm?e._e():a("div",{staticStyle:{border:"2px solid #21618c","border-radius":"5px",height:"100%",width:"100%",padding:"1%",color:"#21618c"}},[a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("h2",[a("b",{staticStyle:{color:"#21618c"}},[null!=e.nombreEntidad?a("a-icon",{attrs:{type:"arrow-left"},on:{click:function(t){return e.$router.back()}}}):e._e(),e._v(" "+e._s(e.title)+" ")],1)])]),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:14,xl:14}},[a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:4,xl:4}},[a("b")]),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:20,xl:20,align:"right"}},[a("a-input-search",{attrs:{placeholder:"Buscar por nombre...","enter-button":" Buscar ",maxLength:50,size:"small"},on:{search:e.filterTable},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1)],1),e.displayForm?e._e():a("a-card",{staticStyle:{width:"100%"}},[a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("b",[e._v(e._s(e.filter))]),a("a-button-group",e._l(e.lstOpciones,(function(t,o){return a("a-button",{key:o,attrs:{type:"primary"},on:{click:function(a){return e.seleccionarOpcion(t.transaccion)}}},[e._v(" "+e._s(t.etiqueta)+" ")])})),1)],1)],2),e.displayForm?e._e():a("a-card",{staticStyle:{width:"100%"}},[a("a-table",{attrs:{"row-selection":e.rowSelection,columns:e.columns,"data-source":e.lstFilter,rowKey:"sucursalEntidadId",pagination:e.pagination,loading:e.loading,scroll:{x:1e3}},scopedSlots:e._u([{key:"estado",fn:function(t,o){return["ACTIVO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"green"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"caret-up"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"INACTIVO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"red"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"caret-down"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"CREADO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"blue"}},[e._v(" "+e._s(o.estado)+" ")])],1):e._e()]}},{key:"datosGenerales",fn:function(t,o){return[a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Nombre ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[o.nombreSucursal.length>30?a("a-tooltip",{key:o.nombreSucursal,attrs:{title:o.nombreSucursal}},[a("a-tag",{key:o.nombreSucursal,attrs:{color:"blue"}},[e._v(" "+e._s(o.nombreSucursal.slice(0,30)+"...")+" ")])],1):a("a-tag",{attrs:{color:"blue"}},[e._v(" "+e._s(o.nombreSucursal)+" ")])],1)],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Dirección ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.direccion)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Teléfono ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.telefono)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Departamento ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.departamentoDescripcion)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Municipio ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.municipioDescripcion)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Correo Electrónico ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.email)+" ")])],1)]}},{key:"informacionTributaria",fn:function(t,o){return[a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Numero Sucursal SIN ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.numeroSucursalSin)+" ")])],1)]}},{key:"parametrizacion",fn:function(t,o){return[a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Emite Factura Tesla ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(1==o.emiteFacturaTesla?"SI":"NO")+" ")])],1)]}},{key:"opciones",fn:function(t,o){return"ACTIVO"!=o.estado&&"CREADO"!=o.estado||!o.emiteFacturaTesla?void 0:[null!=e.entidadId?a("a",{attrs:{href:"javascript:; "},on:{click:function(t){return e.abrirModal(o.entidadId,o.sucursalEntidadId)}}},[e._v(" Credenciales Facturacion ")]):e._e()]}}],null,!0)})],1),e.displayForm?a("div",{staticStyle:{border:"2px solid #21618c","border-radius":"5px",height:"100%",width:"100%",padding:"1%",color:"#21618c"}},[a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#21618c"}},[a("a-icon",{attrs:{type:"arrow-left"},on:{click:e.volverListado}}),e._v(" "+e._s(e.title)+": "+e._s(e.subTitle)+" ")],1)])])],1)],1):e._e(),e.displayForm?a("a-card",[a("a-form-model",{ref:"ruleForm",attrs:{model:e.sucursalEntidadObj,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol,size:"small"}},[a("a-divider",{attrs:{orientation:"left"}},[e._v("Información General")]),a("a-form-model-item",{ref:"nombreSucursal",attrs:{label:"Nombre Sucursal",prop:"nombreSucursal"}},[a("a-input",{attrs:{maxLength:250},on:{blur:function(){e.$refs.nombreSucursal.onFieldBlur()}},model:{value:e.sucursalEntidadObj.nombreSucursal,callback:function(t){e.$set(e.sucursalEntidadObj,"nombreSucursal",t)},expression:"sucursalEntidadObj.nombreSucursal"}})],1),a("a-form-model-item",{ref:"direccion",attrs:{label:"Dirección",prop:"direccion"}},[a("a-input",{attrs:{maxLength:250},on:{blur:function(){e.$refs.direccion.onFieldBlur()}},model:{value:e.sucursalEntidadObj.direccion,callback:function(t){e.$set(e.sucursalEntidadObj,"direccion",t)},expression:"sucursalEntidadObj.direccion"}})],1),a("a-form-model-item",{ref:"telefono",attrs:{label:"Teléfono",prop:"telefono"}},[a("a-input",{attrs:{maxLength:10},on:{blur:function(){e.$refs.telefono.onFieldBlur()}},model:{value:e.sucursalEntidadObj.telefono,callback:function(t){e.$set(e.sucursalEntidadObj,"telefono",t)},expression:"sucursalEntidadObj.telefono"}})],1),a("a-form-model-item",{attrs:{label:"Departamento",prop:"departamentoId"}},[a("a-select",{attrs:{placeholder:"Seleccione Departamento"},on:{change:function(t){return e.cargarMunicipios(e.sucursalEntidadObj.departamentoId)}},model:{value:e.sucursalEntidadObj.departamentoId,callback:function(t){e.$set(e.sucursalEntidadObj,"departamentoId",t)},expression:"sucursalEntidadObj.departamentoId"}},e._l(e.lstDepartamentos,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.dominioId}},[e._v(" "+e._s(t.descripcion)+" ")])})),1)],1),a("a-form-model-item",{attrs:{label:"Municipio",prop:"municipioId"}},[a("a-select",{attrs:{placeholder:"Seleccione Municipio"},model:{value:e.sucursalEntidadObj.municipioId,callback:function(t){e.$set(e.sucursalEntidadObj,"municipioId",t)},expression:"sucursalEntidadObj.municipioId"}},e._l(e.lstMunicipios,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.dominioId}},[e._v(" "+e._s(t.descripcion)+" ")])})),1)],1),a("a-form-model-item",{ref:"email",attrs:{label:"Correo Electrónico",prop:"email"}},[a("a-input",{attrs:{maxLength:50},on:{blur:function(){e.$refs.email.onFieldBlur()}},model:{value:e.sucursalEntidadObj.email,callback:function(t){e.$set(e.sucursalEntidadObj,"email",t)},expression:"sucursalEntidadObj.email"}})],1),a("a-divider",{attrs:{orientation:"left"}},[e._v("Información Tributaria")]),a("a-form-model-item",{ref:"numeroSucursalSin",attrs:{label:"Número Sucursal SIN",prop:"numeroSucursalSin"}},[e._v(" "+e._s('"pendiente - ya que se va generar facturación electrónica"')+" ")]),a("a-divider",{attrs:{orientation:"left"}},[e._v("Parametrización")]),a("a-form-model-item",{ref:"emiteFacturaTesla",attrs:{label:"¿Emite Factura Quickpay?",prop:"emiteFacturaTesla"}},[a("a-switch",{model:{value:e.sucursalEntidadObj.emiteFacturaTesla,callback:function(t){e.$set(e.sucursalEntidadObj,"emiteFacturaTesla",t)},expression:"sucursalEntidadObj.emiteFacturaTesla"}})],1)],1),a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("a-button",{staticStyle:{color:"white","background-color":"#339966",border:"0px"},attrs:{type:"link"},on:{click:e.onSubmit}},[a("a-icon",{attrs:{type:"form"}}),e._v(" Registrar ")],1),a("a-button",{attrs:{type:"primary",ghost:""},on:{click:e.resetForm}},[a("a-icon",{attrs:{type:"reload"}}),e._v(" Limpiar ")],1)],1)],2):e._e(),a("a-modal",{attrs:{title:"Registrar Credenciales Facturación","ok-text":"Registrar","cancel-text":"Cancelar",width:"60%",centered:!0,destroyOnClose:!0,footer:null},on:{ok:function(t){return e.closeModal()}},model:{value:e.displayModalCredenciales,callback:function(t){e.displayModalCredenciales=t},expression:"displayModalCredenciales"}},[a("Credenciales",{attrs:{entidadId:e.entidadIdSelect,sucursalEntidadId:e.sucursalEntidadIdSelect},on:{closeComponent:e.closeComponente}})],1)],1)},Bt=[],Mt={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},getSucursalEntidad:function(e){return E().get("api/sucursalesentidades/".concat(e),this.headersConfig())},getlstSucursalesEntidades:function(){return E().get("api/sucursalesentidades",this.headersConfig())},getLstSucursalEntidadByEntidadId:function(e){return null!=e?E().get("api/sucursalesentidades/entidades/".concat(e),this.headersConfig()):E().get("api/sucursalesentidades/entidades",this.headersConfig())},getLstSucursalEntidadForAddUserByEntidadId:function(e){return E().get("api/sucursalesentidades/entidadesForAddUser/".concat(e),this.headersConfig())},postSucursalEntidad:function(e){return E().post("api/sucursalesentidades",e,this.headersConfig())},putSucursalEntidadTransaccion:function(e,t){return E().put("api/sucursalesentidades/".concat(e,"/").concat(t),{},this.headersConfig())},putLstSucursalEntidadTransaccion:function(e,t){return E().put("api/sucursalesentidades/listas/".concat(t),e,this.headersConfig())},getListSucursalesEntidadesByUsuario:function(){return E().get("api/sucursalesentidades/entidades",this.headersConfig())},getSucursalEmtidadEmiteFacturaTesla:function(){return E().get("api/sucursalesentidades/emisionesfacturas",this.headersConfig())},putCredencialesFacturacion:function(e){return E().put("api/sucursalesentidades/credenciales",e,this.headersConfig())},getCredencialFacturacion:function(e){return E().get("api/sucursalesentidades/credenciales/".concat(e),this.headersConfig())}},jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{staticStyle:{}},[a("a-form-model",{ref:"ruleFromCred",attrs:{model:e.credencialesFacturacionObj,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol,size:"small"}},[a("a-form-model-item",{ref:"login",attrs:{label:"Login",prop:"login"}},[a("a-input",{attrs:{maxLength:250},on:{blur:function(){e.$refs.login.onFieldBlur()}},model:{value:e.credencialesFacturacionObj.login,callback:function(t){e.$set(e.credencialesFacturacionObj,"login",t)},expression:"credencialesFacturacionObj.login"}})],1),a("a-form-model-item",{ref:"password",attrs:{label:"Password",prop:"password"}},[a("a-input",{attrs:{maxLength:250},on:{blur:function(){e.$refs.password.onFieldBlur()}},model:{value:e.credencialesFacturacionObj.password,callback:function(t){e.$set(e.credencialesFacturacionObj,"password",t)},expression:"credencialesFacturacionObj.password"}})],1)],1),a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("a-button",{staticStyle:{color:"white","background-color":"#339966",border:"0px"},attrs:{type:"link"},on:{click:e.onSubmit}},[a("a-icon",{attrs:{type:"form"}}),e._v(" Registrar ")],1),a("a-button",{attrs:{type:"primary",ghost:""},on:{click:e.resetForm}},[a("a-icon",{attrs:{type:"reload"}}),e._v(" Limpiar ")],1)],1)],2)},Ft=[],Pt={props:{entidadId:null,sucursalEntidadId:null},data:function(){return{credencialesFacturacionObj:{},labelCol:{span:6},wrapperCol:{span:14},rules:{login:[{required:!0,message:"Debe registrar el login.",trigger:"blur"}],password:[{required:!0,message:"Debe registrar el password.",trigger:"blur"}]}}},mounted:function(){this.cargarCredencial(this.sucursalEntidadId)},watch:{sucursalEntidadId:function(e,t){this.cargarCredencial(this.sucursalEntidadId)}},methods:{cargarCredencial:function(e){var t=this;Mt.getCredencialFacturacion(e).then((function(e){204!==e.status?t.credencialesFacturacionObj=e.data.result:t.credencialesFacturacionObj={}})).catch((function(e){t.$notification.error(e.response.data.message,e.response.data.code),t.credencialesFacturacionObj={}}))},guardarCredenciales:function(e){var t=this;this.$Progress.start(),e.entidadId=this.entidadId,e.sucursalEntidadId=this.sucursalEntidadId,Mt.putCredencialesFacturacion(e).then((function(e){t.$emit("closeComponent",!1),t.$notification.success(e.data.message),t.$Progress.finish()})).catch((function(e){t.$notification.error(e.response.data.message,e.response.data.code),t.$Progress.fail()}))},onSubmit:function(){var e=this;this.$refs.ruleFromCred.validate((function(t){if(!t)return e.$notification.warning("Debe resolver las validaciones del formulario."),!1;e.guardarCredenciales(e.credencialesFacturacionObj)}))},resetForm:function(){this.$refs.ruleFromCred.resetFields()}}},$t=Pt,qt=Object(f["a"])($t,jt,Ft,!1,null,null,null),Nt=qt.exports,Ut=function(e){return e.slice().sort((function(e,t){return t.sucursalEntidadId-e.sucursalEntidadId}))},zt=[{title:"Información General",dataIndex:"nombreSucursal",scopedSlots:{customRender:"datosGenerales"},width:"25%"},{title:"Información Tributaria",scopedSlots:{customRender:"informacionTributaria"},width:"25%"},{title:"Parametrización",scopedSlots:{customRender:"parametrizacion"},width:"20%"},{title:"Estado",dataIndex:"estado",scopedSlots:{customRender:"estado"},width:"15%"},{title:"Opciones",dataIndex:"",scopedSlots:{customRender:"opciones"},width:"15%"}],Vt={props:{entidadId:null,nombreEntidad:null},components:{Credenciales:Nt},data:function(){return{lstSucursalesEntidades:[],title:(null!=this.nombreEntidad?this.nombreEntidad+": ":"")+"Administración Sucursales",columns:zt,selectedRowKeys:[],pagination:{pageSize:5},loading:!1,lstOpciones:[],current:null,displayModal:!0,lstDepartamentos:[],lstMunicipios:[],sucursalEntidadObj:{},subTitle:"",displayForm:!1,labelCol:{span:6},wrapperCol:{span:14},rules:{nombreSucursal:[{required:!0,message:"Debe registrar el nombre.",trigger:"blur"},{min:2,message:"Mínimante el nombre debe tener 2 caracteres",trigger:"blur"}],direccion:[{required:!0,message:"Debe registrar la dirección",trigger:"blur"},{min:5,message:"Mínimante la dirección debe tener 5 caracteres",trigger:"blur"}],telefono:[{required:!0,message:"Debe registrar el teléfono.",trigger:"blur"},{min:7,max:10,message:"El teléfono debe contener al menos 7 caracteres y máximo 10",trigger:"blur"}],departamentoId:[{required:!0,message:"Debe seleccionar un Departamento.",trigger:"change"}],municipioId:[{required:!0,message:"Debe seleccionar un Municipo",trigger:"change"}],numeroSucursalSin:[{required:!1,message:"Debe ingresar el numero asignado por el SIN",trigger:"blur"},{trigger:"blur",message:"El rango de es de 0 - 20.",pattern:/^[0-9]?$|^20$/}],codigoActividadEconomica:[{required:!0,message:"Debe registrar el código de la Actividad Económica",trigger:"blur"},{trigger:"blur",message:"Debe registrar solo números.",pattern:/^[0-9,$]*$/}],actividadEconomica:[{required:!0,message:"Debe registrar la Actividad Económica",trigger:"blur"}],email:[{required:!0,message:"Debe registrar el Correo Electrónico",trigger:"blur"},{trigger:"blur",message:"El correo electrónico esta incorrecto.",pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/}]},search:"",lstFilter:[],filter:"Registros: 0/0",displayModalCredenciales:!1,sucursalEntidadIdSelect:null,entidadIdSelect:null}},computed:{rowSelection:function(){var e=this;return{selectedRowKeys:this.selectedRowKeys,onChange:function(t,a){e.selectedRowKeys=t;var o=Object(ne["a"])(new Set(a.map((function(e){return e.estado}))));o.length>1?(e.$notification.warning("Debe seleccionar registros del mismo ESTADO para realizar operaciones múltiples."),e.cargarOpcionesByEstado("INICIAL")):a.length>0?e.cargarOpcionesByEstado(a[0].estado):e.cargarOpcionesByEstado(null)}}}},created:function(){this.entidadId=this.$route.params.entidadId,this.cargarSucursalEntidadesPorEntidad(this.entidadId),this.cargarDepartamentos(),this.cargarOpcionesByEstado(null)},methods:{cargarDepartamentos:function(){var e=this;tt.getListDominos("departamento_id").then((function(t){if(204===t.status)return e.lstDepartamentos=[],void e.$notification.warning("La parametrización de dominios no esta completa.");e.lstDepartamentos=t.data.result})).catch((function(t){e.lstDepartamentos=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},cargarMunicipios:function(e){var t=this;tt.getListDominosByAgrupador(e).then((function(e){if(204===e.status)return t.lstMunicipios=[],void t.$notification.warning("La parametrización de dominios no esta completa.");t.lstMunicipios=e.data.result})).catch((function(e){t.lstMunicipios=[],t.$notification.error(e.response.data.message,e.response.data.code)}))},cargarOpcionesByEstado:function(e){var t=this;R.getOpcionesByEstado("SUCURSALES_ENTIDADES",e).then((function(e){t.lstOpciones=e.data.data}))},seleccionarOpcion:function(e){var t=this;switch(e){case"CREAR":this.sucursalEntidadObj={},this.displayForm=!0,this.subTitle="Registro Nuevo";break;case"MODIFICAR":1===this.selectedRowKeys.length?(this.cargarSucursalEntidad(this.selectedRowKeys),this.displayForm=!0,this.subTitle="Modificación de Registro"):this.$notification.warning("Debe seleccionar un solo registro para MODIFICAR");break;case"ELIMINAR":this.selectedRowKeys.length>0?this.$confirm({title:"¿Está seguro de ELIMINAR el(los) registro(s) seleccionado(s)?",content:"Considere que el(los) registro(s) ya no podrá(n) ser visualizado(s).",okText:"Aceptar",okType:"danger",cancelText:"Cancelar",onOk:function(){t.actualizaListaSucursalEntidadTransaccion(t.selectedRowKeys,"ELIMINAR")},onCancel:function(){},class:"test"}):this.$notification.warning("Debe seleccionar al menos un registro para ELIMINAR");break;case"ACTIVAR":this.selectedRowKeys.length>0?this.$confirm({title:"¿Está seguro de DAR ALTA el(los) registro(s) seleccionado(s)?",content:"Considere que el(los) registro(s) ingresará(n) en transacciones en el Sistema.",okText:"Aceptar",cancelText:"Cancelar",onOk:function(){t.actualizaListaSucursalEntidadTransaccion(t.selectedRowKeys,"ACTIVAR")},onCancel:function(){},class:"test"}):this.$notification.warning("Debe seleccionar al menos un registro para DAR ALTA");break;case"INACTIVAR":this.selectedRowKeys.length>0?this.$confirm({title:"¿Está seguro de DAR BAJA el(los) registro(s) seleccionado(s)?",content:"Considere que el registro ya no podrá realizar transacciones en el Sistema.",okText:"Aceptar",okType:"danger",cancelText:"Cancelar",onOk:function(){t.actualizaListaSucursalEntidadTransaccion(t.selectedRowKeys,"INACTIVAR")},onCancel:function(){},class:"test"}):this.$notification.warning("Debe seleccionar al menos un registro para DAR BAJA");break}},cargarSucursalEntidadesPorEntidad:function(e){var t=this;this.loading=!0,Mt.getLstSucursalEntidadByEntidadId(e).then((function(e){if(204===e.status)return t.lstSucursalesEntidades=[],t.lstFilter=[],t.$notification.warning("No se ha encontrado ninguna Sucursal registrada para Entidad."),void(t.loading=!1);t.lstSucursalesEntidades=Ut(e.data.result),t.lstFilter=t.lstSucursalesEntidades,t.countRows(),t.loading=!1})).catch((function(e){t.lstSucursalesEntidades=[],t.lstFilter=[],t.$notification.error(e.response.data.message,e.response.data.code),t.loading=!1}))},actualizaListaSucursalEntidadTransaccion:function(e,t){var a=this;Mt.putLstSucursalEntidadTransaccion(e,t).then((function(e){a.$Progress.start(),a.cargarSucursalEntidadesPorEntidad(a.entidadId),a.selectedRowKeys=[],a.$notification.success(e.data.message),a.$Progress.finish()})).catch((function(e){a.$notification.error(e.response.data.message,e.response.data.code),a.$Progress.fail()}))},volverListado:function(){this.displayForm=!this.displayForm,this.sucursalEntidadObj={},this.selectedRowKeys=[]},cargarSucursalEntidad:function(e){var t=this;Mt.getSucursalEntidad(e).then((function(e){t.sucursalEntidadObj=e.data.result,t.cargarMunicipios(t.sucursalEntidadObj.departamentoId)}))},guardarSucursalEntidad:function(){var e=this;this.$Progress.start(),this.sucursalEntidadObj.entidadId=this.entidadId,Mt.postSucursalEntidad(this.sucursalEntidadObj).then((function(t){e.displayForm=!1,e.cargarSucursalEntidadesPorEntidad(e.entidadId),e.$notification.success(t.data.message),e.$Progress.finish()})).catch((function(t){e.$notification.error(t.response.data.message,t.response.data.code),e.$Progress.fail()}))},onSubmit:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return e.$notification.warning("Debe resolver las validaciones del formulario."),!1;e.guardarSucursalEntidad(e.sucursalEntidadObj),e.selectedRowKeys=[]}))},resetForm:function(){this.$refs.ruleForm.resetFields()},filterTable:function(){var e=this;this.lstFilter=this.lstSucursalesEntidades.filter((function(t){if(null!=e.search||""!=e.search)return t.nombreSucursal.toLowerCase().includes(e.search.toLowerCase())})),this.countRows()},countRows:function(){var e=this.lstFilter.length,t=this.lstSucursalesEntidades.length;this.filter="Registros: "+e+"/"+t},closeModal:function(){this.displayModalCredenciales=!1},abrirModal:function(e,t){this.displayModalCredenciales=!0,this.entidadIdSelect=e,this.sucursalEntidadIdSelect=t},closeComponente:function(e){this.displayModalCredenciales=e}}},Gt=Vt,Yt=(a("5bac"),Object(f["a"])(Gt,Lt,Bt,!1,null,"52514392",null)),Kt=Yt.exports,Ht={components:{compSucursalesEntdades:Kt},data:function(){return{entidadId:null,nombreEntidad:null}},created:function(){this.entidadId=this.$route.params.entidadId,this.nombreEntidad=this.$route.params.nombre}},Jt=Ht,Qt=Object(f["a"])(Jt,Ot,Tt,!1,null,null,null),Wt=Qt.exports,Zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.displayForm?e._e():a("div",{staticStyle:{border:"2px solid #21618c","border-radius":"5px",height:"100%",width:"100%",padding:"1%",color:"#21618c"}},[a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("h2",[a("b",{staticStyle:{color:"#21618c"}},[e._v(" Administración de Registro de Socios Estratégicos ")])])]),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:14,xl:14,align:"right"}},[a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:20,xl:20,align:"right"}},[a("a-input-search",{attrs:{placeholder:"Buscar por nombre...","enter-button":" Buscar ",maxLength:50},on:{search:e.filterTable},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1)],1),e.displayForm?e._e():a("a-card",{staticStyle:{width:"100%"}},[a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("b",[e._v(e._s(e.filter))]),a("a-button-group",e._l(e.lstOpciones,(function(t,o){return a("a-button",{key:o,attrs:{type:"primary"},on:{click:function(a){return e.seleccionarOpcion(t.transaccion)}}},[e._v(" "+e._s(t.etiqueta)+" ")])})),1)],1)],2),e.displayForm?e._e():a("a-card",{staticStyle:{width:"100%"}},[a("a-table",{attrs:{"row-selection":e.rowSelection,columns:e.columns,"data-source":e.lstFilter,rowKey:"recaudadorId",pagination:e.pagination,loading:e.loading,scroll:{x:1e3}},scopedSlots:e._u([{key:"param",fn:function(t,o){return[a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Metodos Cobro: ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.metodoCobroLstJoin)+" ")])],1)]}},{key:"estado",fn:function(t,o){return["ACTIVO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"green"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"caret-up"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"INACTIVO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"red"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"caret-down"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"CREADO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"blue"}},[e._v(" "+e._s(o.estado)+" ")])],1):e._e()]}},{key:"opciones",fn:function(t,o){return"ACTIVO"==o.estado||"CREADO"==o.estado?[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.mostrarSucursal(o.recaudadorId,o.nombre)}}},[e._v("Sucursales")]),a("br"),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.openModal(o.recaudadorId)}}},[e._v("Empresas")]),a("br"),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.openModalComision(o.recaudadorId)}}},[e._v(" Comisión ")]),a("br")]:void 0}},{key:"datosGenerales",fn:function(t,o){return[a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Nombre ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[o.nombre.length>30?a("a-tooltip",{key:o.nombre,attrs:{title:o.nombre}},[a("a-tag",{key:o.nombre,attrs:{color:"blue"}},[e._v(" "+e._s(o.nombre.slice(0,30)+"...")+" ")])],1):a("a-tag",{attrs:{color:"blue"}},[e._v(" "+e._s(o.nombre)+" ")])],1)],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Tipo de Socios Estratégicos ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.tipoRecaudadorDescripcion)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Dirección ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.direccion)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Teléfono ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.telefono)+" ")])],1)]}}],null,!0)})],1),e.displayForm?a("div",{staticStyle:{border:"2px solid #21618c","border-radius":"5px",height:"100%",width:"100%",padding:"1%",color:"#21618c"}},[a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#21618c"}},[a("a-icon",{attrs:{type:"arrow-left"},on:{click:e.volverListado}}),e._v(" Administración de Socios Estratégicos: "+e._s(e.subTitle)+" ")],1)])])],1)],1):e._e(),e.displayForm?a("a-card",[a("a-form-model",{ref:"ruleForm",attrs:{model:e.recaudadorObj,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol,size:"small"}},[a("a-divider",{attrs:{orientation:"left"}},[e._v("Información General")]),a("a-form-model-item",{ref:"nombre",attrs:{label:"Nombre Socios Estratégicos",prop:"nombre"}},[a("a-input",{attrs:{maxLength:250},on:{blur:function(){e.$refs.nombre.onFieldBlur()}},model:{value:e.recaudadorObj.nombre,callback:function(t){e.$set(e.recaudadorObj,"nombre",t)},expression:"recaudadorObj.nombre"}})],1),a("a-form-model-item",{attrs:{label:"Tipo Socios Estratégicos",prop:"tipoRecaudadorId"}},[a("a-select",{attrs:{placeholder:"Seleccione Tipo Socios Estratégicos"},model:{value:e.recaudadorObj.tipoRecaudadorId,callback:function(t){e.$set(e.recaudadorObj,"tipoRecaudadorId",t)},expression:"recaudadorObj.tipoRecaudadorId"}},e._l(e.lstTipoRecaudadores,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.dominioId}},[e._v(" "+e._s(t.descripcion)+" ")])})),1)],1),a("a-form-model-item",{ref:"direccion",attrs:{label:"Dirección",prop:"direccion"}},[a("a-input",{attrs:{maxLength:250},on:{blur:function(){e.$refs.direccion.onFieldBlur()}},model:{value:e.recaudadorObj.direccion,callback:function(t){e.$set(e.recaudadorObj,"direccion",t)},expression:"recaudadorObj.direccion"}})],1),a("a-form-model-item",{ref:"telefono",attrs:{label:"Teléfono",prop:"telefono"}},[a("a-input",{attrs:{maxLength:10},on:{blur:function(){e.$refs.telefono.onFieldBlur()}},model:{value:e.recaudadorObj.telefono,callback:function(t){e.$set(e.recaudadorObj,"telefono",t)},expression:"recaudadorObj.telefono"}})],1),null==e.recaudadorObj.recaudadorId?a("a-divider",{attrs:{orientation:"left"}},[e._v("Parametrización")]):e._e(),a("a-form-model-item",{attrs:{label:"Métodos Cobro"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",placeholder:"Seleccione los métodos cobro"},model:{value:e.recaudadorObj.metodoCobroIdLst,callback:function(t){e.$set(e.recaudadorObj,"metodoCobroIdLst",t)},expression:"recaudadorObj.metodoCobroIdLst"}},e._l(e.lstMetodosCobros,(function(t){return a("a-select-option",{key:t.dominioId},[e._v(" "+e._s(t.descripcion)+" ")])})),1)],1),null==e.recaudadorObj.recaudadorId?a("a-divider",{attrs:{orientation:"left"}},[e._v("Empresas donde serán habilitadas")]):e._e(),null==e.recaudadorObj.recaudadorId?a("a-form-model-item",{attrs:{label:"Empresas"}},[a("EntidadLst",{attrs:{recaudadorObj:e.recaudadorObj}})],1):e._e(),null==e.recaudadorObj.recaudadorId?a("a-divider",{attrs:{orientation:"left"}},[e._v("Comisión")]):e._e(),null==e.recaudadorObj.recaudadorId?a("a-form-model-item",{ref:"tipoComisionId",attrs:{label:"Tipo Comision",prop:"tipoComisionId"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Seleccione Tipo Comision"},model:{value:e.recaudadorComisionObj.tipoComisionId,callback:function(t){e.$set(e.recaudadorComisionObj,"tipoComisionId",t)},expression:"recaudadorComisionObj.tipoComisionId"}},e._l(e.lstTipoComisiones,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.dominioId}},[e._v(" "+e._s(t.descripcion)+" ")])})),1)],1):e._e(),null==e.recaudadorObj.recaudadorId?a("a-form-model-item",{ref:"comision",attrs:{label:"Comisión",prop:"comision"}},[a("money",e._b({staticClass:"ant-input",on:{blur:function(){e.$refs.comision.onFieldBlur()}},model:{value:e.recaudadorComisionObj.comision,callback:function(t){e.$set(e.recaudadorComisionObj,"comision",t)},expression:"recaudadorComisionObj.comision"}},"money",e.money,!1))],1):e._e()],1),a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("a-button",{staticStyle:{color:"white","background-color":"#339966",border:"0px"},attrs:{type:"link"},on:{click:e.onSubmit}},[a("a-icon",{attrs:{type:"form"}}),e._v(" Registrar ")],1),a("a-button",{attrs:{type:"primary",ghost:""},on:{click:e.resetForm}},[a("a-icon",{attrs:{type:"reload"}}),e._v(" Limpiar ")],1)],1)],2):e._e(),a("a-modal",{attrs:{title:"Empresas Asociadas","ok-text":"Registrar","cancel-text":"Cancelar",width:"60%",centered:!0,closable:!1,maskClosable:!1,okButtonProps:{style:{color:"white",background:"#339966",border:"0px"}},cancelButtonProps:{style:{color:"white",background:"red",border:"0px"}}},on:{ok:function(t){return e.closeModal()}},model:{value:e.displayModal,callback:function(t){e.displayModal=t},expression:"displayModal"}},[a("EntidadLst",{attrs:{recaudadorObj:e.recaudadorObj}})],1),a("a-modal",{attrs:{title:"Comisión Por Recaudadora","ok-text":"OK","cancel-text":"Cancelar",width:"800px",centered:!0,destroyOnClose:!0,footer:null},on:{ok:function(t){return e.closeModalComision()}},model:{value:e.displayModalComision,callback:function(t){e.displayModalComision=t},expression:"displayModalComision"}},[a("RecaudadoresComisiones",{attrs:{recaudadorId:e.recaudadorId}})],1)],1)},Xt=[],ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-row",{attrs:{type:"flex"}},[a("a-col",{attrs:{span:"18"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",placeholder:"Seleccione las Empresas"},model:{value:e.recaudadorObj.entidadIdLst,callback:function(t){e.$set(e.recaudadorObj,"entidadIdLst",t)},expression:"recaudadorObj.entidadIdLst"}},e._l(e.lstEntidades,(function(t){return a("a-select-option",{key:t.entidadId},[a("b",{staticStyle:{color:"#117A65"}},[e._v(e._s(t.nombre))]),e._v(" "+e._s(t.estado)+" ")])})),1)],1),a("a-col",{attrs:{span:"6"}},[a("a-button",{attrs:{type:"link",icon:"plus"},on:{click:e.abrirEntidad}},[e._v(" Nueva Empresa ")])],1)],1)],1)},ta=[],aa={props:{recaudadorObj:null},data:function(){return{lstEntidades:[]}},mounted:function(){this.cargarEntidades()},methods:{cargarEntidades:function(){var e=this;this.$Progress.start(),Ue.getLstEntidad().then((function(t){if(204===t.status)return e.lstEntidades=[],e.$notification.warning("No se ha encontrado ninguna Entidad registrada"),void e.$Progress.finish();e.lstEntidades=t.data.result,e.lstEntidades=e.lstEntidades.filter((function(e){return"ACTIVO"==e.estado||"CREADO"==e.estado})),e.$Progress.finish()})).catch((function(t){e.lstEntidades=[],e.$notification.error(t.response.data.message,t.response.data.code),e.$Progress.fail()}))},abrirEntidad:function(){var e=this;this.$confirm({title:"¿Está seguro de ingresar a Registro de Entidades?",content:"Considere que los datos se perderán.",okText:"Aceptar",cancelText:"Cancelar",onOk:function(){e.$router.push({name:"AbmEntidades"})},onCancel:function(){},class:"test"})}}},oa=aa,ia=Object(f["a"])(oa,ea,ta,!1,null,null,null),sa=ia.exports,na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.displayFormComision?a("div",[a("a-card",{attrs:{title:"Formulario de Comisión"}},[a("a-form-model",{ref:"ruleFormComision",attrs:{model:e.recaudadorComisionObj,rules:e.rulesComision,"label-col":e.labelCol,"wrapper-col":e.wrapperCol,size:"small"}},[a("a-form-model-item",{ref:"tipoComisionId",attrs:{label:"Tipo Comision",prop:"tipoComisionId"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Seleccione Tipo Comision"},model:{value:e.recaudadorComisionObj.tipoComisionId,callback:function(t){e.$set(e.recaudadorComisionObj,"tipoComisionId",t)},expression:"recaudadorComisionObj.tipoComisionId"}},e._l(e.lstTipoComisiones,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.dominioId}},[e._v(" "+e._s(t.descripcion)+" ")])})),1)],1),a("a-form-model-item",{ref:"comision",attrs:{label:"Comisión",prop:"comision"}},[a("money",e._b({on:{blur:function(){e.$refs.comision.onFieldBlur()}},model:{value:e.recaudadorComisionObj.comision,callback:function(t){e.$set(e.recaudadorComisionObj,"comision",t)},expression:"recaudadorComisionObj.comision"}},"money",e.money,!1))],1)],1),a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("a-tooltip",{attrs:{placement:"top",title:"Registra Comisión por Recaudador"}},[a("a-button",{staticStyle:{color:"white","background-color":"#339966",border:"0px"},attrs:{type:"link"},on:{click:e.onSubmitComision}},[a("a-icon",{attrs:{type:"form"}}),e._v(" Registrar ")],1)],1),a("a-tooltip",{attrs:{placement:"top",title:"Vuelve al Listado de Comisión"}},[a("a-button",{attrs:{type:"primary",ghost:""},on:{click:e.cancelarFormComisionEdicion}},[e._v(" Cancelar ")])],1)],1)],2)],1):a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("a-button-group",[a("a-button",{attrs:{type:"primary"},on:{click:e.nuevaComision}},[e._v(" NUEVO ")]),a("a-button",{attrs:{type:"primary"},on:{click:e.editarRecaudadorComision}},[e._v(" MODIFICAR ")])],1)],1)],2),a("br"),a("a-table",{attrs:{columns:e.columnsComisiones,"data-source":e.lstRecaudadoresComisiones,rowKey:"recaudadorComisionId",pagination:e.pagination,"row-selection":e.rowSelectionComision,loading:e.loading},scopedSlots:e._u([{key:"comision",fn:function(t,o){return[a("money",e._b({attrs:{disabled:"true"},model:{value:o.comision,callback:function(t){e.$set(o,"comision",t)},expression:"record.comision"}},"money",e.money,!1))]}},{key:"estadoComision",fn:function(t,o){return["ACTIVO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"green"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"caret-up"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"INACTIVO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"red"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"caret-down"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e()]}}])})],1)},ra=[],la={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},getRecaudadorComision:function(e){return E().get("api/comisionesrecaudadores/".concat(e),this.headersConfig())},getlstRecaudadoresComisionesByRecaudadorId:function(e){return E().get("api/comisionesrecaudadores/recaudadores/".concat(e),this.headersConfig())},postRecaudadorComision:function(e){return E().post("api/comisionesrecaudadores",e,this.headersConfig())},getRecaudadoresComisionesActivoByRecaudadorId:function(e){return E().get("api/comisionesrecaudadores/comision/activo/".concat(e),this.headersConfig())}},ca=[{title:"Fecha Inicio",dataIndex:"fechaCreacion"},{title:"Tipo Comisión",dataIndex:"tipoComisionDescripcion"},{title:"Comision",dataIndex:"comision",scopedSlots:{customRender:"comision"}},{title:"Estado",dataIndex:"estado",scopedSlots:{customRender:"estadoComision"}}],da={props:{recaudadorId:null},components:{Money:ze["Money"]},data:function(){return{displayComision:!1,lstRecaudadoresComisiones:[],columnsComisiones:ca,displayFormComision:!1,selectedRowKeysComision:[],lstTipoComisiones:[],recaudadorComisionObj:{},pagination:{pageSize:5},labelCol:{span:6},wrapperCol:{span:14},loading:!1,money:{decimal:".",thousands:",",precision:2,masked:!1,maxlength:17},prefix:"",rulesComision:{comision:[{required:!0,message:"Debe registrar el monto de la comisión",trigger:"blur"}],tipoComisionId:[{required:!0,message:"Debe seleccionar un Tipo de Comision",trigger:"change"}]}}},computed:{rowSelectionComision:function(){var e=this;return{type:"radio",onChange:function(t,a){e.selectedRowKeysComision=t},getCheckboxProps:function(e){return{props:{disabled:"INACTIVO"===e.estado||"ACTIVO"===e.estado&&"ACTIVO"===e.estadoRecaudador}}}}}},mounted:function(){this.cargarTipoComisiones(),this.cargarRecaudadoresComisiones(this.recaudadorId)},methods:{cargarTipoComisiones:function(){var e=this;tt.getListDominos("tipo_comision_id").then((function(t){if(204===t.status)return e.lstTipoComisiones=[],void e.$notification.warning("La parametrización de dominios no esta completa.");e.lstTipoComisiones=t.data.result})).catch((function(t){e.lstTipoComisiones=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},nuevaComision:function(){this.recaudadorComisionObj={},this.displayFormComision=!0},editarRecaudadorComision:function(){1===this.selectedRowKeysComision.length?(this.cargarRecaudadorComision(this.selectedRowKeysComision),this.displayFormComision=!0):this.$notification.warning("Debe seleccionar un solo registro para MODIFICAR")},cargarRecaudadoresComisiones:function(e){var t=this;this.loading=!0,la.getlstRecaudadoresComisionesByRecaudadorId(e).then((function(e){t.lstRecaudadoresComisiones=e.data.result,t.loading=!1})).catch((function(e){t.$notification.error(e.response.data.message,e.response.data.code),t.loading=!1}))},cargarRecaudadorComision:function(e){var t=this;la.getRecaudadorComision(e).then((function(e){t.recaudadorComisionObj=e.data.result})).catch((function(e){t.$notification.error(e.response.data.message,e.response.data.code)}))},guardarRecaudadorComision:function(){var e=this;this.$Progress.start(),la.postRecaudadorComision(this.recaudadorComisionObj).then((function(t){e.displayFormComision=!1,e.cargarRecaudadoresComisiones(e.recaudadorId),e.$notification.success(t.data.message),e.$Progress.finish()})).catch((function(t){e.$notification.error(t.response.data.message,t.response.data.code),e.$Progress.fail()}))},onSubmitComision:function(){var e=this;this.$refs.ruleFormComision.validate((function(t){if(!t)return e.$notification.warning("Debe resolver las validaciones del formulario de Comisiones."),!1;e.recaudadorComisionObj.recaudadorId=e.recaudadorId,e.recaudadorComisionObj.fechaCreacion=null,e.recaudadorComisionObj.fechaModificacion=null,e.guardarRecaudadorComision(e.recaudadorComisionObj)}))},cancelarFormComisionEdicion:function(){this.displayFormComision=!1,this.selectedRowKeysComision=[]}}},ua=da,ma=Object(f["a"])(ua,na,ra,!1,null,null,null),pa=ma.exports,fa=function(e){return e.slice().sort((function(e,t){return t.recaudadorId-e.recaudadorId}))},ha=[{title:"Datos Generales",dataIndex:"nombre",scopedSlots:{customRender:"datosGenerales"},width:"40%"},{title:"Parametrización",scopedSlots:{customRender:"param"},width:"25%"},{title:"Estado",dataIndex:"estado",scopedSlots:{customRender:"estado"},width:"15%"},{title:"Opciones",dataIndex:"",scopedSlots:{customRender:"opciones"},width:"20%"}],ga={components:{EntidadLst:sa,RecaudadoresComisiones:pa,Money:ze["Money"]},data:function(){return{lstRecaudadores:[],recaudadorId:null,columns:ha,selectedRowKeys:[],pagination:{pageSize:5},loading:!1,lstOpciones:[],current:null,displayModal:!1,recaudadorObj:{},subTitle:"",displayForm:!1,labelCol:{span:6},wrapperCol:{span:14},rules:{nombre:[{required:!0,message:"Debe registrar el nombre",trigger:"blur"},{min:2,message:"Mínimante el nombre debe tener 2 caracteres",trigger:"blur"}],tipoRecaudadorId:[{required:!0,message:"Debe seleccionar un Tipo de Socio Estratégico",trigger:"change"}],direccion:[{required:!0,message:"Debe registrar la dirección",trigger:"blur"},{min:5,message:"Mínimante la dirección debe tener 5 caracteres",trigger:"blur"}],telefono:[{required:!0,message:"Debe registrar el teléfono",trigger:"blur"},{min:7,max:10,message:"El teléfono debe contener al menos 7 caracteres y máximo 10",trigger:"blur"}]},lstTipoRecaudadores:[],lstMetodosCobros:[],displayModalComision:!1,search:"",lstFilter:[],filter:"Registros: 0/0",recaudadorComisionObj:{},lstTipoComisiones:[],money:{decimal:".",thousands:",",precision:2,masked:!1,maxlength:17}}},computed:{rowSelection:function(){var e=this;return{selectedRowKeys:this.selectedRowKeys,onChange:function(t,a){e.selectedRowKeys=t;var o=Object(ne["a"])(new Set(a.map((function(e){return e.estado}))));o.length>1?(e.$notification.warning("Debe seleccionar registros del mismo ESTADO para realizar operaciones múltiples."),e.cargarOpcionesByEstado("INICIAL")):a.length>0?e.cargarOpcionesByEstado(a[0].estado):e.cargarOpcionesByEstado(null)}}}},mounted:function(){this.cargarRecaudadores(),this.cargarTipoRecaudadora(),this.cargarMetodosCobros(),this.cargarOpcionesByEstado(null),this.cargarTipoComisiones()},methods:{cargarOpcionesByEstado:function(e){var t=this;R.getOpcionesByEstado("RECAUDADORES",e).then((function(e){t.lstOpciones=e.data.data}))},seleccionarOpcion:function(e){var t=this;switch(e){case"CREAR":this.recaudadorObj={},this.recaudadorComisionObj={},this.displayForm=!0,this.subTitle="Registro Nuevo";break;case"MODIFICAR":1===this.selectedRowKeys.length?(this.cargarRecaudador(this.selectedRowKeys),this.displayForm=!0,this.subTitle="Modificación de Registro"):this.$notification.warning("Debe seleccionar un solo registro para MODIFICAR");break;case"ELIMINAR":this.selectedRowKeys.length>0?this.$confirm({title:"¿Está seguro de ELIMINAR el(los) registro(s) seleccionado(s)?",content:"Considere que el(los) registro(s) ya no podrá(n) ser visualizado(s).",okText:"Aceptar",okType:"danger",cancelText:"Cancelar",onOk:function(){t.actualizaListaRecaudadoresTransaccion(t.selectedRowKeys,"ELIMINAR")},onCancel:function(){},class:"test"}):this.$notification.warning("Debe seleccionar al menos un registro para ELIMINAR");break;case"ACTIVAR":this.selectedRowKeys.length>0?this.$confirm({title:"¿Está seguro de DAR ALTA el(los) registro(s) seleccionado(s)?",content:"Considere que el(los) registro(s) ingresará(n) en transacciones en el Sistema.",okText:"Aceptar",cancelText:"Cancelar",onOk:function(){t.actualizaListaRecaudadoresTransaccion(t.selectedRowKeys,"ACTIVAR")},onCancel:function(){},class:"test"}):this.$notification.warning("Debe seleccionar al menos un registro para DAR ALTA");break;case"INACTIVAR":this.selectedRowKeys.length>0?this.$confirm({title:"¿Está seguro de DAR BAJA el(los) registro(s) seleccionado(s)?",content:"Considere que el registro ya no podrá realizar transacciones en el Sistema.",okText:"Aceptar",okType:"danger",cancelText:"Cancelar",onOk:function(){t.actualizaListaRecaudadoresTransaccion(t.selectedRowKeys,"INACTIVAR")},onCancel:function(){},class:"test"}):this.$notification.warning("Debe seleccionar al menos un registro para DAR BAJA");break}},cargarRecaudadores:function(){var e=this;this.loading=!0,Ge.getLstRecaudadores().then((function(t){if(204===t.status)return e.lstRecaudadores=[],e.lstFilter=[],e.$notification.warning("No se ha encontrado ninguna Recaudador registrada"),void(e.loading=!1);e.lstRecaudadores=t.data.result,e.lstFilter=fa(e.lstRecaudadores),e.countRows(),e.loading=!1})).catch((function(t){e.lstRecaudadores=[],e.lstFilter=[],e.$notification.error(t.response.data.message,t.response.data.code),e.loading=!1}))},actualizaRecaudadorTransaccion:function(e,t){var a=this;this.$Progress.start(),Ge.putRecaudadorTransaccion(e,t).then((function(e){a.cargarRecaudadores(),a.$notification.success(e.data.message),a.$Progress.finish()})).catch((function(e){a.$notification.error(e.response.data.message,e.response.data.code),a.$Progress.fail()}))},actualizaListaRecaudadoresTransaccion:function(e,t){var a=this;Ge.putLstRecaudadorTransaccion(e,t).then((function(e){a.$Progress.start(),a.cargarRecaudadores(),a.selectedRowKeys=[],a.$notification.success(e.data.message),a.$Progress.finish()})).catch((function(e){a.$notification.error(e.response.data.message,e.response.data.code),a.$Progress.fail()}))},mostrarSucursal:function(e,t){this.$router.push({name:"AbmSucursales",params:{recaudadorId:e,nombre:t}})},volverListado:function(){this.displayForm=!this.displayForm,this.recaudadorObj={},this.selectedRowKeys=[]},cargarTipoRecaudadora:function(){var e=this;tt.getListDominos("tipo_recaudador_id").then((function(t){if(204===t.status)return e.lstTipoRecaudadores=[],void e.$notification.warning("La parametrización de dominios no esta completa.");e.lstTipoRecaudadores=t.data.result})).catch((function(t){e.lstTipoRecaudadores=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},cargarTipoComisiones:function(){var e=this;tt.getListDominos("tipo_comision_id").then((function(t){if(204===t.status)return e.lstTipoComisiones=[],void e.$notification.warning("La parametrización de dominios no esta completa.");e.lstTipoComisiones=t.data.result})).catch((function(t){e.lstTipoComisiones=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},cargarMetodosCobros:function(){var e=this;tt.getListDominos("metodo_cobro_id").then((function(t){if(204===t.status)return e.lstMetodosCobros=[],void e.$notification.warning("La parametrización de dominios no esta completa.");e.lstMetodosCobros=t.data.result})).catch((function(t){e.lstMetodosCobros=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},cargarRecaudador:function(e){var t=this;Ge.getRecaudador(e).then((function(e){t.recaudadorObj=e.data.result}))},guardarRecaudador:function(){var e=this;this.$Progress.start(),Ge.postRecaudador(this.recaudadorObj).then((function(t){e.recaudadorComisionObj.recaudadorId=t.data.result.recaudadorId,null==e.recaudadorObj.recaudadorId&&e.guardarComision(),e.cargarRecaudadores(),e.displayForm=!1,e.$notification.success(t.data.message),e.$Progress.finish()})).catch((function(t){e.$notification.error(t.response.data.message,t.response.data.code),e.$Progress.fail()}))},guardarComision:function(){var e=this;return Object(et["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("almacenar comisión"),e.recaudadorComisionObj.recaudadorComisionId=null,e.recaudadorComisionObj.fechaCreacion=null,e.recaudadorComisionObj.fechaModificacion=null,t.prev=4,t.next=7,la.postRecaudadorComision(e.recaudadorComisionObj);case 7:a=t.sent,e.$notification.success(a.data.message),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),e.$notification.error(t.t0.response.data.message,t.t0.response.data.code);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))()},onSubmit:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return e.$notification.warning("Debe resolver las validaciones del formulario."),!1;e.recaudadorObj.metodoCobroIdLst.length>0?(e.guardarRecaudador(),e.selectedRowKeys=[]):e.$notification.warning("Debe seleccionar por lo menos un método de cobro")}))},resetForm:function(){this.recaudadorObj={},this.$refs.ruleForm.resetFields()},openModal:function(e){this.cargarRecaudador(e),this.displayModal=!0},closeModal:function(){this.guardarEntidades(),this.displayModal=!1},abrirEntidad:function(){var e=this;this.$confirm({title:"¿Está seguro de ingresar a Registro de Entidades?",content:"Considere que los datos se perderán.",okText:"Aceptar",cancelText:"Cancelar",onOk:function(){e.$router.push({name:"AbmEntidades"})},onCancel:function(){},class:"test"})},guardarEntidades:function(){var e=this;this.$Progress.start(),Ge.postEntidadRecaudador(this.recaudadorObj.entidadIdLst,this.recaudadorObj.recaudadorId).then((function(t){e.$notification.success(t.data.message),e.$Progress.finish()})).catch((function(t){e.lstRecaudadores=[],e.$notification.error(t.response.data.message,t.response.data.code),e.$Progress.fail()}))},openModalComision:function(e){this.recaudadorId=e,this.displayModalComision=!0},closeModalComision:function(){this.recaudadorId=null,this.displayModalComision=!1},filterTable:function(){var e=this;this.lstFilter=this.lstRecaudadores.filter((function(t){if(null!=e.search||""!=e.search)return t.nombre.toLowerCase().includes(e.search.toLowerCase())})),this.countRows()},countRows:function(){var e=this.lstFilter.length,t=this.lstRecaudadores.length;this.filter="Registros: "+e+"/"+t}}},ba=ga,va=(a("bd85"),Object(f["a"])(ba,Zt,Xt,!1,null,"365e0b18",null)),ya=va.exports,Ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head"},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#08632d"}},[e._v(" REPORTE POR ARCHIVOS CARGADOS. ")])])])],1),a("a-divider",{attrs:{orientation:"left"}},[e._v("Busqueda")]),a("a-row",{attrs:{type:"flex",justify:"center"}},[a("a-form",{attrs:{layout:"inline","label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-form-item",{attrs:{label:"Fecha Inicio :"}},[a("a-date-picker",{attrs:{format:"DD/MM/YYYY ",locale:e.locale},model:{value:e.formBusqueda.fechaInicio,callback:function(t){e.$set(e.formBusqueda,"fechaInicio",t)},expression:"formBusqueda.fechaInicio"}})],1),a("a-form-item",{attrs:{label:"Fecha Fin :"}},[a("a-date-picker",{attrs:{format:"DD/MM/YYYY",locale:e.locale},model:{value:e.formBusqueda.fechaFin,callback:function(t){e.$set(e.formBusqueda,"fechaFin",t)},expression:"formBusqueda.fechaFin"}})],1)],1)],1),a("a-row",{attrs:{type:"flex",justify:"center"}},[a("a-form",{attrs:{layout:"inline"}},[a("a-form-item",{attrs:{label:"Estado :"}},[a("a-radio-group",{attrs:{"default-value":"ACTIVO","button-style":"solid"},model:{value:e.formBusqueda.estado,callback:function(t){e.$set(e.formBusqueda,"estado",t)},expression:"formBusqueda.estado"}},[a("a-radio-button",{attrs:{value:"All"}},[e._v(" Todos ")]),a("a-radio-button",{attrs:{value:"ACTIVO"}},[e._v(" Activo ")]),a("a-radio-button",{attrs:{value:"DESACTIVO"}},[e._v(" Inactivo ")])],1)],1)],1)],1),a("br"),a("a-row",{attrs:{type:"flex",justify:"center",align:"top",gutter:16}},[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"dashed",block:""},on:{click:function(t){return e.limpiar()}}},[a("span",[a("a-icon",{attrs:{type:"undo"}}),e._v(" Limpiar ")],1)])],1),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"primary",block:""},on:{click:function(t){return e.findArchivos(1)}}},[a("span",[a("a-icon",{attrs:{type:"search"}}),e._v(" Buscar ")],1)])],1)],1)],1),a("a-card",{staticStyle:{width:"100%"}},[a("a-divider",{attrs:{orientation:"left"}},[e._v("Datos de los Archivos")]),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,pagination:e.pagination,align:"center",loading:e.loadingTable},scopedSlots:e._u([{key:"estado",fn:function(t,o){return["ACTIVO"==o.estado?a("div",[a("a-tag",{attrs:{color:"green"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"file-protect"}}),a("a",{on:{click:function(t){return e.showModal(o.archivoId)}}},[e._v("ACTIVO")])],1)],1):e._e(),"DESACTIVO"==o.estado?a("div",[a("a-tag",{attrs:{color:"blue"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"inbox"}}),a("a",{on:{click:function(t){return e.showModal(o.archivoId)}}},[e._v("INACTIVO")])],1)],1):e._e(),"FALLIDO"==o.estado?a("div",[a("a-tag",{attrs:{color:"red"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"exception"}}),a("a",{on:{click:function(t){return e.showModal(o.archivoId)}}},[e._v("FALLIDO")])],1)],1):e._e()]}},{key:"reporte",fn:function(t,o){return[a("a-button",{style:{fontSize:"20px"},attrs:{type:"link",icon:"printer"},on:{click:function(t){return e.showModalReportes(o.archivoId)}}})]}}])})],1),a("a-modal",{attrs:{title:"Ver detalle del archivo"},on:{ok:e.closeModal},model:{value:e.visibleModal,callback:function(t){e.visibleModal=t},expression:"visibleModal"}},[a("a-row",[a("a-col",{attrs:{span:6}},[a("a-icon",{style:{fontSize:"105px",color:"#8EBDF5"},attrs:{type:"question-circle"}})],1),a("a-col",{attrs:{span:18}},[a("a-alert",{attrs:{message:"Ver detalle del archivo.",description:"¿Quiere ingresar al detalle do los registros de las deudas enviadas en este archivo?",type:"info"}})],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){return e.closeModal()}}},[e._v(" Cancelar ")]),a("a-button",{key:"submit",attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.ingresarDetalleArchivo()}}},[e._v(" Aceptar ")])],1)],2),a("a-modal",{attrs:{title:"Imprimir tipo de reporte"},on:{ok:e.closeModal},model:{value:e.visibleModalForm,callback:function(t){e.visibleModalForm=t},expression:"visibleModalForm"}},[a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-col",[e._v("Seleccione un tipo de Reporte a generar.")])],1)],1),a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-radio-group",{attrs:{"button-style":"solid"},model:{value:e.formBusqueda.export,callback:function(t){e.$set(e.formBusqueda,"export",t)},expression:"formBusqueda.export"}},[a("a-radio-button",{attrs:{value:"pdf"}},[e._v(" PDF ")]),a("a-radio-button",{attrs:{value:"msexcel"}},[e._v(" EXCEL ")])],1)],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){return e.closeModal()}}},[e._v(" Cancelar ")]),a("a-button",{key:"submit",attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.openReportesPorArchivo()}}},[e._v(" Aceptar ")])],1)],2),a("a-modal",{attrs:{title:"Reporte Generado",width:"800px","dialog-style":{top:"20px"}},on:{ok:function(t){e.visibleModalReporte=!1}},model:{value:e.visibleModalReporte,callback:function(t){e.visibleModalReporte=t},expression:"visibleModalReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center"}},[e.viewCargando?a("a-spin",{attrs:{size:"large",tip:"El reporte se esta cargando...."}}):e._e(),a("iframe",{attrs:{width:"100%",height:"400px",src:this.link,frameborder:"0"}})],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalReporte=!1}}},[e._v(" Cerrar ")])],1)],2)],1)},xa=[],Ea=[{title:"Nombre Archivo",dataIndex:"nombre",width:"25%",scopedSlots:{customRender:"nombre"}},{title:"Usuario",dataIndex:"usuarioCreacion",width:"25%"},{title:"Fecha de Envió.",dataIndex:"fechaCreacion",width:"15%"},{title:"Nro. Registro",dataIndex:"nroRegistros",width:"15%",align:"center"},{title:"Estado",dataIndex:"estado",width:"10%",scopedSlots:{customRender:"estado"}},{title:"Reporte",dataIndex:"reporte",width:"10%",scopedSlots:{customRender:"reporte"}}],Ra={data:function(){return{locale:ve["a"],labelCol:{xs:{span:24},sm:{span:8},md:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16},md:{span:16}},data:[],pagination:{},page:1,total:0,loading:!1,columns:Ea,moment:ge.a,visibleModal:!1,archivoId:null,visibleModalForm:!1,tipoReporteList:[],estadoList:[],formBusqueda:{archivoId:null,estado:"All",recaudadorId:null,export:"pdf"},urlReporte:null,visibleModalReporte:!1,url:null,recaudadoresList:[],link:null,loadingTable:!1,viewCargando:!1}},created:function(){var e=this;this.findArchivos(1),this.getTipoReporte(),this.getEstadoHistoricos(),this.getRecaudadores(),this.pagination={total:this.total,onChange:function(t){e.findArchivos(t)}}},methods:{findArchivos:function(e){var t=this;this.loadingTable=!0,Be.findArchivos(e,this.formBusqueda.fechaInicio,this.formBusqueda.fechaFin,this.formBusqueda.estado).then((function(e){t.pagination.pageSize=e.data.data.numberOfElements,t.pagination.total=e.data.data.totalElements,t.data=e.data.data.content,t.loadingTable=!1})).catch((function(e){t.data=[],t.loadingTable=!1}))},showModal:function(e){this.visibleModal=!0,this.archivoId=e},closeModal:function(){this.visibleModalForm=!1,this.visibleModal=!1,this.archivoId=null},ingresarDetalleArchivo:function(){this.$router.push({path:"/HistoricoDeudasDetalle/"+this.archivoId})},limpiar:function(){this.formBusqueda.export="pdf",this.formBusqueda.archivoId=null,this.formBusqueda.estado=null,this.formBusqueda.recaudadorId=null,this.formBusqueda.export="pdf",this.formBusqueda.fechaInicio=null,this.formBusqueda.fechaFin=null,this.findArchivos(1)},showModalReportes:function(e){this.visibleModalForm=!0,this.archivoId=e},getTipoReporte:function(){var e=this;Be.findDominioByDominio().then((function(t){e.tipoReporteList=t.data.data})).catch((function(t){e.tipoReporteList=[]}))},getEstadoHistoricos:function(){var e=this;Be.getEstadoHistoricos().then((function(t){e.estadoList=t.data.data})).catch((function(t){e.estadoList=[]}))},generarReporte:function(){this.visibleModalForm=!1,this.visibleModalReporte=!0,this.formBusqueda.archivoId=this.archivoId},openReportesPorArchivo:function(){var e=this;this.visibleModalForm=!1,this.visibleModalReporte=!0,this.formBusqueda.archivoId=this.archivoId,this.link=null,this.viewCargando=!0,Be.openReportesPorArchivo(this.formBusqueda).then((function(t){200==t.status?"pdf"==e.formBusqueda.export?e.viewFileDownload(t):e.forceFileDownload(t,"reporte"):(e.viewCargando=!1,e.$notification.warning("No hay datos para mostrar en el reporte."))})).catch((function(t){e.link=null,e.viewCargando=!1,e.visibleModalReporte=!0})),this.visibleModalTipoReporte=!1,this.visibleModalReporte=!0},forceFileDownload:function(e,t){var a=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=a,"msword"==this.formBusqueda.export?o.setAttribute("download","".concat(t,".doc")):o.setAttribute("download","".concat(t,".xlsx")),document.body.appendChild(o),o.click(),this.visibleModalReporte=!1,this.viewCargando=!1},viewFileDownload:function(e){var t=new Blob([e.data],{type:"application/"+this.formBusqueda.export});this.link=URL.createObjectURL(t),this.viewCargando=!1},getRecaudadores:function(){var e=this;Be.getRecaudadoresByEntidad().then((function(t){e.recaudadoresList=t.data.data})).catch((function(t){e.recaudadoresList=[]}))}}},wa=Ra,Ia=(a("a191"),Object(f["a"])(wa,Ca,xa,!1,null,null,null)),ka=Ia.exports,_a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head"},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#08632d"}},[e._v(" REPORTE GENERAL DE DEUDAS. ")])])])],1),a("a-divider",{attrs:{orientation:"left"}},[e._v("BUSQUEDA")]),a("a-form",[a("a-row",{attrs:{gutter:1}},[a("a-col",{attrs:{span:2}}),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:10,xl:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Fecha Inicio :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"DD/MM/YYYY ",locale:e.locale},model:{value:e.formBusqueda.fechaInicio,callback:function(t){e.$set(e.formBusqueda,"fechaInicio",t)},expression:"formBusqueda.fechaInicio"}})],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:10,xl:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Fecha Fin :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{size:"default",format:"DD/MM/YYYY",locale:e.locale},model:{value:e.formBusqueda.fechaFin,callback:function(t){e.$set(e.formBusqueda,"fechaFin",t)},expression:"formBusqueda.fechaFin"}})],1)],1),a("a-col",{attrs:{span:2}})],1)],1),a("a-form",[a("a-row",[a("a-col",{attrs:{span:2}}),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:10,xl:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Recaudadora :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{mode:"tags",size:"default"},on:{change:e.onChangeRecaudacion},model:{value:e.checkedListRecaudacion,callback:function(t){e.checkedListRecaudacion=t},expression:"checkedListRecaudacion"}},e._l(e.recaudadoresList,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:10,xl:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Estado :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{mode:"tags",size:"default"},model:{value:e.checkedListEstado,callback:function(t){e.checkedListEstado=t},expression:"checkedListEstado"}},e._l(e.estadoList,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("a-col",{attrs:{span:2}})],1)],1),a("br"),a("a-row",{attrs:{type:"flex",justify:"center",align:"top",gutter:16}},[a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"dashed",block:""},on:{click:function(t){return e.limpiar()}}},[a("span",[a("a-icon",{attrs:{type:"undo"}}),e._v(" Limpiar ")],1)])],1),a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"danger",block:""},on:{click:function(t){return e.findDeudasByParameterForReport(1)}}},[a("span",[a("a-icon",{attrs:{type:"search"}}),e._v(" Buscar ")],1)])],1),a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"primary",block:""},on:{click:function(t){return e.openModalTipoReporte()}}},[a("span",{style:{fontSize:"20px"}},[a("a-icon",{attrs:{type:"printer"}}),e._v(" Generar Reporte ")],1)])],1)],1)],1),a("a-card",{staticStyle:{width:"100%"}},[a("a-divider",{attrs:{orientation:"left"}},[e._v("DATOS DE LAS DEUDAS")]),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,pagination:e.pagination,align:"center",loading:e.loadingTable},scopedSlots:e._u([{key:"estado",fn:function(t,o){return["COBRADOS"==o.estado?a("div",[a("a-tag",{attrs:{color:"green"}},[a("a-icon",{style:{fontSize:"15px"},attrs:{type:"check"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"POR COBRAR"==o.estado?a("div",[a("a-tag",{attrs:{color:"blue"}},[a("a-icon",{style:{fontSize:"15px"},attrs:{type:"exclamation-circle"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"ANULADO"==o.estado?a("div",[a("a-tag",{attrs:{color:"red"}},[a("a-icon",{style:{fontSize:"15px"},attrs:{type:"exclamation-circle"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"ERRONEO"==o.estado?a("div",[a("a-tag",{attrs:{color:"purple"}},[a("a-icon",{style:{fontSize:"15px"},attrs:{type:"exclamation-circle"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e()]}}])})],1),a("a-modal",{attrs:{title:"Seleccione tipo de reporte"},on:{ok:function(t){e.visibleModalTipoReporte=!1}},model:{value:e.visibleModalTipoReporte,callback:function(t){e.visibleModalTipoReporte=t},expression:"visibleModalTipoReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-col",[e._v("Seleccione un tipo de Reporte a generar.")])],1)],1),a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-radio-group",{attrs:{"button-style":"solid"},model:{value:e.formBusqueda.export,callback:function(t){e.$set(e.formBusqueda,"export",t)},expression:"formBusqueda.export"}},[a("a-radio-button",{attrs:{value:"pdf"}},[e._v(" PDF ")]),a("a-radio-button",{attrs:{value:"msexcel"}},[e._v(" EXCEL ")])],1)],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){return e.openModalGenerarReporte()}}},[e._v(" Generar Reporte ")])],1)],2),a("a-modal",{attrs:{title:"Reporte Generado",width:"800px","dialog-style":{top:"20px"}},on:{ok:function(t){e.visibleModalReporte=!1}},model:{value:e.visibleModalReporte,callback:function(t){e.visibleModalReporte=t},expression:"visibleModalReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center"}},[e.viewCargando?a("a-spin",{attrs:{size:"large",tip:"El reporte se esta cargando...."}}):e._e()],1),e.viewCargando?e._e():a("a-row",{attrs:{type:"flex",justify:"center"}},[e.mensajeVisible?a("a-alert",{attrs:{message:"ADVERTENCIA",description:e.mensajeReporte,type:"warning","show-icon":""}}):e._e(),a("iframe",{attrs:{width:"800px",height:"350px",src:this.link}})],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalReporte=!1}}},[e._v(" Cerrar ")])],1)],2)],1)},Aa=[],Sa=[{title:"Tipo Servicio",dataIndex:"tipoServicio",key:"tipoServicio",width:"10%"},{title:"Servicio",dataIndex:"servicio",key:"servicio",width:"10%",scopedSlots:{customRender:"servicio"}},{title:"Periodo",dataIndex:"periodo",key:"periodo",width:"8%"},{title:"Metodo Cobro",dataIndex:"metodoCobro",key:"metodoCobro",width:"10%"},{title:"Cód. Cliente",dataIndex:"codigoCliente",key:"codigoCliente",width:"10%",align:"center"},{title:"Nro Factura",dataIndex:"nroFactura",key:"nroFactura",width:"5%"},{title:"Fecha Cobro",dataIndex:"fechaCreacion",key:"fechaCreacion",width:"8%"},{title:"Monto",dataIndex:"total",key:"total",width:"8%"},{title:"Estado",key:"estado",dataIndex:"estado",width:"10%",scopedSlots:{customRender:"estado"}}],Da={data:function(){return{locale:ve["a"],formBusqueda:{fechaInicio:null,fechaFin:null,recaudadorArray:[],estadoArray:[],export:"pdf"},columns:Sa,data:[],pagination:{},page:1,total:0,recaudadoresList:[],estadoList:[],visibleModalTipoReporte:!1,visibleModalReporte:!1,link:null,viewCargando:!1,disableEstado:!1,mensajeReporte:"NO SE PUDO CARGAR EL REPORTE, VERIFIQUE LOS PARÁMETROS SELECCIONADOS EN EL ÁREA DE BÚSQUEDA. ",mensajeVisible:!1,checkedListRecaudacion:[],indeterminateRecaudacion:!1,checkAllRecaudacion:!1,checkedListEstado:[],indeterminateEstado:!1,checkAllEstado:!1,loadingTable:!1}},created:function(){var e=this;this.findDeudasByParameterForReport(1),this.getEstadoHistoricos(),this.getRecaudadores(),this.pagination={total:this.total,onChange:function(t){e.findDeudasByParameterForReport(t)}}},methods:{findDeudasByParameterForReport:function(e){var t=this;null!=this.checkedListRecaudacion&&""!=this.checkedListRecaudacion||this.onCheckAllChangeRecaudacion(),null!=this.checkedListEstado&&""!=this.checkedListEstado||this.onCheckAllChangeEstado(),this.loadingTable=!0,this.formBusqueda.paginacion=e,this.formBusqueda.recaudadorArray=this.checkedListRecaudacion,this.formBusqueda.estadoArray=this.checkedListEstado,Be.findDeudasByParameterForReport(this.formBusqueda).then((function(e){t.data=e.data.data.content,t.pagination.pageSize=e.data.data.numberOfElements,t.pagination.total=e.data.data.totalElements,t.loadingTable=!1})).catch((function(e){t.data=[],t.loadingTable=!1}))},getEstadoHistoricos:function(){var e=this;Be.getEstadoHistoricos().then((function(t){e.estadoList=t.data.data})).catch((function(t){e.estadoList=[]}))},getRecaudadores:function(){var e=this;Be.getRecaudadoresByEntidad().then((function(t){e.recaudadoresList=t.data.data})).catch((function(t){e.recaudadoresList=[]}))},openModalGenerarReporte:function(){var e=this;null!=this.checkedListRecaudacion&&""!=this.checkedListRecaudacion||this.onCheckAllChangeRecaudacion(),null!=this.checkedListEstado&&""!=this.checkedListEstado||this.onCheckAllChangeEstado(),this.mensajeVisible=!1,this.link=null,this.viewCargando=!0,this.formBusqueda.recaudadorArray=this.checkedListRecaudacion,this.formBusqueda.estadoArray=this.checkedListEstado,Be.openModalGenerarReporte(this.formBusqueda).then((function(t){e.viewCargando=!1,200==t.status?"pdf"==e.formBusqueda.export?e.viewFileDownload(t):e.forceFileDownload(t,"reporte"):(e.mensajeVisible=!0,e.$notification.warning("No hay datos para mostrar en el reporte."))})).catch((function(t){e.viewCargando=!1,e.mensajeVisible=!0,e.link=null})),this.visibleModalTipoReporte=!1,this.visibleModalReporte=!0},forceFileDownload:function(e,t){var a=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=a,"msword"==this.formBusqueda.export?o.setAttribute("download","".concat(t,".doc")):o.setAttribute("download","".concat(t,".xlsx")),document.body.appendChild(o),o.click(),this.visibleModalReporte=!1,this.viewCargando=!1},viewFileDownload:function(e){var t=new Blob([e.data],{type:"application/"+this.formBusqueda.export});this.link=URL.createObjectURL(t),this.viewCargando=!1},onChangeRecaudadora:function(){"All"!=this.formBusqueda.recaudadorId?(this.formBusqueda.estado="COBRADO",this.disableEstado=!1):this.disableEstado=!1},limpiar:function(){this.formBusqueda.fechaInicio=null,this.formBusqueda.fechaFin=null,this.formBusqueda.recaudadorId="All",this.formBusqueda.estado="All",this.formBusqueda.export="pdf",this.checkedListRecaudacion=[],this.checkedListEstado=[],this.data=[]},onChangeRecaudacion:function(e){this.indeterminateRecaudacion=!!e.length&&e.length<this.recaudadoresList.length,this.checkAllRecaudacion=e.length===this.recaudadoresList.length},onCheckAllChangeRecaudacion:function(){var e=0,t=[];this.recaudadoresList.forEach((function(a){t[e]=a.value,e++})),this.checkedListRecaudacion=t},onChangeEstado:function(e){this.indeterminateEstado=!!e.length&&e.length<this.estadoList.length,this.checkAllEstado=e.length===this.estadoList.length},onCheckAllChangeEstado:function(){var e=0,t=[];this.estadoList.forEach((function(a){t[e]=a.value,e++})),this.checkedListEstado=t},openModalTipoReporte:function(){this.formBusqueda.fechaFin<this.formBusqueda.fechaInicio?this.$warning({title:"Corrija los campos en el formulario de búsqueda.",content:"La ‘Fecha Fin’ no puede ser menor a la ‘Fecha Inicio’",okText:"Aceptar"}):this.visibleModalTipoReporte=!0}}},Oa=Da,Ta=(a("91a1"),Object(f["a"])(Oa,_a,Aa,!1,null,"e3518a48",null)),La=Ta.exports,Ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head"},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#08632d"}},[e._v(" REPORTE GENERAL DE DEUDAS. ")])])])],1),a("a-divider",{attrs:{orientation:"left"}},[e._v("BUSQUEDA")]),a("a-form",[a("a-row",[a("a-col",{attrs:{span:2}}),a("a-col",{attrs:{span:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Fecha Inicio :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"DD/MM/YYYY ",locale:e.locale},model:{value:e.formBusqueda.fechaInicio,callback:function(t){e.$set(e.formBusqueda,"fechaInicio",t)},expression:"formBusqueda.fechaInicio"}})],1)],1),a("a-col",{attrs:{span:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Fecha Fin :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"DD/MM/YYYY",locale:e.locale},model:{value:e.formBusqueda.fechaFin,callback:function(t){e.$set(e.formBusqueda,"fechaFin",t)},expression:"formBusqueda.fechaFin"}})],1)],1)],1)],1),a("a-form",[a("a-row",{attrs:{gutter:1}},[a("a-col",{attrs:{span:2}}),a("a-col",{attrs:{span:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Empresas :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{mode:"tags",size:"default"},model:{value:e.checkedListEntidad,callback:function(t){e.checkedListEntidad=t},expression:"checkedListEntidad"}},e._l(e.entidadesList,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("a-col",{attrs:{span:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Estado :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{mode:"tags",size:"default"},model:{value:e.checkedListEstado,callback:function(t){e.checkedListEstado=t},expression:"checkedListEstado"}},e._l(e.estadoList,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1),a("a-col",{attrs:{span:4}})],1)],1),a("br"),a("a-row",{attrs:{type:"flex",justify:"center",align:"top",gutter:16}},[a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"dashed",block:""},on:{click:function(t){return e.limpiar()}}},[a("span",[a("a-icon",{attrs:{type:"undo"}}),e._v(" Limpiar ")],1)])],1),a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"danger",block:""},on:{click:function(t){return e.findDeudasByparameter()}}},[a("span",[a("a-icon",{attrs:{type:"search"}}),e._v(" Buscar ")],1)])],1),a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"primary",block:""},on:{click:function(t){return e.openModalTipoReporte()}}},[a("span",[a("a-icon",{attrs:{type:"printer"}}),e._v(" Generar Reporte ")],1)])],1)],1)],1),a("a-card",{staticStyle:{width:"100%"}},[a("a-divider",{staticClass:"a-divider",attrs:{orientation:"left"}},[e._v("DATOS DE LAS DEUDAS")]),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,pagination:e.pagination,align:"center",loading:e.loadingTable}})],1),a("a-modal",{attrs:{title:"Seleccione tipo de reporte"},on:{ok:function(t){e.visibleModalTipoReporte=!1}},model:{value:e.visibleModalTipoReporte,callback:function(t){e.visibleModalTipoReporte=t},expression:"visibleModalTipoReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-col",[e._v("Seleccione un tipo de Reporte a generar.")])],1)],1),a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-radio-group",{attrs:{"button-style":"solid"},model:{value:e.formBusqueda.export,callback:function(t){e.$set(e.formBusqueda,"export",t)},expression:"formBusqueda.export"}},[a("a-radio-button",{attrs:{value:"pdf"}},[e._v(" PDF ")]),a("a-radio-button",{attrs:{value:"msexcel"}},[e._v(" EXCEL ")])],1)],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){return e.openModalGenerarReporte()}}},[e._v(" Generar Reporte ")])],1)],2),a("a-modal",{attrs:{title:"Reporte Generado",width:"800px","dialog-style":{top:"20px"}},on:{ok:function(t){e.visibleModalReporte=!1}},model:{value:e.visibleModalReporte,callback:function(t){e.visibleModalReporte=t},expression:"visibleModalReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center"}},[e.viewCargando?a("a-spin",{attrs:{size:"large",tip:"El reporte se esta cargando...."}}):e._e()],1),e.viewCargando?e._e():a("a-row",{attrs:{type:"flex",justify:"center"}},[a("iframe",{attrs:{width:"100%",height:"400px",src:this.link,frameborder:"0"}})]),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalReporte=!1}}},[e._v(" Cerrar ")])],1)],2)],1)},Ma=[],ja={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},findDeudasByParameterForReport:function(e){return E().post("api/ReportRecaudacion/findDeudasByParameter",e,this.headersConfig())},getEstadoHistoricos:function(){return E().get("api/historicoDeuda/findEstadoHistorico",this.headersConfig())},getEntidadesByRecaudadora:function(){return E().get("api/entidades/findEntidadByRecaudacionId",this.headersConfig())},openModalGenerarReporte:function(e){return E().post("api/ReportRecaudacion/findDeudasByParameterForReport",e,{responseType:"arraybuffer",headers:{Accept:"application/pdf",Authorization:"Bearer "+localStorage.getItem("token")}})},findDeudasCobradasByUsuarioCreacionForGrid:function(e){return E().post("api/ReportRecaudacion/findDeudasCobradasByUsuarioCreacionForGrid",e,{responseType:"arraybuffer",headers:{Accept:"application/pdf",Authorization:"Bearer "+localStorage.getItem("token")}})},reporteCierreCajaDiarioJasper:function(e){return E().post("api/ReportRecaudacion/reporteCierreCajaDiarioJasper",e,{responseType:"arraybuffer",headers:{Accept:"application/pdf",Authorization:"Bearer "+localStorage.getItem("token")}})}},Fa=[{title:"Empresa",dataIndex:"nombre",key:"nombre",width:"10%",scopedSlots:{customRender:"nombre"}},{title:"Tipo Servicio",dataIndex:"tipoServicio",key:"tipoServicio",width:"12%"},{title:"Servicio",dataIndex:"servicio",key:"servicio",width:"10%",scopedSlots:{customRender:"servicio"}},{title:"Periodo",dataIndex:"periodo",key:"periodo",width:"8%"},{title:"Cód. Cliente",dataIndex:"codigoCliente",key:"codigoCliente",width:"5%",align:"center"},{title:"Nro Factura",dataIndex:"nroFactura",key:"nroFactura",width:"5%"},{title:"Fecha Cobro",dataIndex:"fechaCreacion",key:"fechaCreacion",width:"15%"},{title:"Metodo de Pago",dataIndex:"metodoPago",key:"metodoPago",width:"10%"},{title:"Monto",dataIndex:"total",key:"total",width:"10%"},{title:"Estado",key:"estado",dataIndex:"estado",width:"10%",scopedSlots:{customRender:"estado"}}],Pa={data:function(){return{locale:ve["a"],formBusqueda:{fechaInicio:null,fechaFin:null,entidadArray:[],estadoArray:[],export:"pdf"},columns:Fa,data:[],pagination:{},page:1,total:0,entidadesList:[],estadoList:[],visibleModalTipoReporte:!1,visibleModalReporte:!1,link:null,viewCargando:!1,disableEstado:!1,mensajeReporte:"NO SE PUDO CARGAR EL REPORTE, VERIFIQUE LOS PARÁMETROS SELECCIONADOS EN EL ÁREA DE BÚSQUEDA. ",mensajeVisible:!1,checkedListEntidad:[],indeterminateEntidad:!1,checkAllEntidad:!1,checkedListEstado:[],indeterminateEstado:!1,checkAllEstado:!1,loadingTable:!1}},created:function(){var e=this;this.findDeudasByParameterForReport(1),this.getEstadoHistoricos(),this.getEntidadesByRecaudadora(),this.pagination={total:this.total,onChange:function(t){e.findDeudasByParameterForReport(t)}}},methods:{findDeudasByParameterForReport:function(e){var t=this;this.loadingTable=!0,null!=this.checkedListEntidad&&""!=this.checkedListEntidad||this.onCheckAllChangeEntidad(),null!=this.checkedListEstado&&""!=this.checkedListEstado||this.onCheckAllChangeEstado(),this.formBusqueda.paginacion=e,this.formBusqueda.entidadArray=this.checkedListEntidad,this.formBusqueda.estadoArray=this.checkedListEstado,ja.findDeudasByParameterForReport(this.formBusqueda).then((function(e){t.data=e.data.data.content,t.pagination.pageSize=e.data.data.numberOfElements,t.pagination.total=e.data.data.totalElements,t.loadingTable=!1})).catch((function(e){t.data=[],t.loadingTable=!1}))},getEstadoHistoricos:function(){var e=this;ja.getEstadoHistoricos().then((function(t){t.data.data.forEach((function(t){"POR COBRAR"!=t.label&&e.estadoList.push(t)}))})).catch((function(t){e.estadoList=[]}))},getEntidadesByRecaudadora:function(){var e=this;this.entidadesList=[],ja.getEntidadesByRecaudadora().then((function(t){e.entidadesList=t.data.data})).catch((function(t){e.entidadesList=[]}))},openModalGenerarReporte:function(){var e=this;null!=this.checkedListEntidad&&""!=this.checkedListEntidad||this.onCheckAllChangeEntidad(),null!=this.checkedListEstado&&""!=this.checkedListEstado||this.onCheckAllChangeEstado(),this.link=null,this.viewCargando=!0,this.formBusqueda.entidadArray=this.checkedListEntidad,this.formBusqueda.estadoArray=this.checkedListEstado,ja.openModalGenerarReporte(this.formBusqueda).then((function(t){200==t.status?"pdf"==e.formBusqueda.export?e.viewFileDownload(t):e.forceFileDownload(t,"reporte"):(e.viewCargando=!1,e.$notification.warning("No hay datos para mostrar en el reporte."))})).catch((function(t){e.link=null,e.viewCargando=!1,e.visibleModalReporte=!0})),this.visibleModalTipoReporte=!1,this.visibleModalReporte=!0},forceFileDownload:function(e,t){var a=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=a,"msword"==this.formBusqueda.export?o.setAttribute("download","".concat(t,".doc")):o.setAttribute("download","".concat(t,".xlsx")),document.body.appendChild(o),o.click(),this.visibleModalReporte=!1,this.viewCargando=!1},viewFileDownload:function(e){var t=new Blob([e.data],{type:"application/"+this.formBusqueda.export});this.link=URL.createObjectURL(t),this.viewCargando=!1},onChangeRecaudadora:function(){"All"!=this.formBusqueda.recaudadorId?(this.formBusqueda.estado="COBRADO",this.disableEstado=!1):this.disableEstado=!1},limpiar:function(){this.formBusqueda.fechaInicio=null,this.formBusqueda.fechaFin=null,this.formBusqueda.entidadId="All",this.formBusqueda.estado="All",this.formBusqueda.export="pdf",this.checkedListEntidad=[],this.checkedListEstado=[],this.data=[]},onCheckAllChangeEntidad:function(e){var t=0,a=[];this.entidadesList.forEach((function(e){a[t]=e.value,t++})),this.checkedListEntidad=a},onCheckAllChangeEstado:function(){var e=0,t=[];this.estadoList.forEach((function(a){t[e]=a.value,e++})),this.checkedListEstado=t},openModalTipoReporte:function(){this.formBusqueda.fechaFin<this.formBusqueda.fechaInicio?this.$warning({title:"Corrija los campos en el formulario de búsqueda.",content:"La ‘Fecha Fin’ no puede ser menor a la ‘Fecha Inicio’",okText:"Aceptar"}):this.visibleModalTipoReporte=!0},findDeudasByparameter:function(){this.formBusqueda.fechaFin<this.formBusqueda.fechaInicio?this.$warning({title:"Corrija los campos en el formulario de búsqueda.",content:"La ‘Fecha Fin’ no puede ser menor a la ‘Fecha Inicio’",okText:"Aceptar"}):this.findDeudasByParameterForReport(1)}}},$a=Pa,qa=(a("1c96"),Object(f["a"])($a,Ba,Ma,!1,null,"c84d5340",null)),Na=qa.exports,Ua=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("compSucursales",{attrs:{recaudadorId:e.recaudadorId,nombreRecaudador:e.nombreRecaudador}})},za=[],Va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.displayForm?e._e():a("div",{staticStyle:{border:"2px solid #21618c","border-radius":"5px",height:"100%",width:"100%",padding:"1%",color:"#21618c"}},[a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("h2",[a("b",{staticStyle:{color:"#21618c"}},[null!=e.nombreRecaudador?a("a-icon",{attrs:{type:"arrow-left"},on:{click:function(t){return e.$router.back()}}}):e._e(),e._v(" "+e._s(e.title)+" ")],1)])]),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:14,xl:14}},[a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:20,xl:20,align:"right"}},[a("a-input-search",{attrs:{placeholder:"Buscar por nombre...","enter-button":" Buscar ",maxLength:50,size:"small"},on:{search:e.filterTable},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1)],1),e.displayForm?e._e():a("a-card",{staticStyle:{width:"100%"}},[a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("b",[e._v(e._s(e.filter))]),a("a-button-group",e._l(e.lstOpciones,(function(t,o){return a("a-button",{key:o,attrs:{icon:t.imagen,type:"primary"},on:{click:function(a){return e.seleccionarOpcion(t.transaccion)}}},[e._v(" "+e._s(t.etiqueta)+" ")])})),1)],1)],2),e.displayForm?e._e():a("a-card",{staticStyle:{width:"100%"}},[a("a-table",{attrs:{"row-selection":e.rowSelection,columns:e.columns,"data-source":e.lstFilter,rowKey:"sucursalId",pagination:e.pagination,loading:e.loading,scroll:{x:1e3}},scopedSlots:e._u([{key:"estado",fn:function(t,o){return["ACTIVO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"green"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"caret-up"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"INACTIVO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"red"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"caret-down"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"CREADO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"blue"}},[e._v(" "+e._s(o.estado)+" ")])],1):e._e()]}},{key:"datosGenerales",fn:function(t,o){return[a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Nombre ")]),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[o.nombre.length>30?a("a-tooltip",{key:o.nombre,attrs:{title:o.nombre}},[a("a-tag",{key:o.nombre,attrs:{color:"blue"}},[e._v(" "+e._s(o.nombre.slice(0,30)+"...")+" ")])],1):a("a-tag",{attrs:{color:"blue"}},[e._v(" "+e._s(o.nombre)+" ")])],1)],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Dirección ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.direccion)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Teléfono ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.telefono)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Departamento ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.departamentoDescripcion)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Localidad ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.localidadDescripcion)+" ")])],1)]}}],null,!1,989274716)})],1),e.displayForm?a("div",{staticStyle:{border:"2px solid #21618c","border-radius":"5px",height:"100%",width:"100%",padding:"1%",color:"#21618c"}},[a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#21618c"}},[a("a-icon",{attrs:{type:"arrow-left"},on:{click:e.volverListado}}),e._v(" "+e._s(e.title)+": "+e._s(e.subTitle)+" ")],1)])])],1)],1):e._e(),e.displayForm?a("a-card",[a("a-form-model",{ref:"ruleForm",attrs:{model:e.sucursalObj,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol,size:"small"}},[a("a-form-model-item",{ref:"nombre",attrs:{label:"Nombre Sucursal",prop:"nombre"}},[a("a-input",{attrs:{maxLength:250},on:{blur:function(){e.$refs.nombre.onFieldBlur()}},model:{value:e.sucursalObj.nombre,callback:function(t){e.$set(e.sucursalObj,"nombre",t)},expression:"sucursalObj.nombre"}})],1),a("a-form-model-item",{attrs:{label:"Departamento",prop:"departamentoId"}},[a("a-select",{attrs:{placeholder:"Seleccione Departamento"},on:{change:function(t){return e.cargarLocalidades(e.sucursalObj.departamentoId)}},model:{value:e.sucursalObj.departamentoId,callback:function(t){e.$set(e.sucursalObj,"departamentoId",t)},expression:"sucursalObj.departamentoId"}},e._l(e.lstDepartamentos,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.dominioId}},[e._v(" "+e._s(t.descripcion)+" ")])})),1)],1),a("a-form-model-item",{attrs:{label:"Localidad",prop:"localidadId"}},[a("a-select",{attrs:{placeholder:"Seleccione Localidad"},model:{value:e.sucursalObj.localidadId,callback:function(t){e.$set(e.sucursalObj,"localidadId",t)},expression:"sucursalObj.localidadId"}},e._l(e.lstLocalidades,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.dominioId}},[e._v(" "+e._s(t.descripcion)+" ")])})),1)],1),a("a-form-model-item",{ref:"direccion",attrs:{label:"Dirección",prop:"direccion"}},[a("a-input",{attrs:{maxLength:250},on:{blur:function(){e.$refs.direccion.onFieldBlur()}},model:{value:e.sucursalObj.direccion,callback:function(t){e.$set(e.sucursalObj,"direccion",t)},expression:"sucursalObj.direccion"}})],1),a("a-form-model-item",{ref:"telefono",attrs:{label:"Teléfono",prop:"telefono"}},[a("a-input",{attrs:{maxLength:10},on:{blur:function(){e.$refs.telefono.onFieldBlur()}},model:{value:e.sucursalObj.telefono,callback:function(t){e.$set(e.sucursalObj,"telefono",t)},expression:"sucursalObj.telefono"}})],1)],1),a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("a-button",{staticStyle:{color:"white","background-color":"#339966",border:"0px"},attrs:{type:"link"},on:{click:e.onSubmit}},[a("a-icon",{attrs:{type:"form"}}),e._v(" Registrar ")],1),a("a-button",{attrs:{type:"primary",ghost:""},on:{click:e.resetForm}},[a("a-icon",{attrs:{type:"reload"}}),e._v(" Limpiar ")],1)],1)],2):e._e()],1)},Ga=[],Ya=(pt={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},getSucursal:function(e){return E().get("api/sucursales/".concat(e),this.headersConfig())},getLstSucursales:function(){return E().get("api/sucursales",this.headersConfig())}},Object(Le["a"])(pt,"getLstSucursales",(function(e){return null!=e?E().get("api/sucursales/recaudadores/".concat(e),this.headersConfig()):E().get("api/sucursales/recaudadores",this.headersConfig())})),Object(Le["a"])(pt,"getLstSucursalRecaudadorForAddUserByRecaudadorId",(function(e){return E().get("api/sucursales/recaudadorForAddUser/".concat(e),this.headersConfig())})),Object(Le["a"])(pt,"postSucursal",(function(e){return E().post("api/sucursales",e,this.headersConfig())})),Object(Le["a"])(pt,"putSucursalTransaccion",(function(e,t){return E().put("api/sucursales/".concat(e,"/").concat(t),{},this.headersConfig())})),Object(Le["a"])(pt,"putLstSucursalTransaccion",(function(e,t){return E().put("api/sucursales/listas/".concat(t),e,this.headersConfig())})),pt),Ka=function(e){return e.slice().sort((function(e,t){return t.sucursalId-e.sucursalId}))},Ha=[{title:"Datos Generales",dataIndex:"nombre",scopedSlots:{customRender:"datosGenerales"},width:"75%"},{title:"Estado",dataIndex:"estado",scopedSlots:{customRender:"estado"},width:"25%"}],Ja={props:{recaudadorId:null,nombreRecaudador:null},data:function(){return{lstSucursales:[],title:(null!=this.nombreRecaudador?this.nombreRecaudador+": ":"")+"Administración Sucursales por Recaudadora",columns:Ha,selectedRowKeys:[],pagination:{pageSize:5},loading:!1,lstOpciones:[],current:null,displayModal:!0,sucursalObj:{},subTitle:"",displayForm:!1,labelCol:{span:6},wrapperCol:{span:14},rules:{nombre:[{required:!0,message:"Debe registrar el nombre",trigger:"blur"},{min:2,message:"Mínimante el nombre debe tener 2 caracteres",trigger:"blur"}],departamentoId:[{required:!0,message:"Debe seleccionar un Departamento",trigger:"change"}],localidadId:[{required:!0,message:"Debe seleccionar una Localidad",trigger:"change"}],direccion:[{required:!0,message:"Debe registrar la dirección",trigger:"blur"},{min:5,message:"Mínimante la dirección debe tener 5 caracteres",trigger:"blur"}],telefono:[{required:!0,message:"Debe registrar el teléfono",trigger:"blur"},{min:7,max:10,message:"El teléfono debe contener al menos 7 caracteres y máximo 10",trigger:"blur"}]},lstDepartamentos:[],lstLocalidades:[],search:"",lstFilter:[],filter:"Registros: 0/0"}},computed:{rowSelection:function(){var e=this;return{selectedRowKeys:this.selectedRowKeys,onChange:function(t,a){e.selectedRowKeys=t;var o=Object(ne["a"])(new Set(a.map((function(e){return e.estado}))));o.length>1?(e.$notification.warning("Debe seleccionar registros del mismo ESTADO para realizar operaciones múltiples."),e.cargarOpcionesByEstado("INICIAL")):a.length>0?e.cargarOpcionesByEstado(a[0].estado):e.cargarOpcionesByEstado(null)}}}},created:function(){this.recaudadorId=this.$route.params.recaudadorId,this.cargarSucursalesPorRecaudadora(this.recaudadorId),this.cargarDepartamentos(),this.cargarOpcionesByEstado(null)},methods:{cargarOpcionesByEstado:function(e){var t=this;R.getOpcionesByEstado("SUCURSALES",e).then((function(e){t.lstOpciones=e.data.data}))},seleccionarOpcion:function(e){var t=this;switch(e){case"CREAR":this.sucursalObj={},this.displayForm=!0,this.subTitle="Registro Nuevo";break;case"MODIFICAR":1===this.selectedRowKeys.length?(this.cargarSucursal(this.selectedRowKeys),this.displayForm=!0,this.subTitle="Modificación de Registro"):this.$notification.warning("Debe seleccionar un solo registro para MODIFICAR");break;case"ELIMINAR":this.selectedRowKeys.length>0?this.$confirm({title:"¿Está seguro de ELIMINAR el(los) registro(s) seleccionado(s)?",content:"Considere que el(los) registro(s) ya no podrá(n) ser visualizado(s).",okText:"Aceptar",okType:"danger",cancelText:"Cancelar",onOk:function(){t.actualizaListaSucursalTransaccion(t.selectedRowKeys,"ELIMINAR")},onCancel:function(){},class:"test"}):this.$notification.warning("Debe seleccionar al menos un registro para ELIMINAR");break;case"ACTIVAR":this.selectedRowKeys.length>0?this.$confirm({title:"¿Está seguro de DAR ALTA el(los) registro(s) seleccionado(s)?",content:"Considere que el(los) registro(s) ingresará(n) en transacciones en el Sistema.",okText:"Aceptar",cancelText:"Cancelar",onOk:function(){t.actualizaListaSucursalTransaccion(t.selectedRowKeys,"ACTIVAR")},onCancel:function(){},class:"test"}):this.$notification.warning("Debe seleccionar al menos un registro para DAR ALTA");break;case"INACTIVAR":this.selectedRowKeys.length>0?this.$confirm({title:"¿Está seguro de DAR BAJA el(los) registro(s) seleccionado(s)?",content:"Considere que el registro ya no podrá realizar transacciones en el Sistema.",okText:"Aceptar",okType:"danger",cancelText:"Cancelar",onOk:function(){t.actualizaListaSucursalTransaccion(t.selectedRowKeys,"INACTIVAR")},onCancel:function(){},class:"test"}):this.$notification.warning("Debe seleccionar al menos un registro para DAR BAJA");break}},cargarSucursalesPorRecaudadora:function(e){var t=this;this.loading=!0,Ya.getLstSucursales(e).then((function(e){if(204===e.status)return t.lstSucursales=[],t.lstFilter=[],t.$notification.warning("No se ha encontrado ninguna Sucursal registrada para Recaudadoras."),void(t.loading=!1);t.lstSucursales=Ka(e.data.result),t.lstFilter=t.lstSucursales,t.loading=!1,t.countRows(),t.selectedRowKeys=[],t.cargarOpcionesByEstado(null)})).catch((function(e){t.lstSucursales=[],t.lstFilter=[],t.$notification.error(e.response.data.message,e.response.data.code),t.loading=!1}))},actualizaListaSucursalTransaccion:function(e,t){var a=this;Ya.putLstSucursalTransaccion(e,t).then((function(e){a.$Progress.start(),a.cargarSucursalesPorRecaudadora(a.recaudadorId),a.selectedRowKeys=[],a.$notification.success(e.data.message),a.$Progress.finish()})).catch((function(e){a.$notification.error(e.response.data.message,e.response.data.code),a.$Progress.fail()}))},volverListado:function(){this.displayForm=!this.displayForm,this.sucursalObj={},this.selectedRowKeys=[]},cargarDepartamentos:function(){var e=this;tt.getListDominos("departamento_id").then((function(t){if(204===t.status)return e.lstDepartamentos=[],void e.$notification.warning("La parametrización de dominios no esta completa.");e.lstDepartamentos=t.data.result})).catch((function(t){e.lstDepartamentos=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},cargarLocalidades:function(e){var t=this;tt.getListDominosByAgrupador(e).then((function(e){if(204===e.status)return t.lstLocalidades=[],void t.$notification.warning("La parametrización de dominios no esta completa.");t.lstLocalidades=e.data.result})).catch((function(e){t.lstLocalidades=[],t.$notification.error(e.response.data.message,e.response.data.code)}))},cargarSucursal:function(e){var t=this;Ya.getSucursal(e).then((function(e){t.sucursalObj=e.data.result,t.cargarLocalidades(t.sucursalObj.departamentoId)}))},guardarSucursal:function(){var e=this;this.$Progress.start(),this.sucursalObj.recaudadorId=this.recaudadorId,Ya.postSucursal(this.sucursalObj).then((function(t){e.displayForm=!1,e.cargarSucursalesPorRecaudadora(e.recaudadorId),e.$notification.success(t.data.message),e.$Progress.finish()})).catch((function(t){e.$notification.error(t.response.data.message,t.response.data.code),e.$Progress.fail()}))},onSubmit:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return e.$notification.warning("Debe resolver las validaciones del formulario."),!1;e.guardarSucursal(e.sucursalObj),e.selectedRowKeys=[]}))},resetForm:function(){this.$refs.ruleForm.resetFields()},filterTable:function(){var e=this;this.lstFilter=this.lstSucursales.filter((function(t){if(null!=e.search||""!=e.search)return t.nombre.toLowerCase().includes(e.search.toLowerCase())})),this.countRows()},countRows:function(){var e=this.lstFilter.length,t=this.lstSucursales.length;this.filter="Registros: "+e+"/"+t}}},Qa=Ja,Wa=(a("401a"),Object(f["a"])(Qa,Va,Ga,!1,null,"68b698a9",null)),Za=Wa.exports,Xa={components:{compSucursales:Za},data:function(){return{recaudadorId:null,nombreRecaudador:null}},created:function(){this.recaudadorId=this.$route.params.recaudadorId,this.nombreRecaudador=this.$route.params.nombre}},eo=Xa,to=Object(f["a"])(eo,Ua,za,!1,null,null,null),ao=to.exports,oo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head"},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#08632d"}},[e._v(" REPORTE GENERAL DE DEUDAS. ")])])])],1),a("a-divider",{attrs:{orientation:"left"}},[e._v("Busqueda")]),a("a-form",[a("a-row",{attrs:{gutter:1}},[a("a-col",{attrs:{span:5}},[e._v(" Filtrar por Rango de Fechas : "),a("a-switch",{attrs:{size:"small","default-checked":""},model:{value:e.formBusquedav2.filtroRangoFechas,callback:function(t){e.$set(e.formBusquedav2,"filtroRangoFechas",t)},expression:"formBusquedav2.filtroRangoFechas"}})],1),e.formBusquedav2.filtroRangoFechas?e._e():a("a-col",{attrs:{span:5}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Anio Cobro :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{model:{value:e.formBusquedav2.anio,callback:function(t){e.$set(e.formBusquedav2,"anio",t)},expression:"formBusquedav2.anio"}},e._l(e.lstAnio,(function(t){return a("a-select-option",{key:t.anioId,attrs:{value:t.anioId}},[e._v(e._s(t.anio))])})),1)],1)],1),e.formBusquedav2.filtroRangoFechas?e._e():a("a-col",{attrs:{span:5}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Mes Cobro :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{model:{value:e.formBusquedav2.mes,callback:function(t){e.$set(e.formBusquedav2,"mes",t)},expression:"formBusquedav2.mes"}},e._l(e.lstMes,(function(t){return a("a-select-option",{key:t.mesId,attrs:{value:t.mesId}},[e._v(e._s(t.mes))])})),1)],1)],1),e.formBusquedav2.filtroRangoFechas?e._e():a("a-col",{attrs:{span:5}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Dia Cobro :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{model:{value:e.formBusquedav2.dia,callback:function(t){e.$set(e.formBusquedav2,"dia",t)},expression:"formBusquedav2.dia"}},e._l(e.lstDias,(function(t){return a("a-select-option",{key:t.diaId,attrs:{value:t.diaId}},[e._v(e._s(t.dia))])})),1)],1)],1),e.formBusquedav2.filtroRangoFechas?a("a-col",{attrs:{span:7}},[a("a-form-item",{staticClass:"a-item-form",staticStyle:{"margin-bottom":"25px"},attrs:{label:"Fecha Inicio Cobro :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-date-picker",{attrs:{format:"DD/MM/YYYY ",locale:e.locale},model:{value:e.formBusquedav2.fechaInicio,callback:function(t){e.$set(e.formBusquedav2,"fechaInicio",t)},expression:"formBusquedav2.fechaInicio"}})],1)],1):e._e(),e.formBusquedav2.filtroRangoFechas?a("a-col",{attrs:{span:7}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Fecha Fin Cobro :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-date-picker",{attrs:{format:"DD/MM/YYYY",locale:e.locale},model:{value:e.formBusquedav2.fechaFin,callback:function(t){e.$set(e.formBusquedav2,"fechaFin",t)},expression:"formBusquedav2.fechaFin"}})],1)],1):e._e(),a("a-col",{attrs:{span:5}})],1)],1),a("a-form",[a("a-row",{attrs:{gutter:1}},[a("a-col",{attrs:{span:2}}),a("a-col",{attrs:{span:6}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Empresa :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{mode:"tags",disabled:!1},model:{value:e.formBusquedav2.entidadIdArray,callback:function(t){e.$set(e.formBusquedav2,"entidadIdArray",t)},expression:"formBusquedav2.entidadIdArray"}},e._l(e.entidadesList,(function(t){return a("a-select-option",{key:t.entidadId+"",attrs:{value:t.entidadId+""}},[e._v(" "+e._s(t.nombre)+" ")])})),1)],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Socio :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{mode:"tags",disabled:!1},model:{value:e.formBusquedav2.recaudadorIdArray,callback:function(t){e.$set(e.formBusquedav2,"recaudadorIdArray",t)},expression:"formBusquedav2.recaudadorIdArray"}},e._l(e.recaudadorasList,(function(t){return a("a-select-option",{key:t.recaudadorId+"",attrs:{value:t.recaudadorId+""}},[e._v(" "+e._s(t.nombre)+" ")])})),1)],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Estado :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{mode:"tags",disabled:e.disableEstado},model:{value:e.formBusquedav2.estadoArray,callback:function(t){e.$set(e.formBusquedav2,"estadoArray",t)},expression:"formBusquedav2.estadoArray"}},e._l(e.estadoList,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1),a("a-col",{attrs:{span:3}})],1)],1),a("br"),a("a-row",{attrs:{type:"flex",justify:"center",align:"top",gutter:16}},[a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"dashed",block:""},on:{click:function(t){return e.limpiar()}}},[a("span",{style:{fontSize:"20px"}},[a("a-icon",{attrs:{type:"undo"}}),e._v(" Limpiar ")],1)])],1),a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"danger",block:""},on:{click:function(t){return e.findDeudasByParameterForReportv2(1)}}},[a("span",[a("a-icon",{attrs:{type:"search"}}),e._v(" Buscar ")],1)])],1),a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"primary",icon:"printer",block:""},on:{click:function(t){e.visibleModalTipoReporte=!0}}},[e._v(" Generar Reporte ")])],1)],1)],1),a("a-card",{staticStyle:{width:"100%"}},[a("a-divider",{attrs:{orientation:"left"}},[e._v("DATOS DE LAS DEUDAS")]),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,pagination:e.pagination,align:"center",loading:e.loadingTable}})],1),a("a-modal",{attrs:{title:"Seleccione tipo de reporte"},on:{ok:function(t){e.visibleModalTipoReporte=!1}},model:{value:e.visibleModalTipoReporte,callback:function(t){e.visibleModalTipoReporte=t},expression:"visibleModalTipoReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-col",[e._v("Seleccione un tipo de Reporte a generar.")])],1)],1),a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-radio-group",{attrs:{"button-style":"solid"},model:{value:e.formBusquedav2.export,callback:function(t){e.$set(e.formBusquedav2,"export",t)},expression:"formBusquedav2.export"}},[a("a-radio-button",{attrs:{value:"pdf"}},[e._v(" PDF ")]),a("a-radio-button",{attrs:{value:"msexcel"}},[e._v(" EXCEL ")])],1)],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){return e.openModalGenerarReporte()}}},[e._v(" Generar Reporte ")])],1)],2),a("a-modal",{attrs:{title:"Reporte Generado",width:"900px",height:"400px","dialog-style":{top:"20px"}},on:{ok:function(t){e.visibleModalReporte=!1}},model:{value:e.visibleModalReporte,callback:function(t){e.visibleModalReporte=t},expression:"visibleModalReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center"}},[e.viewCargando?a("a-spin",{attrs:{size:"large",tip:"El reporte se esta cargando...."}}):e._e(),a("iframe",{attrs:{width:"100%",height:"400px",src:this.link,frameborder:"0"}})],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalReporte=!1}}},[e._v(" Cerrar ")])],1)],2)],1)},io=[],so={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},findDeudasByParameterForReport:function(e){return E().post("api/ReportAdmin/findDeudasByParameter",e,this.headersConfig())},findDeudasByParameterForReportv2:function(e){return E().post("api/ReportAdmin/findDeudasByParameterv2",e,this.headersConfig())},getEstadoHistoricos:function(){return E().get("api/historicoDeuda/findEstadoHistorico",this.headersConfig())},getEntidades:function(){return E().get("api/entidades/findAllEntidad",this.headersConfig())},getRecaudadora:function(){return E().get("api/recaudadores/findAllRecaudadora",this.headersConfig())},findReporteCobroSocio:function(e){return E().post("api/ReportAdmin/findReporteCobroSocio",e,this.headersConfig())},findReporteCobroEmpresa:function(e){return E().post("api/ReportAdmin/findReporteCobroEmpresa",e,this.headersConfig())},openModalGenerarReporte:function(e){return E().post("api/ReportAdmin/findDeudasByParameterForReport",e,{responseType:"arraybuffer",headers:{Accept:"application/pdf",Authorization:"Bearer "+localStorage.getItem("token")}})},openModalGenerarReporteSocioAdmin:function(e){return E().post("api/ReportAdmin/findCobrosByParameterForReportSocioAdmin",e,{responseType:"arraybuffer",headers:{Accept:"application/pdf",Authorization:"Bearer "+localStorage.getItem("token")}})},openModalGenerarReporteEmpresaAdmin:function(e){return E().post("api/ReportAdmin/findCobrosByParameterForReportEmpresaAdmin",e,{responseType:"arraybuffer",headers:{Accept:"application/pdf",Authorization:"Bearer "+localStorage.getItem("token")}})}},no=[{title:"Empresa",dataIndex:"nombre",key:"nombre",width:"10%",scopedSlots:{customRender:"nombre"}},{title:"Socio ",dataIndex:"nombreRecaudadora",key:"nombreRecaudadora",width:"10%",scopedSlots:{customRender:"nombreRecaudadora"}},{title:"Cliente Final",dataIndex:"nombreCliente",key:"nombreCliente",width:"10%",scopedSlots:{customRender:"nombreCliente"}},{title:"Tipo Servicio",dataIndex:"tipoServicio",key:"tipoServicio",width:"12%"},{title:"Periodo",dataIndex:"periodo",key:"periodo",width:"8%"},{title:"Cód. Cliente",dataIndex:"codigoCliente",key:"codigoCliente",width:"10%",align:"center"},{title:"Fecha Cobro",dataIndex:"fechaCreacion",key:"fechaCreacion",width:"15%"},{title:"Monto",dataIndex:"total",key:"total",width:"10%"},{title:"Estado",key:"estado",dataIndex:"estado",width:"10%",scopedSlots:{customRender:"estado"}}],ro={data:function(){return{locale:ve["a"],formBusqueda:{fechaInicio:null,fechaFin:null,entidadId:"All",recaudadorId:"All",estado:"All",export:"pdf"},formBusquedav2:{filtroRangoFechas:!0,mes:null,dia:null,anio:null,fechaInicio:null,fechaFin:null,entidadIdArray:[],recaudadorIdArray:[],estadoArray:[]},columns:no,data:[],pagination:{},page:1,total:0,recaudadorasList:[],entidadesList:[],estadoList:[],visibleModalTipoReporte:!1,visibleModalReporte:!1,link:null,viewCargando:!1,disableEstado:!1,loadingTable:!1,checkedListEstado:[],checkedListEmpresas:[],checkedListSocios:[],lstAnio:[{anioId:"2021",anio:"2021"},{anioId:"2022",anio:"2022"},{anioId:"2023",anio:"2023"}],lstMes:[{mesId:"01",mes:"ENERO"},{mesId:"02",mes:"FEBRERO"},{mesId:"03",mes:"MARZO"},{mesId:"04",mes:"ABRIL"},{mesId:"05",mes:"MAYO"},{mesId:"06",mes:"JUNIO"},{mesId:"07",mes:"JULIO"},{mesId:"08",mes:"AGOSTO"},{mesId:"09",mes:"SEPTIEMBRE"},{mesId:"10",mes:"OCTUBRE"},{mesId:"11",mes:"NOVIEMBRE"},{mesId:"12",mes:"DICIEMBRE"}]}},created:function(){var e=this;this.getEstadoHistoricos(),this.getRecaudadora(),this.getEntidades(),this.pagination={total:this.total,onChange:function(t){console.log("paginas: "+t),e.findDeudasByParameterForReportv2(t)}}},computed:{lstDias:function(){if(""==this.formBusquedav2.anio||null==this.formBusquedav2.anio)return[];if(""==this.formBusquedav2.mes||null==this.formBusquedav2.mes)return[];var e=new Date(this.formBusquedav2.anio,this.formBusquedav2.mes,0).getDate(),t=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"];this.lst=[];for(var a=1;a<=e;a++){var o=new Date(this.formBusquedav2.anio,this.formBusquedav2.mes-1,a).getDay();1==(a+"").length?a="0"+a:a+="",this.lst.push({diaId:a,dia:"".concat(a," = ").concat(t[o])})}return this.lst}},methods:{findDeudasByParameterForReportv2:function(e){var t=this;this.formBusquedav2.filtroRangoFechas||null!=this.formBusquedav2.mes&&null!=this.formBusquedav2.dia?!this.formBusquedav2.filtroRangoFechas||null!=this.formBusquedav2.fechaInicio&&null!=this.formBusquedav2.fechaFin?0!=this.formBusquedav2.entidadIdArray.length||0!=this.formBusquedav2.recaudadorIdArray.length||0!=this.formBusquedav2.estadoArray.length?(this.loadingTable=!0,this.formBusquedav2.paginacion=e,so.findDeudasByParameterForReportv2(this.formBusquedav2).then((function(e){t.data=e.data.data.content,t.pagination.pageSize=e.data.data.numberOfElements,t.pagination.total=e.data.data.totalElements,t.loadingTable=!1})).catch((function(e){t.data=[],t.loadingTable=!1}))):this.$notification.error("Debe seleccionar Entidad, Socio y Estado."):this.$notification.error("Cuando el filtro es por rango de fechas, debe seleccionar estos parametros."):this.$notification.error("Cuando el filtro es por mes y dia, debe seleccionar estos parametros.")},getEstadoHistoricos:function(){var e=this;so.getEstadoHistoricos().then((function(t){e.estadoList=t.data.data,e.estadoList.push({label:"TODOS",value:"0"})})).catch((function(t){e.estadoList=[]}))},getEntidades:function(){var e=this;so.getEntidades().then((function(t){e.entidadesList=t.data.data,e.entidadesList.push({entidadId:0,nombre:"TODOS"})})).catch((function(t){e.entidadesList=[]}))},getRecaudadora:function(){var e=this;so.getRecaudadora().then((function(t){e.recaudadorasList=t.data.data,e.recaudadorasList.push({recaudadorId:0,nombre:"TODOS"})})).catch((function(t){e.recaudadorasList=[]}))},openModalGenerarReporte:function(){var e=this;this.link=null,this.viewCargando=!0,so.openModalGenerarReporte(this.formBusquedav2).then((function(t){200==t.status?"pdf"==e.formBusqueda.export?e.viewFileDownload(t):e.forceFileDownload(t,"reporte"):(e.viewCargando=!1,e.$notification.warning("No hay datos para mostrar en el reporte."))})).catch((function(t){e.link=null,e.viewCargando=!1,e.visibleModalReporte=!0})),this.visibleModalTipoReporte=!1,this.visibleModalReporte=!0},forceFileDownload:function(e,t){var a=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=a,"msword"==this.formBusqueda.export?o.setAttribute("download","".concat(t,".doc")):o.setAttribute("download","".concat(t,".xlsx")),document.body.appendChild(o),o.click(),this.visibleModalReporte=!1,this.viewCargando=!1},viewFileDownload:function(e){var t=new Blob([e.data],{type:"application/"+this.formBusqueda.export});this.link=URL.createObjectURL(t),this.viewCargando=!1},limpiar:function(){this.formBusquedav2.fechaInicio=null,this.formBusquedav2.fechaFin=null,this.formBusquedav2.entidadIdArray=[],this.formBusquedav2.recaudadorIdArray=[],this.formBusquedav2.estadoArray=[]}}},lo=ro,co=(a("6fe7"),Object(f["a"])(lo,oo,io,!1,null,"bf61619a",null)),uo=co.exports,mo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head"},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#08632d"}},[e._v(" CARGA DE ARCHIVOS. ")])])])],1),a("a-row",{staticStyle:{width:"100%"},attrs:{align:"top"}},[a("a-col",{attrs:{span:24}},[a("a-card",{staticStyle:{width:"100%"}},[a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",{attrs:{xs:0,sm:0,md:6,lg:6,xl:6}}),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Tipo de Pago :","label-col":{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:10},xl:{span:10}},"wrapper-col":{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:14},xl:{span:14}}}},[a("a-select",{staticStyle:{width:"100%"},on:{change:e.changeServicioProductos},model:{value:e.servicioProductosId,callback:function(t){e.servicioProductosId=t},expression:"servicioProductosId"}},e._l(e.servicioProductosList,(function(t,o){return a("a-select-opt-group",{key:o},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.descripcion))]),e._l(t.servicioProductoEntityList,(function(t){return a("a-select-option",{key:t.servicioProductoId,attrs:{value:t.servicioProductoId}},[e._v(" "+e._s(t.descripcion)+" ")])}))],2)})),1)],1)],1),a("a-col",{attrs:{xs:0,sm:0,md:6,lg:6,xl:6}})],1),a("a-upload-dragger",{attrs:{"list-type":"picture",name:"file",accept:".csv",multiple:!1,"file-list":e.fileList,disabled:this.disableUpload,method:"post",action:this.url,headers:{Authorization:"Bearer "+this.token},showUploadList:this.showUpload,"before-upload":e.handleClick},on:{change:e.handleChange}},[a("p",{staticClass:"ant-upload-drag-icon"},[a("a-icon",{attrs:{type:"inbox"}})],1),a("p",{staticClass:"ant-upload-text"},[e._v(" Haga clic o arrastre el archivo a esta área. ")])]),e.booleanMensjae?a("a-alert",{attrs:{message:e.titutloMensaje,description:e.mensajeUpload,type:e.tipoMensaje,"show-icon":""}}):e._e(),a("br"),a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"primary",block:"",disabled:e.buttonProcesar},on:{click:e.showConfirmProcearArchivo}},[a("span",[a("a-icon",{attrs:{type:"download"}}),e._v(" Procesar Cargado de Datos ")],1)])],1)],1)],1)],1),a("p"),a("a-row",{attrs:{type:"flex",justify:"space-around",align:"top"}},[a("a-col",{attrs:{span:24}},[a("a-card",{staticStyle:{width:"100%"}},[a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-form",{attrs:{layout:"inline"}},[a("a-form-item",{attrs:{label:"Busqueda de Beneficiario : "}},[a("a-input-search",{staticStyle:{width:"300px"},attrs:{placeholder:"Código, Beneficiario, Periodo......","enter-button":""},on:{search:e.onSearch},model:{value:e.paramBusqueda,callback:function(t){e.paramBusqueda=t},expression:"paramBusqueda"}})],1)],1)],1),a("a-divider",{attrs:{orientation:"left"}},[e._v("BENEFICIARIO REGISTRADOS.")]),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,bordered:"",pagination:e.pagination,showHeader:!1,loading:e.loadingTable},scopedSlots:e._u([{key:"archivoId",fn:function(t,o){return[a("table",{staticClass:"styled-header",staticStyle:{width:"100%","background-color":"#f2f0ef"}},[a("tr",[a("td",{staticClass:"td-align-right"},[e._v("Código Beneficiario:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.codigoCliente))]),a("td",{staticClass:"td-align-right"},[e._v("Periodo")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.periodo))])]),a("tr",[a("td",{staticClass:"td-align-right"},[e._v("Nombre del Beneficiario:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.nombreCliente))]),a("td",{staticClass:"td-align-right"},[e._v("Nro. Documento:")]),a("td",{staticClass:"td-align-left"},[e._v(" "+e._s(o.nroDocumentoCliente)+" ")])]),a("tr",[a("td",{staticClass:"td-align-right"},[e._v("Extensión:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.tipoDocumentoId))]),a("td",{staticClass:"td-align-right"},[e._v("Fecha de Nacimiento:")]),a("td",{staticClass:"td-align-left"},[e._v(" "+e._s(o.fechaNacimientoCliente)+" ")])])]),a("table",{staticClass:"styled-header",staticStyle:{width:"100%"}},[a("thead",{attrs:{align:"center"}},[a("tr",[a("th",{staticStyle:{width:"15%"}},[a("b",[e._v("CANTIDAD.")])]),a("th",{staticStyle:{width:"55%","text-align":"left"}},[a("b",[e._v("CONCEPTO.")])]),a("th",{staticStyle:{width:"15%"}},[a("b",[e._v("MONTO UNIT.")])]),a("th",{staticStyle:{width:"15%"}},[a("b",[e._v("SUB-TOTAL.")])])])]),a("tbody",e._l(o.abonosClientesList,(function(t,o){return a("tr",{key:o,class:o%2==0?"active-row":""},[a("td",{staticStyle:{width:"15%"},attrs:{align:"center"}},[e._v(" "+e._s(t.cantidad)+" ")]),a("td",{staticStyle:{width:"55%"}},[e._v(e._s(t.concepto))]),a("td",{staticStyle:{width:"15%","padding-right":"5%"},attrs:{align:"right"}},[e._v(" "+e._s(e._f("numericFormat")(t.montoUnitario,"0.00"))+" ")]),a("td",{staticStyle:{width:"15%","padding-right":"5%"},attrs:{align:"right"}},[e._v(" "+e._s(e._f("numericFormat")(t.subTotal,"0.00"))+" ")])])})),0),a("tfoot",{staticClass:"styled-footer"},[a("tr",[a("td",{attrs:{colspan:"2"}}),a("td",[a("b",[e._v("TOTAL")])]),a("td",{staticStyle:{"padding-right":"4.5%"},attrs:{align:"right"}},[a("b",[e._v(e._s(e._f("numericFormat")(o.totalPagar,"0.00")))])])])])])]}}])})],1)],1)],1),a("a-modal",{attrs:{closable:!1,confirmLoading:!0,mask:!0,maskClosable:!1},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("template",{slot:"footer"},[a("a-button",{key:"submit",attrs:{type:"primary",disabled:e.buttonModal},on:{click:e.handleOk}},[e._v(" Aceptar ")])],1),e.sucess?a("div",{staticClass:"div"},[a("div",{staticClass:"spin"},[a("a-icon",{attrs:{type:"check-circle",theme:"twoTone","two-tone-color":"#52c41a"}})],1),a("a-alert",{attrs:{message:"Su archivo fue procesado con éxito.",description:"Todos los registros del archivo fueron procesados y almacenados correctamente.",type:"success","show-icon":""}})],1):e._e(),e.info?a("div",[a("div",{staticClass:"spin"},[a("a-spin",{attrs:{size:"large",tip:"Procesando..."}})],1),a("a-alert",{attrs:{message:"Procesando información del archivo.",description:"Esta operación puede tardar varios minutos dependiendo de la cantidad de registros en el archivo, por favor no salga ni actualice esta aplicación.",type:"info","show-icon":""}})],1):e._e(),e.error?a("div",[a("div",{staticClass:"spin"},[a("a-icon",{attrs:{type:"close-circle",theme:"twoTone","two-tone-color":"#F64155"}})],1),a("a-alert",{attrs:{message:"El archivo no pudo ser procesado.",description:"Verifique el detalle de los errores y/o las causas que provocaron que el archivo no pueda ser procesado.",type:"error","show-icon":""}}),a("div",{staticClass:"desc"},[a("p",[a("a-icon",{style:{color:"red"},attrs:{type:"close-circle"}}),e._v(" "+e._s(e.mensaje)+" ")],1)])],1):e._e()],2)],1)},po=[],fo={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},findByEntidadIdForSelect:function(){return E().get("api/servicioProductos/findByEntidadIdForSelect",this.headersConfig())},processFile:function(e){return E().post("api/entidadPago/processFile/".concat(e),{},this.headersConfig())},findAbonosClientes:function(e,t,a){return E().get("api/entidadPago/findBeneficiarios/".concat(e,"/").concat(t,"/").concat(a),this.headersConfig())}},ho=[{title:"ABONO DE LOS CLIENTES",dataIndex:"archivoId",scopedSlots:{customRender:"archivoId"}}],go={data:function(){return{servicioProductosList:[],servicioProductosId:null,fileList:[],info:!1,sucess:!1,error:!1,visible:!1,disableUpload:!0,mensaje:"",detalle:"",archivo:{},paramBusqueda:"",data:[],columns:ho,defaultPageSize:0,total:0,pagination:{},mensajeUpload:"",tipoMensaje:"",booleanMensjae:!1,titutloMensaje:"",url:"https://quickpay.com.bo:7080/api/pagoCliente/",token:"",buttonProcesar:!0,buttonModal:!0,showUpload:!0,loadingTable:!1}},created:function(){var e=this;this.findByEntidadIdForSelect(),this.token=localStorage.getItem("token"),this.pagination={total:this.total,onChange:function(t){e.findAbonosClientes(e.archivo.archivoId,t,e.paramBusqueda)}}},methods:{findByEntidadIdForSelect:function(){var e=this;fo.findByEntidadIdForSelect().then((function(t){e.servicioProductosList=t.data.data})).catch((function(t){e.servicioProductosList=[]}))},changeServicioProductos:function(){this.url="https://quickpay.com.bo:7080/api/entidadPago/upload/"+this.servicioProductosId,this.disableUpload=!1},handleClick:function(){this.showUpload=!0,this.booleanMensjae=!1},handleChange:function(e){var t=e.file.status,a=Object(ne["a"])(e.fileList);a=a.slice(-1),a=a.map((function(e){return e.response&&(e.url=e.response.url),e})),this.fileList=a,"done"===t?(this.disableUpload=!1,this.archivo=e.file.response.archivo,this.mensajeUpload=e.file.response.mensaje,this.tipoMensaje="success",this.booleanMensjae=!0,this.titutloMensaje="Éxito",this.buttonProcesar=!1,this.showUpload=!1):"error"===t&&(this.mensajeUpload=e.file.response.mensaje,this.tipoMensaje="warning",this.titutloMensaje="Error",this.booleanMensjae=!0,this.buttonProcesar=!0,this.showUpload=!0)},showConfirmProcearArchivo:function(){var e=this;this.$createElement;this.$confirm({title:"¿Está seguro de procesar el archivo, no podrá revertir esta acción?",content:function(e){return e("div",["Al procesar los registros del archivo estos se guardarán y se eliminarán los registros anteriores."])},okText:"Aceptar",okType:"primary",cancelText:"Cancelar",onOk:function(){e.procesarArchivo()}})},procesarArchivo:function(){var e=this;this.visible=!0,this.info=!0,this.sucess=!1,this.error=!1,this.buttonModal=!0,fo.processFile(this.archivo.archivoId).then((function(t){e.info=!1,e.sucess=!0,e.error=!1,e.buttonModal=!1,e.buttonProcesar=!0,e.findAbonosClientes(e.archivo.archivoId,1,"")})).catch((function(t){"A"==t.response.data.causa?(e.mensaje=t.response.data.mensaje,e.detalle=t.response.data.detalle):e.mensaje=t.response.data.mensaje,e.info=!1,e.sucess=!1,e.error=!0,e.buttonModal=!1}))},findAbonosClientes:function(e,t,a){var o=this;this.loadingTable=!0,fo.findAbonosClientes(e,t,a).then((function(e){o.pagination.pageSize=e.data.data.numberOfElements,o.pagination.total=e.data.data.totalElements,o.data=e.data.data.content,o.loadingTable=!1})).catch((function(e){o.data=[],o.loadingTable=!1}))},onSearch:function(){this.data=[],this.loadingTable=!0,this.findAbonosClientes(this.archivo.archivoId,1,this.paramBusqueda)},handleOk:function(e){this.visible=!1}}},bo=go,vo=(a("c141"),Object(f["a"])(bo,mo,po,!1,null,null,null)),yo=vo.exports,Co=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head"},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#08632d"}},[a("a-icon",{attrs:{type:"arrow-left"},on:{click:function(t){return e.$router.back()}}}),e._v(" PAGOS - "+e._s(e.servicioProducto.descripcion))],1)])])],1)]),a("a-row",[a("a-col",{staticStyle:{"padding-right":"3px"},attrs:{xs:24,sm:24,md:24,lg:10,xl:10}},[a("a-card",{attrs:{title:"Busqueda de Beneficiario",headStyle:{backgroundColor:"#558D55",color:"#FFFF"}}},[a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[a("a-input-search",{attrs:{placeholder:"Código Cliente, Nro. Documento, Beneficiario....","enter-button":" Buscar ",maxLength:100},on:{search:function(t){return e.getBeneficiariosParaPagar()}},model:{value:e.paramBusqueda,callback:function(t){e.paramBusqueda=t},expression:"paramBusqueda"}})],1)],1),a("br"),a("a-row",[a("a-table",{attrs:{columns:e.columns,"data-source":e.beneficiarioList,pagination:!1,loading:e.loadingTable},scopedSlots:e._u([{key:"PAGAR",fn:function(t,o){return a("span",{},[a("a-button",{attrs:{type:"link",shape:"circle",icon:"right-circle",size:"large"},on:{click:function(t){return e.getDetalleBeneficiariosaPagar(o)}}})],1)}}])})],1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:14,xl:14}},[a("a-card",{staticStyle:{width:"100%",padding:"0px",margin:"0px",border:"0px"},attrs:{loading:!e.showAbonadoTable,title:"Beneficiario Seleccionado",headStyle:{backgroundColor:"#558D55",color:"#FFFFFF"}}},[a("a-table",{staticStyle:{width:"100%",padding:"0px",margin:"0px",border:"0px"},attrs:{columns:e.columnsBeneficiario,"data-source":e.beneficiarioPagoList,pagination:!1,showHeader:!1,"row-selection":e.rowSelection},scopedSlots:e._u([{key:"archivoId",fn:function(t,o){return[a("table",{staticClass:"styled-header",staticStyle:{width:"100%","background-color":"#f2f0ef",padding:"0px",margin:"0px",border:"0px"}},[a("tr",[a("td",{staticClass:"td-align-right"},[e._v("Código:")]),a("td",{staticClass:"td-align-left"},[e._v(" "+e._s(o.codigoCliente)+" ")]),a("td",{staticClass:"td-align-right"},[e._v("Periodo:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.periodo))])]),a("tr",[a("td",{staticClass:"td-align-right"},[e._v("Beneficiario:")]),a("td",{staticClass:"td-align-left"},[e._v(" "+e._s(o.nombreCliente)+" ")]),a("td",{staticClass:"td-align-right"},[e._v("Nro. Doc.:")]),a("td",{staticClass:"td-align-left"},[e._v(" "+e._s(o.nroDocumentoCliente)+" ")])]),a("tr",[a("td",{staticClass:"td-align-right"},[e._v("Extensión:")]),a("td",{staticClass:"td-align-left"},[e._v(" "+e._s(o.tipoDocumentoId)+" ")]),a("td",{staticClass:"td-align-right"},[e._v("Fec. Nac.:")]),a("td",{staticClass:"td-align-left"},[e._v(" "+e._s(o.fechaNacimientoCliente)+" ")])])]),a("br"),a("table",{staticClass:"styled-header",staticStyle:{width:"100%",padding:"0px",margin:"0px",border:"0px"}},[a("thead",{attrs:{align:"center"}},[a("tr",[a("th",{staticStyle:{width:"20%"}},[e._v(" CANTIDAD. "),a("hr"),a("hr")]),a("th",{staticStyle:{width:"40%","text-align":"left"}},[e._v(" CONCEPTO. "),a("hr"),a("hr")]),a("th",{staticStyle:{width:"20%"}},[e._v(" M. UNIT. "),a("hr"),a("hr")]),a("th",{staticStyle:{width:"20%"}},[e._v(" SUBTOTAL. "),a("hr"),a("hr")])])]),a("tbody",e._l(o.abonosClientesList,(function(t,o){return a("tr",{key:o,class:o%2==0?"active-row":""},[a("td",{staticStyle:{width:"20%"},attrs:{align:"center"}},[e._v(" "+e._s(t.cantidad)+" ")]),a("td",{staticStyle:{width:"40%"}},[e._v(e._s(t.concepto))]),a("td",{staticStyle:{width:"20%","padding-right":"5%"},attrs:{align:"right"}},[e._v(" "+e._s(e._f("numericFormat")(t.montoUnitario,"0.00"))+" ")]),a("td",{staticStyle:{width:"20%","padding-right":"5%"},attrs:{align:"right"}},[e._v(" "+e._s(e._f("numericFormat")(t.subTotal,"0.00"))+" ")])])})),0),a("tfoot",{staticClass:"styled-footer,styled-header"},[a("tr",[a("td",{staticClass:"td-align-footer",attrs:{colspan:"2"}}),a("td",{staticClass:"td-align-footer"},[e._v("TOTAL")]),e.showAbonadoTable?a("td",{staticClass:"td-align-footer",staticStyle:{"padding-right":"5%"},attrs:{align:"right"}},[a("b",[e._v(e._s(e._f("numericFormat")(o.totalPagar,"0.00")))])]):e._e()])])])]}}])}),a("div",[a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{span:24}},[a("a-button",{staticStyle:{height:"50px"},attrs:{type:"primary",disabled:e.showButtonRealizaPago,block:""},on:{click:e.openConfirmvVsible}},[a("span",{style:{fontSize:"19px"}},[a("b",[a("a-icon",{attrs:{type:"dollar"}}),e._v(" Realizar Pago")],1)])])],1)],1)],1)],1)],1)],1),a("a-modal",{attrs:{title:"DATOS ADICIONALES"},model:{value:e.modalDatosAdicionales,callback:function(t){e.modalDatosAdicionales=t},expression:"modalDatosAdicionales"}},[a("a-row",[a("a-col",{attrs:{span:24}},[a("div",[a("div",{style:{borderBottom:"1px solid #E9E9E9"}},[a("a-checkbox",{attrs:{checked:e.formDatosAdicionales.datosTitular},on:{change:e.checkDatosTitular}},[a("b",[e._v("DATOS DEL TITULAR \\ APODERADO")])])],1),a("br"),a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{span:11}},[e._v(" Nombre Titular: "),a("a-input",{attrs:{disabled:!e.formDatosAdicionales.datosTitular},model:{value:e.formDatosAdicionales.nombreTitular,callback:function(t){e.$set(e.formDatosAdicionales,"nombreTitular",t)},expression:"formDatosAdicionales.nombreTitular"}})],1),a("a-col",{attrs:{span:11}},[e._v(" Nro. Documento: "),a("a-input",{attrs:{disabled:!e.formDatosAdicionales.datosTitular},model:{value:e.formDatosAdicionales.documento,callback:function(t){e.$set(e.formDatosAdicionales,"documento",t)},expression:"formDatosAdicionales.documento"}})],1)],1),a("br"),a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{span:11}},[a("a-checkbox",{attrs:{checked:e.formDatosAdicionales.fotocopiaTitualar,disabled:!e.formDatosAdicionales.datosTitular},on:{change:function(t){e.formDatosAdicionales.fotocopiaTitualar=!e.formDatosAdicionales.fotocopiaTitualar}}},[e._v(" Fotocopia de CI Beneficiario.")])],1),a("a-col",{attrs:{span:11}},[a("a-checkbox",{attrs:{checked:e.formDatosAdicionales.cartaPoder,disabled:!e.formDatosAdicionales.datosTitular},on:{change:function(t){e.formDatosAdicionales.cartaPoder=!e.formDatosAdicionales.cartaPoder}}},[e._v("Carta Poder ")])],1)],1)],1)])],1),a("br"),a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{span:24}},[a("div",[a("div",{style:{borderBottom:"1px solid #E9E9E9"}},[a("a-checkbox",{attrs:{checked:e.formDatosAdicionales.datosBeneficiario},on:{change:e.checkDatosBeneficiario}},[a("b",[e._v("DOCUMENTOS ENTREGADOS")])])],1),a("br"),a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{span:11}},[a("a-checkbox",{attrs:{checked:e.formDatosAdicionales.fotocopiaBeneficiario,disabled:!e.formDatosAdicionales.datosBeneficiario},on:{change:function(t){e.formDatosAdicionales.fotocopiaBeneficiario=!e.formDatosAdicionales.fotocopiaBeneficiario}}},[e._v(" Fotocopia de CI Beneficiario. ")])],1),a("a-col",{attrs:{span:11}},[a("a-checkbox",[e._v(" Otros ")])],1)],1)],1)])],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.modalDatosAdicionales=!1}}},[e._v(" Cancelar ")]),a("a-button",{key:"Guardar",attrs:{type:"primary"}},[e._v(" Adicionar ")])],1)],2),a("a-modal",{attrs:{closable:!1,confirmLoading:!0,mask:!0,maskClosable:!1,width:"60%",height:"80%","dialog-style":{top:"5px"},title:"CONFIRMACIÓN DEL PAGO"},model:{value:e.confirmvVsible,callback:function(t){e.confirmvVsible=t},expression:"confirmvVsible"}},[a("a-row",[a("a-col",{attrs:{span:24}},[a("div",[a("div",{style:{borderBottom:"1px solid #E9E9E9"}},[a("a-checkbox",{attrs:{checked:e.formDatosAdicionales.datosTitular},on:{change:e.checkDatosTitular}},[a("b",[e._v("DATOS DEL TITULAR \\ APODERADO")])])],1),a("br"),a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{span:11}},[e._v(" Nombre Titular: "),a("a-input",{attrs:{disabled:!e.formDatosAdicionales.datosTitular},model:{value:e.formDatosAdicionales.nombreTitular,callback:function(t){e.$set(e.formDatosAdicionales,"nombreTitular",t)},expression:"formDatosAdicionales.nombreTitular"}})],1),a("a-col",{attrs:{span:11}},[e._v(" Nro. Documento: "),a("a-input",{attrs:{disabled:!e.formDatosAdicionales.datosTitular},model:{value:e.formDatosAdicionales.documento,callback:function(t){e.$set(e.formDatosAdicionales,"documento",t)},expression:"formDatosAdicionales.documento"}})],1)],1)],1)])],1),a("div",{style:{borderBottom:"1px solid #E9E9E9"}},[a("b",[e._v("DETALLE DEL PAGO")])]),a("a-table",{staticStyle:{width:"100%",padding:"0px",margin:"0px",border:"0px"},attrs:{columns:e.columnsBeneficiario,"data-source":e.selectedBeneficiarioLits,pagination:!1,showHeader:!1},scopedSlots:e._u([{key:"archivoId",fn:function(t,o){return[a("table",{staticClass:"styled-header",staticStyle:{width:"100%","background-color":"#f2f0ef",padding:"0px",margin:"0px",border:"0px"}},[a("tr",[a("td",{staticClass:"td-align-right"},[e._v("Código:")]),a("td",{staticClass:"td-align-left"},[e._v(" "+e._s(o.codigoCliente)+" ")]),a("td",{staticClass:"td-align-right"},[e._v("Nro. Doc.:")]),a("td",{staticClass:"td-align-left"},[e._v(" "+e._s(o.nroDocumentoCliente)+" ")])]),a("tr",[a("td",{staticClass:"td-align-right"},[e._v("Beneficiario:")]),a("td",{staticClass:"td-align-left"},[e._v(" "+e._s(o.nombreCliente)+" ")]),a("td",{staticClass:"td-align-right"},[e._v("Extensión:")]),a("td",{staticClass:"td-align-left"},[e._v(" "+e._s(o.tipoDocumentoId)+" ")])]),a("tr",[a("td",{staticClass:"td-align-right"},[e._v("Periodo:")]),a("td",{staticClass:"td-align-left"},[e._v(e._s(o.periodo))]),a("td",{staticClass:"td-align-right"},[e._v("Fecha de Nac.:")]),a("td",{staticClass:"td-align-left"},[e._v(" "+e._s(o.fechaNacimientoCliente)+" ")])])]),a("br"),a("table",{staticClass:"styled-header",staticStyle:{width:"100%",padding:"0px",margin:"0px",border:"0px"}},[a("thead",{attrs:{align:"center"}},[a("tr",[a("th",{staticStyle:{width:"20%"}},[e._v(" CANTIDAD. "),a("hr"),a("hr")]),a("th",{staticStyle:{width:"40%","text-align":"left"}},[e._v(" CONCEPTO. "),a("hr"),a("hr")]),a("th",{staticStyle:{width:"20%"}},[e._v(" M. UNIT. "),a("hr"),a("hr")]),a("th",{staticStyle:{width:"20%"}},[e._v(" SUBTOTAL. "),a("hr"),a("hr")])])]),a("tbody",e._l(o.abonosClientesList,(function(t,o){return a("tr",{key:o,class:o%2==0?"active-row":""},[a("td",{staticStyle:{width:"20%"},attrs:{align:"center"}},[e._v(" "+e._s(t.cantidad)+" ")]),a("td",{staticStyle:{width:"40%"}},[e._v(e._s(t.concepto))]),a("td",{staticStyle:{width:"20%","padding-right":"5%"},attrs:{align:"right"}},[e._v(" "+e._s(e._f("numericFormat")(t.montoUnitario,"0.00"))+" ")]),a("td",{staticStyle:{width:"20%","padding-right":"5%"},attrs:{align:"right"}},[e._v(" "+e._s(e._f("numericFormat")(t.subTotal,"0.00"))+" ")])])})),0),a("tfoot",[a("tr",[a("td",{attrs:{colspan:"2"}}),a("td",[a("b",[e._v("TOTAL")])]),e.showAbonadoTable?a("td",{staticStyle:{"padding-right":"5%"},attrs:{align:"right"}},[a("b",[e._v(e._s(e._f("numericFormat")(o.totalPagar,"0.00")))])]):e._e()])])])]}}])},[e.viewFooterTable?a("template",{slot:"footer"},[a("table",[a("tr",{staticClass:"styled-footer"},[a("td",{staticStyle:{width:"80%"},attrs:{align:"right"}},[a("b",[e._v("SUMA TOTAL A CANCELAR DE LOS BENEFICIOS SELECCIONADOS EN (Bs):")])]),a("td",{staticStyle:{"padding-right":"5%",width:"20%"},attrs:{align:"right"}},[a("b",[e._v(e._s(e._f("numericFormat")(e.montoTotalPagar,"0.00")))])])])])]):e._e()],2),a("template",{slot:"footer"},[a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{span:11}},[a("a-button",{key:"back",staticStyle:{height:"40px"},attrs:{block:""},on:{click:function(t){e.confirmvVsible=!1}}},[e._v(" Cancelar ")])],1),a("a-col",{attrs:{span:11}},[a("a-button",{key:"Guardar",staticStyle:{height:"40px"},attrs:{type:"primary",block:""},on:{click:e.realizarPago}},[a("a-icon",{attrs:{type:"dollar"}}),e._v(" Procesar ")],1)],1)],1)],1)],2),a("a-modal",{attrs:{title:"Reporte Generado",width:"900px",height:"400px","dialog-style":{top:"20px"}},on:{ok:function(t){e.visibleModalReporte=!1}},model:{value:e.visibleModalReporte,callback:function(t){e.visibleModalReporte=t},expression:"visibleModalReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center"}},[e.viewCargando?a("a-spin",{attrs:{size:"large",tip:"El comprobante se esta cargando...."}}):e._e(),e.viewFrame?a("iframe",{attrs:{width:"100%",height:"400px",src:this.linkReport,frameborder:"0"}}):e._e()],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalReporte=!1}}},[e._v(" Cerrar ")])],1)],2)],1)},xo=[],Eo={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},cargarTiposEntidades:function(){return E().get("api/entidades/findTipoEntidadPagadoras",this.headersConfig())},findByProductosByParametros:function(e){return E().get("api/servicioProductos/findByProductos/busqueda/".concat(e),this.headersConfig())},findByProductosByTipoEntidad:function(e){return E().get("api/servicioProductos/findByProductos/tipo/".concat(e),this.headersConfig())},getBeneficiariosParaPagar:function(e,t){return E().get("api/recaudadoraPagos/getBeneficiariosParaPagar/".concat(e,"/").concat(t),this.headersConfig())},getDetalleBeneficiariosaPagar:function(e,t,a){return E().get("api/recaudadoraPagos/getBeneficiario/".concat(e,"/").concat(t,"/").concat(a),this.headersConfig())},getServicioProductos:function(e){return E().get("api/servicioProductos/findById/".concat(e),this.headersConfig())},realizarPago:function(e){return E().post("api/recaudadoraPagos/realizarPago",e,{responseType:"arraybuffer",headers:{Accept:"application/pdf",Authorization:"Bearer "+localStorage.getItem("token")}})},verificarPeriodo:function(e,t,a){return E().get("api/recaudadoraPagos/verificarPrelacion/".concat(e,"/").concat(t,"/").concat(a),this.headersConfig())}},Ro=[{title:"CÓDIGO ",dataIndex:"codigoCliente",key:"codigoCliente"},{title:"NRO. DOC.",dataIndex:"nroDocumentoCliente",key:"nroDocumentoCliente"},{title:"BENEFICIARIO",dataIndex:"nombreCliente",key:"nombreCliente"},{title:"PAGAR",key:"PAGAR",scopedSlots:{customRender:"PAGAR"}}],wo=[{title:"ABONO DE LOS CLIENTES",dataIndex:"archivoId",scopedSlots:{customRender:"archivoId"}}],Io={data:function(){return{servicioProducto:{},columns:Ro,columnsBeneficiario:wo,servicioProductoId:null,paramBusqueda:"",beneficiarioList:[],beneficiarioPagoList:[],showAbonadoTable:!1,loadingTable:!1,modalDatosAdicionales:!1,confirmvVsible:!1,selectedBeneficiarioLit:[],showButtonRealizaPago:!0,formDatosAdicionales:{datosTitular:!1,nombreTitular:"",documento:"",fotocopiaTitualar:!1,cartaPoder:!1,datosBeneficiario:!1,fotocopiaBeneficiario:!1},selectedBeneficiarioLits:[],montoTotalPagar:0,linkReport:"",viewCargando:!0,visibleModalReporte:!1,beneficiarioSeleccionado:{},viewFrame:!1,viewFooterTable:!1}},created:function(){this.servicioProductoId=this.$route.params.servicioProductoId,this.getDatosServicio()},computed:{rowSelection:function(){var e=this;return{onChange:function(t,a){a.length>0?e.showButtonRealizaPago=!1:e.showButtonRealizaPago=!0,e.selectedBeneficiarioLits=a}}}},methods:{getDatosServicio:function(){var e=this;Eo.getServicioProductos(this.servicioProductoId).then((function(t){e.servicioProducto=t.data.data})).catch((function(t){e.servicioProducto={}}))},getBeneficiariosParaPagar:function(){var e=this;this.beneficiarioPagoList=[],this.showButtonRealizaPago=!0,this.selectedBeneficiarioLits=[],this.formDatosAdicionales.nombreTitular="",this.formDatosAdicionales.documento="",this.formDatosAdicionales.datosTitular=!1,this.beneficiarioList=[],this.loadingTable=!0,Eo.getBeneficiariosParaPagar(this.servicioProductoId,this.paramBusqueda).then((function(t){e.beneficiarioList=t.data.data,e.loadingTable=!1})).catch((function(t){e.beneficiarioList=[]}))},getDetalleBeneficiariosaPagar:function(e){var t=this;this.beneficiarioPagoList=[],this.showButtonRealizaPago=!0,this.selectedBeneficiarioLits=[],this.formDatosAdicionales.nombreTitular="",this.formDatosAdicionales.documento="",this.formDatosAdicionales.datosTitular=!1,this.beneficiarioSeleccionado=e,this.showAbonadoTable=!1,Eo.getDetalleBeneficiariosaPagar(e.archivoId,e.codigoCliente,e.nroDocumentoCliente).then((function(e){t.beneficiarioPagoList=e.data.data,t.showAbonadoTable=!0})).catch((function(e){t.beneficiarioPagoList={}}))},procesarPago:function(){var e=this,t=[];this.confirmvVsible=!1,this.visibleModalReporte=!0,this.viewCargando=!0,this.viewFrame=!1,this.selectedBeneficiarioLits.forEach((function(a){var o={};o.archivoId=a.archivoId,o.codigoCliente=a.codigoCliente,o.nroDocumentoCliente=a.nroDocumentoCliente,o.periodo=a.periodo,o.nombreTitular=e.formDatosAdicionales.nombreTitular,o.documentoTitular=e.formDatosAdicionales.documento,t.push(o)})),Eo.realizarPago(t).then((function(t){e.viewFileDownload(t),e.visibleModalReporte=!0,e.confirmvVsible=!1,e.getDetalleBeneficiariosaPagar(e.beneficiarioSeleccionado),e.viewCargando=!1,e.viewFrame=!0,e.$notification.success("El pago del beneficio se procesó correctamente.")})).catch((function(t){e.visibleModalReporte=!1,e.$notification.error("Ocurrió un error en el servidor, por favor intente la operación más tarde o consulte con su administrador.")}))},realizarPago:function(){var e=this;this.$createElement;this.$confirm({title:function(e){return e("div",{style:"color:#A45924;"},[e("b",["¡Confirmación del proceso de pago!"])])},content:function(e){return e("div",[e("b",["Está seguro de procesar el pago, no podrá revertir esta operación."])])},onOk:function(){e.procesarPago()},okText:"ACEPTAR",cancelText:"CANCELAR",class:"test"})},viewFileDownload:function(e){var t=new Blob([e.data],{type:"application/pdf"});this.linkReport=URL.createObjectURL(t),this.viewCargando=!1},openModalDatosAdicionales:function(){this.modalDatosAdicionales=!0},openConfirmvVsible:function(){var e=this;this.montoTotalPagar=0,this.confirmvVsible=!1,this.viewFooterTable=!1;var t=[],a=null,o=null;this.selectedBeneficiarioLits.forEach((function(i){e.montoTotalPagar=e.montoTotalPagar+i.totalPagar,t.push(i.nroRegistro),a=i.archivoId,o=i.codigoCliente})),t.length>1&&(this.viewFooterTable=!0),Eo.verificarPeriodo(a,o,t).then((function(t){t.data.prelacion?e.confirmvVsible=!0:(e.confirmvVsible=!1,e.showConfirm())})).catch((function(e){}))},showConfirm:function(){var e=this.$createElement;this.$info({title:"No se puede procesar el pago!",content:e("div",{},[e("p","No se puede procesar el pago debido a que existe una bonificación con periodo anterior.")]),okText:"Aceptar",onOk:function(){}})},checkDatosTitular:function(){this.formDatosAdicionales.datosTitular=!this.formDatosAdicionales.datosTitular,this.formDatosAdicionales.nombreTitular="",this.formDatosAdicionales.documento="",this.formDatosAdicionales.fotocopiaTitualar=!1,this.formDatosAdicionales.cartaPoder=!1},checkDatosBeneficiario:function(){this.formDatosAdicionales.datosBeneficiario=!this.formDatosAdicionales.datosBeneficiario,this.formDatosAdicionales.fotocopiaBeneficiario=!1}}},ko=Io,_o=(a("ff06"),Object(f["a"])(ko,Co,xo,!1,null,"694b9d90",null)),Ao=_o.exports,So=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head",staticStyle:{width:"100%"}},[a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("h2",[a("b",{staticStyle:{color:"#08632d"}},[e._v("PAGOS")])])]),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:14,xl:14}},[a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:4,xl:4}},[a("b",[a("h3",[e._v("Buscar por :")])])]),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:20,xl:20}},[a("a-input-search",{attrs:{placeholder:"Servicio, Código Cliente, Periodo ....","enter-button":" Buscar "},on:{search:e.findByProductosByParametros,keyup:e.mostrarProductos},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1)],1)]),a("a-card",{staticStyle:{width:"100%"}},[a("a-row",[a("a-divider",{attrs:{orientation:"left"}},[e._v(" TIPOS DE EMPRESAS ")])],1),a("a-row",{attrs:{type:"flex",justify:"center"}},e._l(e.lstTipoEntidades,(function(t,o){return a("a-col",{key:o,attrs:{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:5},hoverable:""},on:{click:function(a){return e.findByProductosByTipoEntidad(t.dominioId)}}},[a("a-card",{attrs:{hoverable:""}},[a("a-card-meta",{attrs:{title:t.descripcion}},[a("a-avatar",{attrs:{slot:"avatar",src:t.imagen64,size:54},slot:"avatar"})],1)],1)],1)})),1),a("a-divider",{attrs:{orientation:"left"}}),e.displayProductos?a("div",{staticStyle:{width:"100%"}},[a("div",[a("a-row",{attrs:{type:"flex",justify:"center",gutter:16}},e._l(e.productosList,(function(t,o){return a("a-col",{key:o,staticClass:"card",attrs:{xs:24,sm:24,md:12,lg:6},on:{click:function(a){return e.seleccionar(t.servicioProductoId)}}},[a("img",{staticStyle:{height:"130px"},attrs:{src:t.imagenBase64}}),a("div",{staticStyle:{width:"100%",height:"30px","font-size":"12px","text-align":"center",padding:"5px",color:"#084d6e"}},[a("b",[e._v(e._s(t.descripcion))])])])})),1)],1)]):e._e()],1)],1)},Do=[],Oo={data:function(){return{lstTipoEntidades:[],productosList:[],search:"",displayEntidades:!1,displayProductos:!1,disableCard:null}},mounted:function(){this.cargarTiposEntidades()},methods:{findByProductosByParametros:function(){var e=this;this.displayProductos=!1,this.productosList=[],Eo.findByProductosByParametros(this.search).then((function(t){t.data.status?(e.productosList=t.data.data,e.displayProductos=!0,e.$notification.success(t.data.message)):(e.productosList=[],e.displayProductos=!1,e.$notification.warning("No existe resultados asociadas a la busqueda"))})).catch((function(t){e.productosList=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},findByProductosByTipoEntidad:function(e){var t=this;this.displayProductos=!1,this.productosList=[],Eo.findByProductosByTipoEntidad(e).then((function(e){e.data.status?(t.productosList=e.data.data,t.displayProductos=!0,t.$notification.success(e.data.message)):(t.productosList=[],t.displayProductos=!1,t.$notification.warning("No existe resultados asociadas a la busqueda"))})).catch((function(e){t.productosList=[],t.$notification.error(e.response.data.message,e.response.data.code)}))},cargarTiposEntidades:function(){var e=this;Eo.cargarTiposEntidades().then((function(t){e.lstTipoEntidades=t.data.result})).catch((function(t){e.lstTipoEntidades=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},mostrarProductos:function(){null==this.search||""==this.search?(this.displayProductos=!1,this.productosList=[]):this.displayProductos=!0},seleccionar:function(e){this.$router.push({name:"PaymentsServicios",params:{servicioProductoId:e}})}}},To=Oo,Lo=(a("e93f"),Object(f["a"])(To,So,Do,!1,null,"98061da4",null)),Bo=Lo.exports,Mo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head"},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#08632d"}},[e._v(" REPORTE GENERAL DE PAGOS ")])])])],1),a("a-divider",{attrs:{orientation:"left"}},[e._v("BUSQUEDA")]),a("a-form",[a("a-row",{attrs:{gutter:1}},[a("a-col",{attrs:{span:2}}),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:10,xl:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Fecha Inicio :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"DD/MM/YYYY ",locale:e.locale},model:{value:e.formBusqueda.fechaIni,callback:function(t){e.$set(e.formBusqueda,"fechaIni",t)},expression:"formBusqueda.fechaIni"}})],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:10,xl:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Fecha Fin :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{size:"default",format:"DD/MM/YYYY",locale:e.locale},model:{value:e.formBusqueda.fechaFin,callback:function(t){e.$set(e.formBusqueda,"fechaFin",t)},expression:"formBusqueda.fechaFin"}})],1)],1),a("a-col",{attrs:{span:2}})],1)],1),a("a-form",[a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Tipo de Pago :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{staticStyle:{width:"100%"},model:{value:e.formBusqueda.servicioProductoId,callback:function(t){e.$set(e.formBusqueda,"servicioProductoId",t)},expression:"formBusqueda.servicioProductoId"}},e._l(e.servicioProductosList,(function(t,o){return a("a-select-opt-group",{key:o},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.descripcion))]),e._l(t.servicioProductoEntityList,(function(t){return a("a-select-option",{key:t.servicioProductoId,attrs:{value:t.servicioProductoId}},[e._v(" "+e._s(t.descripcion)+" ")])}))],2)})),1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Recaudadora :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{mode:"tags",size:"default"},on:{change:e.onChangeRecaudacion},model:{value:e.checkedListRecaudacion,callback:function(t){e.checkedListRecaudacion=t},expression:"checkedListRecaudacion"}},e._l(e.recaudadoresList,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Estado :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{mode:"tags",size:"default"},model:{value:e.checkedListEstado,callback:function(t){e.checkedListEstado=t},expression:"checkedListEstado"}},e._l(e.estadoList,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1)],1)],1),a("br"),a("a-row",{attrs:{type:"flex",justify:"center",align:"top",gutter:16}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"dashed",block:""},on:{click:function(t){return e.limpiar()}}},[a("span",{style:{fontSize:"20px"}},[a("a-icon",{attrs:{type:"undo"}}),e._v(" Limpiar ")],1)])],1),a("a-col",{attrs:{span:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"danger",block:""},on:{click:function(t){return e.findListReporteGrid(1)}}},[a("span",[a("a-icon",{attrs:{type:"search"}}),e._v(" Buscar ")],1)])],1),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"primary",block:""},on:{click:function(t){e.visibleModalTipoReporte=!0}}},[a("span",[a("a-icon",{attrs:{type:"printer"}}),e._v(" Generar Reporte ")],1)])],1)],1)],1),a("a-card",{staticStyle:{width:"100%"}},[a("a-divider",{attrs:{orientation:"left"}},[e._v("DATOS DE LOS PAGOS")]),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,pagination:e.pagination,align:"center",loading:e.loadingTable},scopedSlots:e._u([{key:"estado",fn:function(t,o){return["COBRADAS"==o.estado?a("div",[a("a-tag",{attrs:{color:"green"}},[a("a-icon",{style:{fontSize:"15px"},attrs:{type:"check"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"POR PAGAR"==o.estado?a("div",[a("a-tag",{attrs:{color:"blue"}},[a("a-icon",{style:{fontSize:"15px"},attrs:{type:"exclamation-circle"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e()]}}])})],1),a("a-modal",{attrs:{title:"Seleccione tipo de reporte"},on:{ok:function(t){e.visibleModalTipoReporte=!1}},model:{value:e.visibleModalTipoReporte,callback:function(t){e.visibleModalTipoReporte=t},expression:"visibleModalTipoReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-col",[e._v("Seleccione un tipo de Reporte a generar.")])],1)],1),a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-radio-group",{attrs:{"button-style":"solid"},model:{value:e.formBusqueda.export,callback:function(t){e.$set(e.formBusqueda,"export",t)},expression:"formBusqueda.export"}},[a("a-radio-button",{attrs:{value:"pdf"}},[e._v(" PDF ")]),a("a-radio-button",{attrs:{value:"msword"}},[e._v(" WORD ")]),a("a-radio-button",{attrs:{value:"msexcel"}},[e._v(" EXCEL ")])],1)],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){return e.openModalGenerarReporte()}}},[e._v(" Generar Reporte ")])],1)],2),a("a-modal",{attrs:{title:"Reporte Generado",width:"800px","dialog-style":{top:"20px"}},on:{ok:function(t){e.visibleModalReporte=!1}},model:{value:e.visibleModalReporte,callback:function(t){e.visibleModalReporte=t},expression:"visibleModalReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center"}},[e.viewCargando?a("a-spin",{attrs:{size:"large",tip:"El reporte se esta cargando...."}}):e._e(),e.mensajeVisible?a("a-alert",{attrs:{message:"ADVERTENCIA",description:e.mensajeReporte,type:"warning","show-icon":""}}):e._e(),a("iframe",{attrs:{width:"800px",height:"350px",src:this.link}})],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalReporte=!1}}},[e._v(" Cerrar ")])],1)],2)],1)},jo=[],Fo={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},getServiciosProductos:function(){return E().get("api/servicioProductos/findByEntidadIdForSelect",this.headersConfig())},getRecaudadoresByEntidad:function(){return E().get("api/recaudadores/findRecaudadoresByEntidadId",this.headersConfig())},getEstadoHistoricos:function(){return E().get("api/historicoDeuda/findEstadoHistoricoPagos",this.headersConfig())},listForGridEntidad:function(e){return E().post("api/reportePagos/listForGridEntidad",e,this.headersConfig())},listForReportEntidad:function(e){return E().post("api/reportePagos/listForReportEntidad",e,{responseType:"arraybuffer",headers:{Accept:"application/pdf",Authorization:"Bearer "+localStorage.getItem("token")}})},findServiciosForRecaudadorId:function(){return E().get("api/servicioProductos/findServiciosForRecaudadorId",this.headersConfig())},listForGridRecaudacion:function(e){return E().post("api/reportePagos/listForGridRecaudacion",e,this.headersConfig())},listForReportRecaudacion:function(e){return E().post("api/reportePagos/listForReportRecaudacion",e,{responseType:"arraybuffer",headers:{Accept:"application/pdf",Authorization:"Bearer "+localStorage.getItem("token")}})},findForSelect:function(){return E().get("api/servicioProductos/findForSelect",this.headersConfig())},findRecaudadoresByEntidadId:function(e){return E().get("api/recaudadores/findRecaudadoresByservicioProductoId/".concat(e),this.headersConfig())},listForGridAdministracion:function(e){return E().post("api/reportePagos/listForGridAdministracion",e,this.headersConfig())},listForReportAdministracion:function(e){return E().post("api/reportePagos/listForReportAdministracion",e,{responseType:"arraybuffer",headers:{Accept:"application/pdf",Authorization:"Bearer "+localStorage.getItem("token")}})}},Po=[{title:"CÓDIGO",dataIndex:"codigoCliente",key:"codigoCliente",width:"7%",scopedSlots:{customRender:"codigoCliente"}},{title:"BENEFICIARIO",dataIndex:"nombreCliente",key:"nombreCliente",width:"12%"},{title:"NRO. DOC.",dataIndex:"nroDocumentoCliente",key:"nroDocumentoCliente",width:"7%"},{title:"PERIODO",dataIndex:"periodo",key:"periodo",width:"10%"},{title:"APODERADO",dataIndex:"nombreTitular",key:"nombreTitular",width:"10%"},{title:"FECHA PAGO",dataIndex:"fechaEstado",key:"fechaCreacion",width:"10%"},{title:"TOTAL (Bs)",dataIndex:"total",key:"total",width:"10%",align:"center"}],$o={data:function(){return{locale:ve["a"],formBusqueda:{fechaIni:null,fechaFin:null,servicioProductoId:null,recaudadorIdList:[],estadoList:[],export:"pdf",paginacion:1},columns:Po,data:[],pagination:{},page:1,total:0,recaudadoresList:[],estadoList:[],visibleModalTipoReporte:!1,visibleModalReporte:!1,link:null,viewCargando:!1,disableEstado:!1,mensajeReporte:"NO SE PUDO CARGAR EL REPORTE, VERIFIQUE LOS PARÁMETROS SELECCIONADOS EN EL ÁREA DE BÚSQUEDA. ",mensajeVisible:!1,checkedListRecaudacion:[],indeterminateRecaudacion:!1,checkAllRecaudacion:!1,checkedListEstado:[],indeterminateEstado:!1,checkAllEstado:!1,loadingTable:!1,servicioProductosList:[]}},created:function(){var e=this;this.getServiciosProductos(),this.findListReporteGrid(1),this.getEstadoHistoricos(),this.getRecaudadores(),this.pagination={total:this.total,onChange:function(t){e.findListReporteGrid(t)}}},methods:{getServiciosProductos:function(){var e=this;Fo.getServiciosProductos().then((function(t){e.servicioProductosList=t.data.data})).catch((function(t){e.servicioProductosList=[]}))},findListReporteGrid:function(e){var t=this;null!=this.checkedListRecaudacion&&""!=this.checkedListRecaudacion||this.onCheckAllChangeRecaudacion(),null!=this.checkedListEstado&&""!=this.checkedListEstado||this.onCheckAllChangeEstado(),this.loadingTable=!0,this.formBusqueda.paginacion=e,this.formBusqueda.recaudadorIdList=this.checkedListRecaudacion,this.formBusqueda.estadoList=this.checkedListEstado,Fo.listForGridEntidad(this.formBusqueda).then((function(e){t.data=e.data.data.content,t.pagination.pageSize=e.data.data.numberOfElements,t.pagination.total=e.data.data.totalElements,t.loadingTable=!1})).catch((function(e){t.data=[],t.loadingTable=!1}))},getEstadoHistoricos:function(){var e=this;Fo.getEstadoHistoricos("HISTORICOS_DEUDAS").then((function(t){e.estadoList=t.data.data})).catch((function(t){e.estadoList=[]}))},getRecaudadores:function(){var e=this;Fo.getRecaudadoresByEntidad().then((function(t){e.recaudadoresList=t.data.data})).catch((function(t){e.recaudadoresList=[]}))},openModalGenerarReporte:function(){var e=this;null!=this.checkedListRecaudacion&&""!=this.checkedListRecaudacion||this.onCheckAllChangeRecaudacion(),null!=this.checkedListEstado&&""!=this.checkedListEstado||this.onCheckAllChangeEstado(),this.mensajeVisible=!1,this.link=null,this.viewCargando=!0,this.formBusqueda.recaudadorIdList=this.checkedListRecaudacion,this.formBusqueda.estadoList=this.checkedListEstado,Fo.listForReportEntidad(this.formBusqueda).then((function(t){e.viewCargando=!1,200==t.status?"pdf"==e.formBusqueda.export?e.viewFileDownload(t):e.forceFileDownload(t,"reporte"):(e.mensajeVisible=!0,e.$notification.warning("No hay datos para mostrar en el reporte."))})).catch((function(t){e.viewCargando=!1,e.mensajeVisible=!0,e.link=null})),this.visibleModalTipoReporte=!1,this.visibleModalReporte=!0},forceFileDownload:function(e,t){var a=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=a,"msword"==this.formBusqueda.export?o.setAttribute("download","".concat(t,".doc")):o.setAttribute("download","".concat(t,".xlsx")),document.body.appendChild(o),o.click(),this.visibleModalReporte=!1,this.viewCargando=!1},viewFileDownload:function(e){var t=new Blob([e.data],{type:"application/"+this.formBusqueda.export});this.link=URL.createObjectURL(t),this.viewCargando=!1},onChangeRecaudadora:function(){"All"!=this.formBusqueda.recaudadorId?(this.formBusqueda.estado="COBRADO",this.disableEstado=!1):this.disableEstado=!1},limpiar:function(){this.formBusqueda.servicioProductoId=null,this.formBusqueda.fechaIni=null,this.formBusqueda.fechaFin=null,this.formBusqueda.recaudadorId="All",this.formBusqueda.estado="All",this.formBusqueda.export="pdf",this.checkedListRecaudacion=[],this.checkedListEstado=[],this.data=[]},onChangeRecaudacion:function(e){this.indeterminateRecaudacion=!!e.length&&e.length<this.recaudadoresList.length,this.checkAllRecaudacion=e.length===this.recaudadoresList.length},onCheckAllChangeRecaudacion:function(){var e=0,t=[];this.recaudadoresList.forEach((function(a){t[e]=a.value,e++})),this.checkedListRecaudacion=t},onChangeEstado:function(e){this.indeterminateEstado=!!e.length&&e.length<this.estadoList.length,this.checkAllEstado=e.length===this.estadoList.length},onCheckAllChangeEstado:function(){var e=0,t=[];this.estadoList.forEach((function(a){t[e]=a.value,e++})),this.checkedListEstado=t}}},qo=$o,No=(a("60bc"),Object(f["a"])(qo,Mo,jo,!1,null,"1ea171cb",null)),Uo=No.exports,zo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head"},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#08632d"}},[e._v(" REPORTE GENERAL DE PAGOS ")])])])],1),a("a-divider",{attrs:{orientation:"left"}},[e._v("BUSQUEDA")]),a("a-form",[a("a-row",{attrs:{gutter:1}},[a("a-col",{attrs:{span:2}}),a("a-col",{attrs:{span:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Fecha Inicio :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"DD/MM/YYYY ",locale:e.locale},model:{value:e.formBusqueda.fechaIni,callback:function(t){e.$set(e.formBusqueda,"fechaIni",t)},expression:"formBusqueda.fechaIni"}})],1)],1),a("a-col",{attrs:{span:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Fecha Fin :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{size:"default",format:"DD/MM/YYYY",locale:e.locale},model:{value:e.formBusqueda.fechaFin,callback:function(t){e.$set(e.formBusqueda,"fechaFin",t)},expression:"formBusqueda.fechaFin"}})],1)],1),a("a-col",{attrs:{span:2}})],1)],1),a("a-form",[a("a-row",[a("a-col",{attrs:{span:2}}),a("a-col",{attrs:{span:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Tipo de Pagos :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{staticStyle:{width:"100%"},model:{value:e.formBusqueda.servicioProductoId,callback:function(t){e.$set(e.formBusqueda,"servicioProductoId",t)},expression:"formBusqueda.servicioProductoId"}},e._l(e.servicioProductosList,(function(t,o){return a("a-select-opt-group",{key:o},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.descripcion))]),e._l(t.servicioProductoEntityList,(function(t){return a("a-select-option",{key:t.servicioProductoId,attrs:{value:t.servicioProductoId}},[e._v(" "+e._s(t.descripcion)+" ")])}))],2)})),1)],1)],1),a("a-col",{attrs:{span:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Estado :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{mode:"tags",size:"default"},model:{value:e.checkedListEstado,callback:function(t){e.checkedListEstado=t},expression:"checkedListEstado"}},e._l(e.estadoList,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("a-col",{attrs:{span:2}})],1)],1),a("br"),a("a-row",{attrs:{type:"flex",justify:"center",align:"top",gutter:16}},[a("a-col",{attrs:{span:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"dashed",block:""},on:{click:function(t){return e.limpiar()}}},[a("span",[a("a-icon",{attrs:{type:"undo"}}),e._v(" Limpiar ")],1)])],1),a("a-col",{attrs:{span:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"danger",block:""},on:{click:function(t){return e.findListReporteGrid(1)}}},[a("span",[a("a-icon",{attrs:{type:"search"}}),e._v(" Buscar ")],1)])],1),a("a-col",{attrs:{span:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"primary",block:""},on:{click:function(t){e.visibleModalTipoReporte=!0}}},[a("span",[a("a-icon",{attrs:{type:"printer"}}),e._v(" Generar Reporte ")],1)])],1)],1)],1),a("a-card",{staticStyle:{width:"100%"}},[a("a-divider",{staticStyle:{color:"#1b7ae4"},attrs:{orientation:"left"}},[e._v("DATOS DE LOS PAGOS")]),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,pagination:e.pagination,align:"center",loading:e.loadingTable},scopedSlots:e._u([{key:"estado",fn:function(t,o){return["COBRADAS"==o.estado?a("div",[a("a-tag",{attrs:{color:"green"}},[a("a-icon",{style:{fontSize:"15px"},attrs:{type:"check"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"POR PAGAR"==o.estado?a("div",[a("a-tag",{attrs:{color:"blue"}},[a("a-icon",{style:{fontSize:"15px"},attrs:{type:"exclamation-circle"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e()]}}])})],1),a("a-modal",{attrs:{title:"Seleccione tipo de reporte"},on:{ok:function(t){e.visibleModalTipoReporte=!1}},model:{value:e.visibleModalTipoReporte,callback:function(t){e.visibleModalTipoReporte=t},expression:"visibleModalTipoReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-col",[e._v("Seleccione un tipo de Reporte a generar.")])],1)],1),a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-radio-group",{attrs:{"button-style":"solid"},model:{value:e.formBusqueda.export,callback:function(t){e.$set(e.formBusqueda,"export",t)},expression:"formBusqueda.export"}},[a("a-radio-button",{attrs:{value:"pdf"}},[e._v(" PDF ")]),a("a-radio-button",{attrs:{value:"msword"}},[e._v(" WORD ")]),a("a-radio-button",{attrs:{value:"msexcel"}},[e._v(" EXCEL ")])],1)],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){return e.openModalGenerarReporte()}}},[e._v(" Generar Reporte ")])],1)],2),a("a-modal",{attrs:{title:"Reporte Generado",width:"800px","dialog-style":{top:"20px"}},on:{ok:function(t){e.visibleModalReporte=!1}},model:{value:e.visibleModalReporte,callback:function(t){e.visibleModalReporte=t},expression:"visibleModalReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center"}},[e.viewCargando?a("a-spin",{attrs:{size:"large",tip:"El reporte se esta cargando...."}}):e._e(),e.mensajeVisible?a("a-alert",{attrs:{message:"ADVERTENCIA",description:e.mensajeReporte,type:"warning","show-icon":""}}):e._e(),a("iframe",{attrs:{width:"800px",height:"350px",src:this.link}})],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalReporte=!1}}},[e._v(" Cerrar ")])],1)],2)],1)},Vo=[],Go=[{title:"CÓDIGO",dataIndex:"codigoCliente",key:"codigoCliente",width:"7%",scopedSlots:{customRender:"codigoCliente"}},{title:"BENEFICIARIO",dataIndex:"nombreCliente",key:"nombreCliente",width:"12%"},{title:"NRO. DOC.",dataIndex:"nroDocumentoCliente",key:"nroDocumentoCliente",width:"7%"},{title:"PERIODO",dataIndex:"periodo",key:"periodo",width:"10%"},{title:"APODERADO",dataIndex:"nombreTitular",key:"nombreTitular",width:"10%"},{title:"FECHA PAGO",dataIndex:"fechaEstado",key:"fechaCreacion",width:"10%"},{title:"TOTAL (Bs)",dataIndex:"total",key:"total",width:"10%",align:"center"}],Yo={data:function(){return{locale:ve["a"],formBusqueda:{fechaIni:null,fechaFin:null,servicioProductoId:null,export:"pdf",paginacion:1},columns:Go,data:[],pagination:{},page:1,total:0,recaudadoresList:[],estadoList:[],visibleModalTipoReporte:!1,visibleModalReporte:!1,link:null,viewCargando:!1,disableEstado:!1,mensajeReporte:"NO SE PUDO CARGAR EL REPORTE, VERIFIQUE LOS PARÁMETROS SELECCIONADOS EN EL ÁREA DE BÚSQUEDA. ",mensajeVisible:!1,checkedListRecaudacion:[],indeterminateRecaudacion:!1,checkAllRecaudacion:!1,checkedListEstado:[],indeterminateEstado:!1,checkAllEstado:!1,loadingTable:!1,servicioProductosList:[]}},created:function(){var e=this;this.getServiciosProductos(),this.findListReporteGrid(1),this.getEstadoHistoricos(),this.pagination={total:this.total,onChange:function(t){e.findListReporteGrid(t)}}},methods:{getServiciosProductos:function(){var e=this;Fo.findServiciosForRecaudadorId().then((function(t){e.servicioProductosList=t.data.data})).catch((function(t){e.servicioProductosList=[]}))},findListReporteGrid:function(e){var t=this;null==this.checkedListRecaudacion||this.checkedListRecaudacion,null!=this.checkedListEstado&&""!=this.checkedListEstado||this.onCheckAllChangeEstado(),this.loadingTable=!0,this.formBusqueda.paginacion=e,this.formBusqueda.estadoList=this.checkedListEstado,Fo.listForGridRecaudacion(this.formBusqueda).then((function(e){t.data=e.data.data.content,t.pagination.pageSize=e.data.data.numberOfElements,t.pagination.total=e.data.data.totalElements,t.loadingTable=!1})).catch((function(e){t.data=[],t.loadingTable=!1}))},getEstadoHistoricos:function(){var e=this;Fo.getEstadoHistoricos().then((function(t){e.estadoList=t.data.data})).catch((function(t){e.estadoList=[]}))},openModalGenerarReporte:function(){var e=this;null==this.checkedListRecaudacion||this.checkedListRecaudacion,null!=this.checkedListEstado&&""!=this.checkedListEstado||this.onCheckAllChangeEstado(),this.mensajeVisible=!1,this.link=null,this.viewCargando=!0,this.formBusqueda.recaudadorIdList=this.checkedListRecaudacion,this.formBusqueda.estadoList=this.checkedListEstado,Fo.listForReportRecaudacion(this.formBusqueda).then((function(t){e.viewCargando=!1,200==t.status?"pdf"==e.formBusqueda.export?e.viewFileDownload(t):e.forceFileDownload(t,"reporte"):(e.mensajeVisible=!0,e.$notification.warning("No hay datos para mostrar en el reporte."))})).catch((function(t){e.viewCargando=!1,e.mensajeVisible=!0,e.link=null})),this.visibleModalTipoReporte=!1,this.visibleModalReporte=!0},forceFileDownload:function(e,t){var a=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=a,"msword"==this.formBusqueda.export?o.setAttribute("download","".concat(t,".doc")):o.setAttribute("download","".concat(t,".xlsx")),document.body.appendChild(o),o.click(),this.visibleModalReporte=!1,this.viewCargando=!1},viewFileDownload:function(e){var t=new Blob([e.data],{type:"application/"+this.formBusqueda.export});this.link=URL.createObjectURL(t),this.viewCargando=!1},onChangeRecaudadora:function(){"All"!=this.formBusqueda.recaudadorId?(this.formBusqueda.estado="COBRADO",this.disableEstado=!1):this.disableEstado=!1},limpiar:function(){this.formBusqueda.servicioProductoId=null,this.formBusqueda.fechaIni=null,this.formBusqueda.fechaFin=null,this.formBusqueda.recaudadorId="All",this.formBusqueda.estado="All",this.formBusqueda.export="pdf",this.checkedListRecaudacion=[],this.checkedListEstado=[],this.data=[]},onChangeEstado:function(e){this.indeterminateEstado=!!e.length&&e.length<this.estadoList.length,this.checkAllEstado=e.length===this.estadoList.length},onCheckAllChangeEstado:function(){var e=0,t=[];this.estadoList.forEach((function(a){t[e]=a.value,e++})),this.checkedListEstado=t}}},Ko=Yo,Ho=(a("0ad8"),Object(f["a"])(Ko,zo,Vo,!1,null,"651d349f",null)),Jo=Ho.exports,Qo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head"},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#08632d"}},[e._v(" REPORTE GENERAL DE PAGOS ")])])])],1),a("a-divider",{staticStyle:{color:"#21618c"},attrs:{orientation:"left"}},[e._v("BUSQUEDA")]),a("a-form",[a("a-row",{attrs:{gutter:1}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:2,xl:2}}),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:10,xl:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Fecha Inicio :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"DD/MM/YYYY ",locale:e.locale},model:{value:e.formBusqueda.fechaIni,callback:function(t){e.$set(e.formBusqueda,"fechaIni",t)},expression:"formBusqueda.fechaIni"}})],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:10,xl:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Fecha Fin :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{size:"default",format:"DD/MM/YYYY",locale:e.locale},model:{value:e.formBusqueda.fechaFin,callback:function(t){e.$set(e.formBusqueda,"fechaFin",t)},expression:"formBusqueda.fechaFin"}})],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:2,xl:2}})],1)],1),a("a-form",[a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Servicio :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{staticStyle:{width:"100%"},on:{change:e.getRecaudadores},model:{value:e.formBusqueda.servicioProductoId,callback:function(t){e.$set(e.formBusqueda,"servicioProductoId",t)},expression:"formBusqueda.servicioProductoId"}},e._l(e.servicioProductosList,(function(t,o){return a("a-select-opt-group",{key:o},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.descripcion))]),e._l(t.servicioProductoEntityList,(function(t){return a("a-select-option",{key:t.servicioProductoId,attrs:{value:t.servicioProductoId}},[e._v(" "+e._s(t.descripcion)+" ")])}))],2)})),1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Recaudadora :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{mode:"tags",size:"default"},model:{value:e.checkedListRecaudacion,callback:function(t){e.checkedListRecaudacion=t},expression:"checkedListRecaudacion"}},e._l(e.recaudadoresList,(function(t){return a("a-select-option",{key:t.recaudadorId,attrs:{value:t.recaudadorId.toString()}},[e._v(" "+e._s(t.nombre)+" ")])})),1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Estado :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{mode:"tags",size:"default"},model:{value:e.checkedListEstado,callback:function(t){e.checkedListEstado=t},expression:"checkedListEstado"}},e._l(e.estadoList,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1)],1)],1),a("br"),a("a-row",{attrs:{type:"flex",justify:"center",align:"top",gutter:16}},[a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"dashed",block:""},on:{click:function(t){return e.limpiar()}}},[a("span",{style:{fontSize:"20px"}},[a("a-icon",{attrs:{type:"undo"}}),e._v(" Limpiar ")],1)])],1),a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"danger",block:""},on:{click:function(t){return e.findListReporteGrid(1)}}},[a("span",{style:{fontSize:"20px"}},[a("a-icon",{attrs:{type:"search"}}),e._v(" Buscar ")],1)])],1),a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"primary",block:""},on:{click:function(t){e.visibleModalTipoReporte=!0}}},[a("span",{style:{fontSize:"20px"}},[a("a-icon",{attrs:{type:"printer"}}),e._v(" Generar Reporte ")],1)])],1)],1)],1),a("a-card",{staticStyle:{width:"100%"}},[a("a-divider",{staticStyle:{color:"#21618c"},attrs:{orientation:"left"}},[e._v("DATOS DE LOS PAGOS")]),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,pagination:e.pagination,align:"center",loading:e.loadingTable},scopedSlots:e._u([{key:"estado",fn:function(t,o){return["COBRADAS"==o.estado?a("div",[a("a-tag",{attrs:{color:"green"}},[a("a-icon",{style:{fontSize:"15px"},attrs:{type:"check"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"POR PAGAR"==o.estado?a("div",[a("a-tag",{attrs:{color:"blue"}},[a("a-icon",{style:{fontSize:"15px"},attrs:{type:"exclamation-circle"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e()]}}])})],1),a("a-modal",{attrs:{title:"Seleccione tipo de reporte"},on:{ok:function(t){e.visibleModalTipoReporte=!1}},model:{value:e.visibleModalTipoReporte,callback:function(t){e.visibleModalTipoReporte=t},expression:"visibleModalTipoReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-col",[e._v("Seleccione un tipo de Reporte a generar.")])],1)],1),a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-radio-group",{attrs:{"button-style":"solid"},model:{value:e.formBusqueda.export,callback:function(t){e.$set(e.formBusqueda,"export",t)},expression:"formBusqueda.export"}},[a("a-radio-button",{attrs:{value:"pdf"}},[e._v(" PDF ")]),a("a-radio-button",{attrs:{value:"msword"}},[e._v(" WORD ")]),a("a-radio-button",{attrs:{value:"msexcel"}},[e._v(" EXCEL ")])],1)],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){return e.openModalGenerarReporte()}}},[e._v(" Generar Reporte ")])],1)],2),a("a-modal",{attrs:{title:"Reporte Generado",width:"800px","dialog-style":{top:"20px"}},on:{ok:function(t){e.visibleModalReporte=!1}},model:{value:e.visibleModalReporte,callback:function(t){e.visibleModalReporte=t},expression:"visibleModalReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center"}},[e.viewCargando?a("a-spin",{attrs:{size:"large",tip:"El reporte se esta cargando...."}}):e._e(),e.mensajeVisible?a("a-alert",{attrs:{message:"ADVERTENCIA",description:e.mensajeReporte,type:"warning","show-icon":""}}):e._e(),a("iframe",{attrs:{width:"800px",height:"350px",src:this.link}})],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalReporte=!1}}},[e._v(" Cerrar ")])],1)],2)],1)},Wo=[],Zo=[{title:"CÓDIGO",dataIndex:"codigoCliente",key:"codigoCliente",width:"7%",scopedSlots:{customRender:"codigoCliente"}},{title:"BENEFICIARIO",dataIndex:"nombreCliente",key:"nombreCliente",width:"12%"},{title:"NRO. DOC.",dataIndex:"nroDocumentoCliente",key:"nroDocumentoCliente",width:"7%"},{title:"PERIODO",dataIndex:"periodo",key:"periodo",width:"10%"},{title:"APODERADO",dataIndex:"nombreTitular",key:"nombreTitular",width:"10%"},{title:"FECHA PAGO",dataIndex:"fechaEstado",key:"fechaCreacion",width:"10%"},{title:"MONTO",dataIndex:"total",key:"total",width:"10%",align:"center"}],Xo={data:function(){return{locale:ve["a"],formBusqueda:{fechaIni:null,fechaFin:null,servicioProductoId:null,recaudadorIdList:[],estadoList:[],export:"pdf",paginacion:1},columns:Zo,data:[],pagination:{},page:1,total:0,recaudadoresList:[],estadoList:[],visibleModalTipoReporte:!1,visibleModalReporte:!1,link:null,viewCargando:!1,disableEstado:!1,mensajeReporte:"NO SE PUDO CARGAR EL REPORTE, VERIFIQUE LOS PARÁMETROS SELECCIONADOS EN EL ÁREA DE BÚSQUEDA. ",mensajeVisible:!1,checkedListRecaudacion:[],indeterminateRecaudacion:!1,checkAllRecaudacion:!1,checkedListEstado:[],indeterminateEstado:!1,checkAllEstado:!1,loadingTable:!1,servicioProductosList:[]}},created:function(){var e=this;this.getServiciosProductos(),this.findListReporteGrid(1),this.getEstadoHistoricos(),this.pagination={total:this.total,onChange:function(t){e.findListReporteGrid(t)}}},methods:{getServiciosProductos:function(){var e=this;Fo.findForSelect().then((function(t){e.servicioProductosList=t.data.data})).catch((function(t){e.servicioProductosList=[]}))},findListReporteGrid:function(e){var t=this;null!=this.checkedListRecaudacion&&""!=this.checkedListRecaudacion||this.onCheckAllChangeRecaudacion(),null!=this.checkedListEstado&&""!=this.checkedListEstado||this.onCheckAllChangeEstado(),this.loadingTable=!0,this.formBusqueda.paginacion=e,this.formBusqueda.recaudadorIdList=this.checkedListRecaudacion,this.formBusqueda.estadoList=this.checkedListEstado,Fo.listForGridAdministracion(this.formBusqueda).then((function(e){t.data=e.data.data.content,t.pagination.pageSize=e.data.data.numberOfElements,t.pagination.total=e.data.data.totalElements,t.loadingTable=!1})).catch((function(e){t.data=[],t.loadingTable=!1}))},getEstadoHistoricos:function(){var e=this;Fo.getEstadoHistoricos("HISTORICOS_DEUDAS").then((function(t){e.estadoList=t.data.data})).catch((function(t){e.estadoList=[]}))},getRecaudadores:function(){var e=this;this.recaudadoresList=[],this.checkedListRecaudacion=[],Fo.findRecaudadoresByEntidadId(this.formBusqueda.servicioProductoId).then((function(t){e.recaudadoresList=t.data.data})).catch((function(t){e.recaudadoresList=[]}))},openModalGenerarReporte:function(){var e=this;null!=this.checkedListRecaudacion&&""!=this.checkedListRecaudacion||this.onCheckAllChangeRecaudacion(),null!=this.checkedListEstado&&""!=this.checkedListEstado||this.onCheckAllChangeEstado(),this.mensajeVisible=!1,this.link=null,this.viewCargando=!0,this.formBusqueda.recaudadorIdList=this.checkedListRecaudacion,this.formBusqueda.estadoList=this.checkedListEstado,Fo.listForReportAdministracion(this.formBusqueda).then((function(t){e.viewCargando=!1,200==t.status?"pdf"==e.formBusqueda.export?e.viewFileDownload(t):e.forceFileDownload(t,"reporte"):(e.mensajeVisible=!0,e.$notification.warning("No hay datos para mostrar en el reporte."))})).catch((function(t){e.viewCargando=!1,e.mensajeVisible=!0,e.link=null})),this.visibleModalTipoReporte=!1,this.visibleModalReporte=!0},forceFileDownload:function(e,t){var a=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=a,"msword"==this.formBusqueda.export?o.setAttribute("download","".concat(t,".doc")):o.setAttribute("download","".concat(t,".xlsx")),document.body.appendChild(o),o.click(),this.visibleModalReporte=!1,this.viewCargando=!1},viewFileDownload:function(e){var t=new Blob([e.data],{type:"application/"+this.formBusqueda.export});this.link=URL.createObjectURL(t),this.viewCargando=!1},onChangeRecaudadora:function(){"All"!=this.formBusqueda.recaudadorId?(this.formBusqueda.estado="COBRADO",this.disableEstado=!1):this.disableEstado=!1},limpiar:function(){this.formBusqueda.servicioProductoId=null,this.formBusqueda.fechaIni=null,this.formBusqueda.fechaFin=null,this.formBusqueda.recaudadorId="All",this.formBusqueda.estado="All",this.formBusqueda.export="pdf",this.checkedListRecaudacion=[],this.checkedListEstado=[],this.data=[]},onCheckAllChangeRecaudacion:function(){var e=0,t=[];this.recaudadoresList.forEach((function(a){t[e]=a.value,e++})),this.checkedListRecaudacion=t},onChangeEstado:function(e){this.indeterminateEstado=!!e.length&&e.length<this.estadoList.length,this.checkAllEstado=e.length===this.estadoList.length},onCheckAllChangeEstado:function(){var e=0,t=[];this.estadoList.forEach((function(a){t[e]=a.value,e++})),this.checkedListEstado=t}}},ei=Xo,ti=(a("b3837"),Object(f["a"])(ei,Qo,Wo,!1,null,"108a00e5",null)),ai=ti.exports,oi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head"},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#08632d"}},[e._v(" REIMPRESIÓN DE COMPROBANTES DE PAGO ")])])])],1),a("a-divider",{attrs:{orientation:"left"}},[e._v("BUSQUEDA")]),a("a-form",[a("a-row",{attrs:{gutter:1}},[a("a-col",{attrs:{span:4}}),a("a-col",{attrs:{span:8}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Fecha Inicio :","label-col":{span:7},"wrapper-col":{span:17}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"DD/MM/YYYY ",locale:e.locale},model:{value:e.formBusqueda.fechaInicio,callback:function(t){e.$set(e.formBusqueda,"fechaInicio",t)},expression:"formBusqueda.fechaInicio"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Fecha Fin :","label-col":{span:7},"wrapper-col":{span:17}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{size:"default",format:"DD/MM/YYYY",locale:e.locale},model:{value:e.formBusqueda.fechaFin,callback:function(t){e.$set(e.formBusqueda,"fechaFin",t)},expression:"formBusqueda.fechaFin"}})],1)],1),a("a-col",{attrs:{span:4}})],1),a("a-row",{attrs:{type:"flex",justify:"start"}},[a("a-col",{attrs:{span:4}}),a("a-col",{attrs:{span:8}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Tipo de Pago :","label-col":{span:7},"wrapper-col":{span:17}}},[a("a-select",{staticStyle:{width:"100%"},model:{value:e.formBusqueda.servicioProductoId,callback:function(t){e.$set(e.formBusqueda,"servicioProductoId",t)},expression:"formBusqueda.servicioProductoId"}},e._l(e.servicioProductosList,(function(t,o){return a("a-select-opt-group",{key:o},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.descripcion))]),e._l(t.servicioProductoEntityList,(function(t){return a("a-select-option",{key:t.servicioProductoId,attrs:{value:t.servicioProductoId}},[e._v(" "+e._s(t.descripcion)+" ")])}))],2)})),1)],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"Buscar por :","label-col":{span:7},"wrapper-col":{span:17}}},[a("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"input placeholder"},model:{value:e.formBusqueda.parameter,callback:function(t){e.$set(e.formBusqueda,"parameter",t)},expression:"formBusqueda.parameter"}})],1)],1),a("a-col",{attrs:{span:4}})],1)],1),a("a-row",{attrs:{type:"flex",justify:"center",align:"top",gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"dashed",block:""},on:{click:function(t){return e.limpiar()}}},[a("span",[a("a-icon",{attrs:{type:"undo"}}),e._v(" Limpiar ")],1)])],1),a("a-col",{attrs:{span:12}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"primary",block:""},on:{click:function(t){return e.findLisGrid(1)}}},[a("span",[a("a-icon",{attrs:{type:"search"}}),e._v(" Buscar ")],1)])],1)],1)],1),a("a-card",{staticStyle:{width:"100%"}},[a("a-divider",{attrs:{orientation:"left"}},[e._v("PAGOS REALIZADOS")]),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,pagination:e.pagination,align:"center",loading:e.loadingTable},scopedSlots:e._u([{key:"accion",fn:function(t,o){return[a("a-button",{attrs:{type:"primary",ghost:"",icon:"printer"},on:{click:function(t){return e.viewPagos(o)}}})]}}])})],1),a("a-modal",{attrs:{title:"Reporte Generado",width:"800px","dialog-style":{top:"20px"}},on:{ok:function(t){e.visibleModalReporte=!1}},model:{value:e.visibleModalReporte,callback:function(t){e.visibleModalReporte=t},expression:"visibleModalReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center"}},[e.viewCargando?a("a-spin",{attrs:{size:"large",tip:"El reporte se esta cargando...."}}):e._e(),e.mensajeVisible?a("a-alert",{attrs:{message:"ADVERTENCIA",description:e.mensajeReporte,type:"warning","show-icon":""}}):e._e(),a("iframe",{attrs:{width:"800px",height:"350px",src:this.link}})],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalReporte=!1}}},[e._v(" Cerrar ")])],1)],2)],1)},ii=[],si={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},getServiciosProductos:function(){return E().get("api/servicioProductos/findServiciosForRecaudadorId",this.headersConfig())},reImpresionGrid:function(e){return E().post("api/recaudadoraPagos/reImpresionGrid",e,this.headersConfig())},imprimirComprobantePago:function(e){return E().get("api/recaudadoraPagos/imprimirComprobantePago/".concat(e),{responseType:"arraybuffer",headers:{Accept:"application/pdf",Authorization:"Bearer "+localStorage.getItem("token")}})}},ni=[{title:"CÓDIGO",dataIndex:"codigoCliente",key:"codigoCliente",width:"10%",scopedSlots:{customRender:"codigoCliente"}},{title:"BENEFICIARIO",dataIndex:"nombreCliente",key:"nombreCliente",width:"15%"},{title:"NRO. DOCUMENTO.",dataIndex:"nroDocumentoCliente",key:"nroDocumentoCliente",width:"15%"},{title:"EXTENCIÓN",dataIndex:"extencionDocumento",key:"extencionDocumento",width:"10%"},{title:"FECHA PAGO",dataIndex:"fechaModificacion",key:"fechaModificacion",width:"15%"},{title:"TOTAL (Bs)",dataIndex:"totalPagar",key:"totalPagar",width:"10%",align:"center"},{title:"ACCIÓN",dataIndex:"accion",key:"accion",width:"10%",align:"center",scopedSlots:{customRender:"accion"}}],ri={data:function(){return{locale:ve["a"],formBusqueda:{fechaInicio:null,fechaFin:null,servicioProductoId:null,paginacion:1},columns:ni,data:[],pagination:{},page:1,total:0,recaudadoresList:[],visibleModalReporte:!1,link:null,viewCargando:!1,mensajeReporte:"NO SE PUDO CARGAR EL REPORTE, VERIFIQUE LOS PARÁMETROS SELECCIONADOS EN EL ÁREA DE BÚSQUEDA. ",mensajeVisible:!1,loadingTable:!1,servicioProductosList:[]}},created:function(){var e=this;this.getServiciosProductos(),this.pagination={total:this.total,onChange:function(t){e.findLisGrid(t)}}},methods:{getServiciosProductos:function(){var e=this;si.getServiciosProductos().then((function(t){e.servicioProductosList=t.data.data})).catch((function(t){e.servicioProductosList=[]}))},findLisGrid:function(e){var t=this;this.loadingTable=!0,this.formBusqueda.paginacion=e,si.reImpresionGrid(this.formBusqueda).then((function(e){t.data=e.data.data.content,t.pagination.pageSize=e.data.data.numberOfElements,t.pagination.total=e.data.data.totalElements,t.loadingTable=!1})).catch((function(e){t.data=[],t.loadingTable=!1}))},viewPagos:function(e){var t=this;this.mensajeVisible=!1,this.link=null,this.viewCargando=!0,this.visibleModalReporte=!0,si.imprimirComprobantePago(e.codigoTransaccion).then((function(e){t.viewCargando=!1,200==e.status?t.viewFileDownload(e):t.mensajeVisible=!0})).catch((function(e){t.visibleModalReporte=!1}))},viewFileDownload:function(e){var t=new Blob([e.data],{type:"application/pdf"});this.link=URL.createObjectURL(t),this.viewCargando=!1},limpiar:function(){this.data=[],this.formBusqueda.fechaInicio=null,this.formBusqueda.fechaFin=null,this.formBusqueda.servicioProductoId=null,this.formBusqueda.parameter=null,this.formBusqueda.paginacion=1}}},li=ri,ci=Object(f["a"])(li,oi,ii,!1,null,"4fbb0c05",null),di=ci.exports,ui=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head"},[a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("b",{staticStyle:{color:"#08632d"}},[e._v(" ADMINISTRACIÓN DE USUARIOS EMPRESA ")])])],1)],1)]),a("a-card",{staticStyle:{width:"100%"}},[a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-form-model-item",{attrs:{label:"Buscar por :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input-search",{attrs:{placeholder:"Nombre, Nro. Documento","enter-button":""},on:{search:function(t){return e.findPersonas(1)}},model:{value:e.formBusqueda.parametro,callback:function(t){e.$set(e.formBusqueda,"parametro",t)},expression:"formBusqueda.parametro"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:14,lg:14,xl:14}},e._l(e.operacionesList,(function(t,o){return a("a-button",{key:o,staticStyle:{margin:"1px"},on:{click:function(a){return e.prepararOperacion(t)}}},[a("a-icon",{attrs:{type:t.imagen,theme:"twoTone","two-tone-color":"#2e8b57"}}),e._v(" "+e._s(t.etiqueta)+" ")],1)})),1)],1),a("a-divider",{attrs:{orientation:"left"}},[e._v("LISTA DE USUARIOS")]),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,pagination:e.pagination,align:"center",loading:e.loadingTable,"row-selection":{type:"radio",selectedRowKeys:e.selectedRowKeys,selectedRows:e.selectedRows,onChange:e.onSelectChange},scroll:{x:700}},scopedSlots:e._u([{key:"nombreCompleto",fn:function(t,o){return[a("font",{attrs:{size:"2"}},[a("table",{staticStyle:{width:"100%"}},[a("tr",[a("th",[e._v("Usuario:")]),a("td",[e._v(e._s(o.login))])]),a("tr",[a("th",[e._v("Nombre:")]),a("td",[e._v(e._s(o.nombreCompleto))])]),a("tr",[a("th",[e._v("Nro. Doc.:")]),a("td",[e._v(" "+e._s(o.nroDocumento)+" "+e._s(o.extensionDocumento)+" ")])]),a("tr",[a("th",[e._v("Correo:")]),a("td",[e._v(e._s(o.correoElectronico))])]),a("tr",[a("th",[e._v("Teléfono:")]),a("td",[e._v(e._s(o.telefono))])]),null!=o.nombreEntidad?a("tr",[a("th",[e._v("Empresa:")]),a("td",[a("a-tag",{attrs:{color:"cyan"}},[e._v(" "+e._s(o.nombreEntidad)+" ")])],1)]):e._e(),null!=o.nombreSucursalEntidad?a("tr",[a("th",[e._v("Sucursal:")]),a("td",[a("a-tag",{attrs:{color:"cyan"}},[e._v(" "+e._s(o.nombreSucursalEntidad))])],1)]):e._e()])])]}},{key:"credenciales",fn:function(t,o){return["ACTIVO"==o.estadoUsuario?a("div",[a("a-tag",{attrs:{color:"green"}},[a("a-icon",{attrs:{type:"lock"}}),e._v(" Asignadas ")],1)],1):e._e(),null==o.estadoUsuario?a("div",[a("a-tag",{attrs:{color:"red"}},[a("a-icon",{attrs:{type:"lock"}}),e._v("Sin Asignar ")],1)],1):e._e()]}},{key:"roles",fn:function(t,o){return[a("a-timeline",e._l(o.privilegioEntities,(function(t,o){return a("a-timeline-item",{key:o,staticStyle:{margin:"0px",padding:"0"}},[a("font",{attrs:{size:"2"}},[e._v(" "+e._s(t.descripcion)+" ")])],1)})),1)]}},{key:"estado",fn:function(t,o){return["ACTIVO"==o.estado?a("div",[a("a-tag",{attrs:{color:"green"}},[e._v(" "+e._s(o.estado)+" ")])],1):e._e(),"DESACTIVO"==o.estado?a("div",[a("a-icon",{attrs:{type:"caret-up"}}),e._v(" "),a("a-tag",{attrs:{color:"green"}},[e._v("INACTIVO ")])],1):e._e(),"CREADO"==o.estado?a("div",[a("a-tag",{attrs:{color:"blue"}},[e._v(" "+e._s(o.estado)+" ")])],1):e._e()]}},{key:"opciones",fn:function(t,o){return["DESACTIVO"==o.estado||"CREADO"==o.estado?a("div",[a("a-button",{attrs:{type:"dashed",block:""},on:{click:function(t){return e.viewCredenciales(o)}}},[a("a-icon",{attrs:{type:"lock"}}),e._v(" Generar Credenciales ")],1),a("a-button",{attrs:{type:"dashed",block:"",disabled:null==o.estadoUsuario},on:{click:function(t){return e.viewVisibleModalRoles(o)}}},[a("a-icon",{attrs:{type:"user-add"}}),e._v("Asignar Roles ")],1)],1):e._e(),o.bloqueado?a("a-button",{attrs:{type:"danger",block:""},on:{click:function(t){return e.viewDesBloqueo(o)}}},[a("a-icon",{attrs:{type:"lock"}}),e._v(" Desbloquear ")],1):e._e()]}}])})],1),a("a-modal",{attrs:{title:e.tituloModal,"dialog-style":{top:"20px"},width:700},model:{value:e.visibleModalRegitro,callback:function(t){e.visibleModalRegitro=t},expression:"visibleModalRegitro"}},[a("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,size:"small"}},[a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{ref:"nombres",attrs:{prop:"nombres",label:"Nombres :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Nombres",readOnly:e.dissabled},on:{blur:function(){e.$refs.nombres.onFieldBlur()}},model:{value:e.form.nombres,callback:function(t){e.$set(e.form,"nombres",t)},expression:"form.nombres"}},[a("a-icon",{attrs:{slot:"suffix",type:"user"},slot:"suffix"})],1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{ref:"paterno",attrs:{prop:"paterno",label:"Ap. Paterno :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Apellido Paterno",readOnly:e.dissabled},on:{blur:function(){e.$refs.paterno.onFieldBlur()}},model:{value:e.form.paterno,callback:function(t){e.$set(e.form,"paterno",t)},expression:"form.paterno"}},[a("a-icon",{attrs:{slot:"suffix",type:"user"},slot:"suffix"})],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{ref:"materno",attrs:{prop:"materno",label:"Ap. Materno :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Apellido Materno",readOnly:e.dissabled},on:{blur:function(){e.$refs.materno.onFieldBlur()}},model:{value:e.form.materno,callback:function(t){e.$set(e.form,"materno",t)},expression:"form.materno"}},[a("a-icon",{attrs:{slot:"suffix",type:"user"},slot:"suffix"})],1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{ref:"nroDocumento",attrs:{prop:"nroDocumento",label:"Nro. Doc. :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input-group",{attrs:{compact:""}},[a("a-input",{staticStyle:{width:"60%"},attrs:{placeholder:"Nro. de Documento.",required:"",readOnly:e.dissabled},on:{blur:function(){e.$refs.nroDocumento.onFieldBlur()}},model:{value:e.form.nroDocumento,callback:function(t){e.$set(e.form,"nroDocumento",t)},expression:"form.nroDocumento"}},[a("a-icon",{attrs:{slot:"suffix",type:"idcard"},slot:"suffix"})],1),a("a-select",{staticStyle:{width:"40%"},attrs:{"default-value":"Extensión",disabled:e.dissabled},model:{value:e.form.extensionDocumentoId,callback:function(t){e.$set(e.form,"extensionDocumentoId",t)},expression:"form.extensionDocumentoId"}},e._l(e.extensionDocumentoList,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.dominioId}},[e._v(" "+e._s(t.abreviatura)+" ")])})),1)],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("a-form-model-item",{ref:"direccion",attrs:{prop:"direccion",label:"Dirección :","label-col":e.formItemOneLayout.labelCol,"wrapper-col":e.formItemOneLayout.wrapperCol}},[a("a-textarea",{attrs:{placeholder:"Dirección domiciliaria","auto-size":"",readOnly:e.dissabled},on:{blur:function(){e.$refs.direccion.onFieldBlur()}},model:{value:e.form.direccion,callback:function(t){e.$set(e.form,"direccion",t)},expression:"form.direccion"}},[a("a-icon",{attrs:{slot:"suffix",type:"environment"},slot:"suffix"})],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{ref:"correoElectronico",attrs:{prop:"correoElectronico",label:"Email :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Correo Electronico",readOnly:e.dissabled},on:{blur:function(){e.$refs.correoElectronico.onFieldBlur()}},model:{value:e.form.correoElectronico,callback:function(t){e.$set(e.form,"correoElectronico",t)},expression:"form.correoElectronico"}},[a("a-icon",{attrs:{slot:"suffix",type:"global"},slot:"suffix"})],1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{ref:"telefono",attrs:{prop:"telefono",label:"Teléfono :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Teléfono",readOnly:e.dissabled},on:{blur:function(){e.$refs.telefono.onFieldBlur()}},model:{value:e.form.telefono,callback:function(t){e.$set(e.form,"telefono",t)},expression:"form.telefono"}},[a("a-icon",{attrs:{slot:"suffix",type:"phone"},slot:"suffix"})],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{attrs:{label:"Empresa :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-select",{attrs:{disabled:e.dissabled},model:{value:e.form.entidadId,callback:function(t){e.$set(e.form,"entidadId",t)},expression:"form.entidadId"}},e._l(e.entidadesList,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.entidadId}},[e._v(" "+e._s(t.nombre)+" ")])})),1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{attrs:{label:"Sucursal :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-select",{attrs:{disabled:e.dissabled},model:{value:e.form.sucursalEntidadId,callback:function(t){e.$set(e.form,"sucursalEntidadId",t)},expression:"form.sucursalEntidadId"}},e._l(e.sucursalList,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.sucursalEntidadId}},[e._v(" "+e._s(t.nombreSucursal)+" ")])})),1)],1)],1)],1)],1),a("template",{slot:"footer"},[a("a-row",{attrs:{type:"flex",justify:"center",align:"top",gutter:16}},[a("a-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("a-button",{style:{fontSize:"19px",height:"40px"},attrs:{type:"dashed",block:""},on:{click:function(t){return e.cancelarModal()}}},[e._v(" Cancelar ")])],1),a("a-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("a-button",{style:{fontSize:"19px",height:"40px"},attrs:{type:"primary",block:""},on:{click:e.procesarOperacion}},[a("a-icon",{attrs:{type:e.imagenButton}}),e._v(" "+e._s(e.labelButton)+" ")],1)],1)],1)],1)],2),a("a-modal",{attrs:{title:"Generación de credenciales","dialog-style":{top:"20px"},width:400},model:{value:e.visibleModalCredenciales,callback:function(t){e.visibleModalCredenciales=t},expression:"visibleModalCredenciales"}},[a("a-result",{staticStyle:{padding:"0px"},attrs:{title:"¿Está seguro de generar las credenciales para el usuario?","sub-title":e.subTitle},scopedSlots:e._u([{key:"icon",fn:function(){return[a("a-icon",{attrs:{type:"question-circle"}})]},proxy:!0}])}),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalCredenciales=!1}}},[e._v(" Cancelar ")]),a("a-button",{key:"submit",attrs:{type:"primary"},on:{click:e.generarCredenciales}},[e._v(" Aceptar ")])],1)],2),a("a-modal",{attrs:{title:"Desbloqueo de Usuario","dialog-style":{top:"20px"},width:400},model:{value:e.visibleModalDesbloqueo,callback:function(t){e.visibleModalDesbloqueo=t},expression:"visibleModalDesbloqueo"}},[a("a-result",{staticStyle:{padding:"0px"},attrs:{title:"¿Está seguro de desbloquear al usuario?","sub-title":e.subTitle},scopedSlots:e._u([{key:"icon",fn:function(){return[a("a-icon",{attrs:{type:"question-circle"}})]},proxy:!0}])}),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalDesbloqueo=!1}}},[e._v(" Cancelar ")]),a("a-button",{key:"submit",attrs:{type:"primary"},on:{click:e.toUnlock}},[e._v(" Aceptar ")])],1)],2),a("a-modal",{attrs:{title:"ASIGNACIÓN DE ROLES","dialog-style":{top:"20px"},width:700},model:{value:e.visibleModalRoles,callback:function(t){e.visibleModalRoles=t},expression:"visibleModalRoles"}},["ADMIN"==this.subModulo?a("a-row",[a("a-col",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-form",{attrs:{"label-col":{span:7},"wrapper-col":{span:17}}},[a("a-form-item",{attrs:{label:"Seleccione un Módulo"}},[a("a-select",{staticStyle:{width:"100%"},on:{change:function(t){return e.findPrivilegiosByModuloId()}},model:{value:e.moduloId,callback:function(t){e.moduloId=t},expression:"moduloId"}},e._l(e.modulosList,(function(t){return a("a-select-option",{key:t.moduloId,attrs:{value:t.moduloId}},[e._v(e._s(t.descripcion))])})),1)],1)],1)],1)],1):e._e(),a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-transfer",{attrs:{"data-source":e.mockData,titles:["Roles por Asignar","Roles Asignados"],"target-keys":e.targetKeys,"selected-keys":e.selectedKeys,render:function(e){return e.title},disabled:e.disabled,"list-style":{width:"300px"}},on:{change:e.handleChange,selectChange:e.handleSelectChange}})],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalRoles=!1}}},[e._v(" Cancelar ")]),a("a-button",{key:"submit",attrs:{type:"primary"},on:{click:e.guardarRoles}},[e._v(" Aceptar ")])],1)],2)],1)},mi=[],pi=a("5530"),fi=(ft={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},getOperaciones:function(e,t){return E().get("api/Menu/operaciones/".concat(e,"/").concat(t),this.headersConfig())},findPersonas:function(e){return E().post("api/personas/findPersonas",e,this.headersConfig())},getDominioExtensionDocumento:function(){return E().get("api/dominios/extension_documento_id",this.headersConfig())},getDominioTipoDocumento:function(){return E().get("api/dominios/tipo_documento_id",this.headersConfig())},getDominioCiudad:function(){return E().get("api/dominios/ciudad_id",this.headersConfig())},savePersona:function(e){return E().post("api/personas/savePersona",e,this.headersConfig())},updatePersona:function(e){return E().post("api/personas/updatePersona",e,this.headersConfig())},cambiarEstadoPersona:function(e){return E().post("api/personas/cambiarEstado",e,this.headersConfig())},getSucursalesByEntidad:function(){return E().get("api/sucursalesentidades/entidades",this.headersConfig())},getSucursalesByRecaudadora:function(){return E().get("api/sucursales/findByRecaudadoraId",this.headersConfig())},generarCredenciales:function(e){return E().post("api/personas/generarCredenciales/".concat(e),{},this.headersConfig())}},Object(Le["a"])(ft,"generarCredenciales",(function(e){return E().post("api/personas/generarCredenciales/".concat(e),{},this.headersConfig())})),Object(Le["a"])(ft,"findRolesForTransfer",(function(e,t){return E().get("api/Rol/findRolesForTransfer/".concat(e,"/").concat(t),this.headersConfig())})),Object(Le["a"])(ft,"findRolesForTransferByUsuario",(function(e,t,a){return E().get("api/Rol/findRolesForTransferByUsuario/".concat(e,"/").concat(t,"/").concat(a),this.headersConfig())})),Object(Le["a"])(ft,"getModuloUsuario",(function(){return E().get("api/Rol/getModuloUsuario",this.headersConfig())})),Object(Le["a"])(ft,"savePrivilegio",(function(e){return E().post("api/Rol/savePrivilegio",e,this.headersConfig())})),Object(Le["a"])(ft,"findAllEntidad",(function(){return E().get("api/entidades/findAllEntidad",this.headersConfig())})),Object(Le["a"])(ft,"findAllRecaudadoras",(function(){return E().get("api/recaudadores/findAllRecaudadoras",this.headersConfig())})),Object(Le["a"])(ft,"findModulos",(function(){return E().get("api/Rol/findModulos",this.headersConfig())})),Object(Le["a"])(ft,"findPrivilegiosByModuloId",(function(e){return E().get("api/Rol/findPrivilegiosByModuloId/".concat(e),this.headersConfig())})),Object(Le["a"])(ft,"findPrivilegiosByUsuarioId",(function(e){return E().get("api/Rol/findPrivilegiosByUsuarioId/".concat(e),this.headersConfig())})),Object(Le["a"])(ft,"findModuloByUsuarioId",(function(e){return E().get("api/Rol/findModuloByUsuarioId/".concat(e),this.headersConfig())})),Object(Le["a"])(ft,"findPrivilegiosByUsuarioIdSession",(function(e){return E().get("api/Rol/findPrivilegiosByUsuarioIdForTransfer/".concat(e),this.headersConfig())})),Object(Le["a"])(ft,"findModuloByUsuarioSession",(function(){return E().get("api/Rol/findModuloByUsuarioSession",this.headersConfig())})),Object(Le["a"])(ft,"findByRecaudadoraId",(function(){return E().get("api/sucursales/findByRecaudadoraId",this.headersConfig())})),Object(Le["a"])(ft,"toUnlock",(function(e){return E().post("api/personas/toUnlock/".concat(e),{},this.headersConfig())})),ft),hi={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},savePersonaSocioEmpresa:function(e,t){return E().post("api/personasSocioEmpresa/savePersonaSocioEmpresa/".concat(e),t,this.headersConfig())},updatePersonaSocioEmpresa:function(e,t){return E().post("api/personasSocioEmpresa/updatePersonaSocioEmpresa/".concat(e),t,this.headersConfig())},findPersonasByTipo:function(e,t){return E().post("api/personasSocioEmpresa/findPersonasByTipo/".concat(t),e,this.headersConfig())}},gi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form",[a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-item",{attrs:{label:"Nombres :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Nombres"},model:{value:e.form.nombres,callback:function(t){e.$set(e.form,"nombres",t)},expression:"form.nombres"}},[a("a-icon",{attrs:{slot:"suffix",type:"user"},slot:"suffix"})],1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-item",{attrs:{label:"Ap. Paterno :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Apellido Paterno"},model:{value:e.form.paterno,callback:function(t){e.$set(e.form,"paterno",t)},expression:"form.paterno"}},[a("a-icon",{attrs:{slot:"suffix",type:"user"},slot:"suffix"})],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-item",{attrs:{label:"Ap. Materno :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Apellido Materno"},model:{value:e.form.materno,callback:function(t){e.$set(e.form,"materno",t)},expression:"form.materno"}},[a("a-icon",{attrs:{slot:"suffix",type:"user"},slot:"suffix"})],1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-item",{attrs:{label:"Nro. Documento :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input-group",{attrs:{compact:""}},[a("a-input",{staticStyle:{width:"60%"},attrs:{placeholder:"Nro. de Documento."},model:{value:e.form.nroDocumento,callback:function(t){e.$set(e.form,"nroDocumento",t)},expression:"form.nroDocumento"}},[a("a-icon",{attrs:{slot:"suffix",type:"idcard"},slot:"suffix"})],1),a("a-select",{staticStyle:{width:"40%"},attrs:{"default-value":"Extensión"},model:{value:e.form.extensionDocumentoId,callback:function(t){e.$set(e.form,"extensionDocumentoId",t)},expression:"form.extensionDocumentoId"}},e._l(e.extensionDocumentoList,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.dominioId}},[e._v(" "+e._s(t.abreviatura)+" ")])})),1)],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("a-form-item",{attrs:{label:"Dirección :","label-col":e.formItemOneLayout.labelCol,"wrapper-col":e.formItemOneLayout.wrapperCol}},[a("a-textarea",{attrs:{placeholder:"Dirección domiciliaria","auto-size":""},model:{value:e.form.direccion,callback:function(t){e.$set(e.form,"direccion",t)},expression:"form.direccion"}},[a("a-icon",{attrs:{slot:"suffix",type:"environment"},slot:"suffix"})],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-item",{attrs:{label:"Email :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Correo Electronico"},model:{value:e.form.correoElectronico,callback:function(t){e.$set(e.form,"correoElectronico",t)},expression:"form.correoElectronico"}},[a("a-icon",{attrs:{slot:"suffix",type:"global"},slot:"suffix"})],1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-item",{attrs:{label:"Teléfono :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Teléfono"},model:{value:e.form.telefono,callback:function(t){e.$set(e.form,"telefono",t)},expression:"form.telefono"}},[a("a-icon",{attrs:{slot:"suffix",type:"phone"},slot:"suffix"})],1)],1)],1)],1),a("a-row",{attrs:{type:"flex",justify:"center",align:"top",gutter:16}},[a("a-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("a-button",{style:{fontSize:"19px",height:"40px"},attrs:{type:"dashed",block:""}},[e._v(" Cancelar ")])],1),a("a-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("a-button",{style:{fontSize:"19px",height:"40px"},attrs:{type:"primary",block:""},on:{click:e.savePersona}},[a("a-icon",{attrs:{type:"save"}}),e._v(" Registrar ")],1)],1)],1)],1)],1)},bi=[],vi={labelCol:{xs:{span:24},sm:{span:24},md:{span:8},lg:{span:8},xl:{span:8}},wrapperCol:{xs:{span:24},sm:{span:24},md:{span:16},lg:{span:16},xl:{span:16}}},yi={labelCol:{xs:{span:24},sm:{span:24},md:{span:4},lg:{span:4},xl:{span:4}},wrapperCol:{xs:{span:24},sm:{span:24},md:{span:20},lg:{span:20},xl:{span:20}}},Ci={data:function(){return{formItemTowLayout:vi,formItemOneLayout:yi,form:{nombres:null,paterno:null,materno:null,direccion:null,correoElectronico:null,telefono:null,nroDocumento:null,ciudadId:null,ciudad:null,tipoDocumentoId:null,tipoDocumento:null,extensionDocumento:null,extensionDocumentoId:null},estado:null,extensionDocumentoList:[]}},computed:{},created:function(){this.getDominioExtensionDocumento()},methods:{getDominioExtensionDocumento:function(){var e=this;fi.getDominioExtensionDocumento().then((function(t){e.extensionDocumentoList=t.data.result})).catch((function(e){}))},savePersona:function(){fi.savePersona(this.form).then((function(e){})).catch((function(e){}))}}},xi=Ci,Ei=(a("3151"),Object(f["a"])(xi,gi,bi,!1,null,"8bdf7168",null)),Ri=Ei.exports,wi={labelCol:{xs:{span:24},sm:{span:24},md:{span:8},lg:{span:8},xl:{span:8}},wrapperCol:{xs:{span:24},sm:{span:24},md:{span:16},lg:{span:16},xl:{span:16}}},Ii={labelCol:{xs:{span:24},sm:{span:24},md:{span:4},lg:{span:4},xl:{span:4}},wrapperCol:{xs:{span:24},sm:{span:24},md:{span:20},lg:{span:20},xl:{span:20}}},ki=[{title:"DATOS DEL USUARIO",dataIndex:"nombreCompleto",key:"nombreCompleto",width:"30%",scopedSlots:{customRender:"nombreCompleto"}},{title:"CREDENCIALES",dataIndex:"credenciales",key:"credenciales",width:"15%",scopedSlots:{customRender:"credenciales"}},{title:"ROLES/MÓDULOS",dataIndex:"roles",key:"roles",width:"25%",scopedSlots:{customRender:"roles"}},{title:"ESTADO",dataIndex:"estado",key:"estado",width:"10%",align:"center",scopedSlots:{customRender:"estado"}},{title:"OPCIONES",dataIndex:"opciones",key:"opciones",width:"20%",align:"center",scopedSlots:{customRender:"opciones"}}],_i={components:{RegistroPersona:Ri},data:function(){var e,t=[];return e={mockData:t,targetKeys:[],selectedKeys:[],disabled:!1,operacionesList:[],columns:ki,data:[],loadingTable:!1,page:1,total:0,pagination:{},selectPersona:{},formBusqueda:{sucursalId:"0"},visibleModalRegitro:!1,tituloModal:"",dissabled:!0,formItemTowLayout:wi,formItemOneLayout:Ii,form:{nombres:"",paterno:"",materno:"",direccion:"",correoElectronico:"",telefono:"",nroDocumento:"",ciudadId:"",ciudad:"",tipoDocumentoId:"",tipoDocumento:"",extensionDocumento:"",extensionDocumentoId:"",transaccion:"",sucursalId:"",sucursalEntidadId:"",recaudadorId:"",entidadId:"",esAdmin:""},estado:null,extensionDocumentoList:[]},Object(Le["a"])(e,"tituloModal",null),Object(Le["a"])(e,"dissabled",!0),Object(Le["a"])(e,"labelButton",""),Object(Le["a"])(e,"imagenButton",""),Object(Le["a"])(e,"transaccion",""),Object(Le["a"])(e,"modulo",""),Object(Le["a"])(e,"subModulo",""),Object(Le["a"])(e,"moduloId",null),Object(Le["a"])(e,"modulosList",[]),Object(Le["a"])(e,"sucursalList",[]),Object(Le["a"])(e,"sucursalmoduloList",[]),Object(Le["a"])(e,"sucursalesRecaudadorList",[]),Object(Le["a"])(e,"visibleModalCredenciales",!1),Object(Le["a"])(e,"personaId",null),Object(Le["a"])(e,"subTitle",null),Object(Le["a"])(e,"visibleModalRoles",!1),Object(Le["a"])(e,"moduloUsuario",{}),Object(Le["a"])(e,"privilegiosAsignar",[]),Object(Le["a"])(e,"privilegiosAsignados",[]),Object(Le["a"])(e,"privilegiosKey",[]),Object(Le["a"])(e,"usuarioModulos",{}),Object(Le["a"])(e,"privilegiosActivar",[]),Object(Le["a"])(e,"privilegiosDesActivar",[]),Object(Le["a"])(e,"entidadesList",[]),Object(Le["a"])(e,"recaudadorasList",[]),Object(Le["a"])(e,"selectedRowsList",[]),Object(Le["a"])(e,"rules",{nombres:[{required:!0,message:"Debe registrar el nombre.",trigger:"blur"},{min:2,max:149,message:"El rango de caracteres debe ser de 2 a 150.",trigger:"blur"}],paterno:[{required:!0,message:"Debe registrar el apellido paterno.",trigger:"blur"},{min:2,max:99,message:"El rango de caracteres debe ser de 2 a 100.",trigger:"blur"}],materno:[{min:2,max:99,message:"El rango de caracteres debe ser de 2 a 100.",trigger:"blur"}],direccion:[{required:!0,message:"Debe registrar la dirección.",trigger:"blur"},{min:5,max:199,message:"El rango de caracteres debe ser de 5 a 200.",trigger:"blur"}],nroDocumento:[{min:7,max:10,message:"El rango de caracteres debe ser de 7 a 10.",trigger:"blur"}],extensionDocumentoId:[{required:!0,message:"Debe seleccionar el tipo de documento",trigger:"change"}],correoElectronico:[{required:!0,type:"email",message:"Debe registrar Correo Electrónico valido.",trigger:"change"},{min:5,max:99,message:"El rango de caracteres debe ser de 5 a 100.",trigger:"blur"}],entidadId:[{required:!0,message:"Debe registrar Correo Electronico.",trigger:"change"}],sucursalId:[{required:!0,message:"Sucursal no debe estar Vacio.",trigger:"change"}],telefono:[{min:5,max:10,message:"El rango de caracteres debe ser de 5 a 10.",trigger:"blur"}]}),Object(Le["a"])(e,"selectedRowKeys",[]),Object(Le["a"])(e,"selectedRows",null),Object(Le["a"])(e,"sucursalesList",[]),Object(Le["a"])(e,"sucursalId",null),Object(Le["a"])(e,"visibleModalDesbloqueo",!1),e},watch:{"form.entidadId":function(e){var t=this;Mt.getLstSucursalEntidadForAddUserByEntidadId(e).then((function(e){console.log("asasasas"),t.sucursalList=e.data.result}))}},computed:Object(pi["a"])({},Object(r["c"])("AdmStore",["getform"])),created:function(){var e=this;this.findModulos(),this.esSessionEntidad(),this.findAllEntidad(),this.getModuloUsuario(),this.getDominioExtensionDocumento(),this.getOperaciones("PERSONAS","INICIAL"),this.findPersonas(1),this.pagination={total:this.total,onChange:function(t){e.findPersonas(t)}}},methods:Object(pi["a"])(Object(pi["a"])({},Object(r["b"])("AdmStore",["almacenarDataStore"])),{},{onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectPersona=t[0],this.getOperaciones("PERSONAS",this.selectPersona.estado)},handleChange:function(e,t,a){this.targetKeys=e,this.privilegiosKey=e},handleSelectChange:function(e,t){console.log("seleccioanndo"),console.log(e),console.log(t),this.selectedKeys=[].concat(Object(ne["a"])(e),Object(ne["a"])(t))},handleScroll:function(e,t){},handleDisable:function(e){this.disabled=e},almacenarFormFuncion:function(e){this.$store.dispatch("AdmStore/almacenarDataStore",e)},getOperaciones:function(e,t){var a=this;fi.getOperaciones(e,t).then((function(e){a.operacionesList=e.data.data})).catch((function(e){a.operacionesList=[]}))},findPersonas:function(e){var t=this;this.loadingTable=!0,this.formBusqueda.page=e,this.selectPersona={},this.formBusqueda.modulo=this.modulo,this.formBusqueda.subModulo=this.subModulo,this.data=[],this.selectedRowsList=[],hi.findPersonasByTipo(this.formBusqueda,83).then((function(e){t.data=e.data.data.content,t.pagination.pageSize=e.data.data.numberOfElements,t.pagination.total=e.data.data.totalElements,t.loadingTable=!1,t.selectedRowsList=[],t.selectedRowKeys=[],t.selectPersona={},t.getOperaciones("PERSONAS","INICIAL")})).catch((function(e){t.data=[],t.loadingTable=!1}))},prepararOperacion:function(e){switch(this.getSucursalesByRecaudadora(),this.form={},e.transaccion){case"CREAR":this.visibleModalRegitro=!0,this.tituloModal="REGISTRAR NUEVA PERSONA",this.dissabled=!1,this.form={},this.labelButton=e.etiqueta,this.imagenButton=e.imagen,this.transaccion=e.transaccion;break;case"MODIFICAR":this.visibleModalRegitro=!0,this.tituloModal="MODIFICAR PERSONA",this.dissabled=!1,this.form=this.selectPersona,this.labelButton=e.etiqueta,this.imagenButton=e.imagen,this.transaccion=e.transaccion;break;case"ACTIVAR":"ACTIVO"==this.selectPersona.estadoUsuario?(this.visibleModalRegitro=!0,this.dissabled=!0,this.tituloModal="ACTIVAR PERSONA",this.dissabled=!0,this.labelButton=e.etiqueta,this.imagenButton=e.imagen,this.transaccion=e.transaccion,this.form=this.selectPersona):this.$warning({title:"No se puede activar al usuario.",content:"No se puede activar al usuario debido a que no cuenta con credenciales de acceso al sistema.",okText:"Aceptar"});break;case"DESACTIVAR":this.visibleModalRegitro=!0,this.tituloModal="DESACTIVAR PERSONA",this.dissabled=!0,this.labelButton=e.etiqueta,this.imagenButton=e.imagen,this.transaccion=e.transaccion,this.form=this.selectPersona;break;case"ELIMINAR":this.visibleModalRegitro=!0,this.tituloModal="ELIMINAR PERSONA",this.dissabled=!0,this.labelButton=e.etiqueta,this.imagenButton=e.imagen,this.transaccion=e.transaccion,this.form=this.selectPersona;break;case"VISUALIZAR":this.visibleModalRegitro=!0,this.tituloModal="DATOS DE LA PERSONA",this.dissabled=!0,this.labelButton=e.etiqueta,this.imagenButton=e.imagen,this.transaccion=e.transaccion,this.form=this.selectPersona;break}},procesarOperacion:function(){var e=this;this.$createElement;switch(this.transaccion){case"CREAR":if(null==this.form.entidadId)return void this.$notification.warning("Debe seleccionar una Entidad");if(null==this.form.sucursalEntidadId)return void this.$notification.warning("Debe seleccionar Sucursal");this.$refs.ruleForm.validate((function(t){t&&e.$confirm({title:"¿Está seguro de seguir con la operación?",content:function(e){return e("div",["Si continua con esta acción no podrá revertirla."])},okText:"ACEPTAR",cancelText:"CANCELAR",onOk:function(){e.form.transaccion=e.transaccion,e.savePersona()}})})),this.getOperaciones("PERSONAS","CREADO");break;case"MODIFICAR":if(null==this.form.entidadId&&null==this.form.recaudadorId)return void this.$notification.warning("Debe seleccionar una Entidad o Recaudadora.");this.$refs.ruleForm.validate((function(t){t&&e.$confirm({title:"¿Está seguro de seguir con la operación?",content:function(e){return e("div",["Si continua con esta acción no podrá revertirla."])},okText:"ACEPTAR",cancelText:"CANCELAR",onOk:function(){e.form.transaccion=e.transaccion,e.updatePersonaSocioEmpresa()}})}));break;case"ACTIVAR":this.$confirm({title:"¿Está seguro de seguir con la operación?",content:function(e){return e("div",["Si continua con esta acción no podrá revertirla."])},okText:"ACEPTAR",cancelText:"CANCELAR",onOk:function(){e.form.transaccion=e.transaccion,e.cambiarEstadoPersona()}}),this.getOperaciones("PERSONAS","ACTIVO");break;case"DESACTIVAR":this.$confirm({title:"¿Está seguro de seguir con la operación?",content:function(e){return e("div",["Si continua con esta acción no podrá revertirla."])},okText:"ACEPTAR",cancelText:"CANCELAR",onOk:function(){e.form.transaccion=e.transaccion,e.cambiarEstadoPersona()}}),this.getOperaciones("PERSONAS","INACTIVO");break;case"ELIMINAR":this.$confirm({title:"¿Está seguro de seguir con la operación?",content:function(e){return e("div",["Si continua con esta acción no podrá revertirla."])},okText:"ACEPTAR",cancelText:"CANCELAR",onOk:function(){e.form.transaccion=e.transaccion,e.cambiarEstadoPersona()}}),this.getOperaciones("PERSONAS","ELIMINADO");break;case"VISUALIZAR":this.visibleModalRegitro=!1,this.getOperaciones("PERSONAS","CREADO");break}},cancelarModal:function(){this.visibleModalRegitro=!1,this.$refs["ruleForm"].resetFields()},getDominioExtensionDocumento:function(){var e=this;fi.getDominioExtensionDocumento().then((function(t){e.extensionDocumentoList=t.data.result})).catch((function(e){}))},savePersona:function(){var e=this;this.form.modulo=this.modulo,this.form.subModulo=this.subModulo,hi.savePersonaSocioEmpresa(83,this.form).then((function(t){e.findPersonas(1),e.visibleModalRegitro=!1,e.getOperaciones("PERSONAS","CREADO"),e.$notification.success(t.data.message),e.$refs["ruleForm"].resetFields()})).catch((function(t){e.$notification.error(t.response.data.message)}))},updatePersonaSocioEmpresa:function(){var e=this;this.form.modulo=this.modulo,hi.updatePersonaSocioEmpresa(83,this.form).then((function(t){e.form=t.data.data,e.findPersonas(1),e.visibleModalRegitro=!1,e.getOperaciones("PERSONAS",e.form.estado),e.$notification.success(t.data.message),e.$refs["ruleForm"].resetFields()})).catch((function(t){e.$notification.error(t.response.data.message)}))},cambiarEstadoPersona:function(){var e=this;this.form.modulo=this.modulo,fi.cambiarEstadoPersona(this.form).then((function(t){e.findPersonas(1),e.visibleModalRegitro=!1,e.getOperaciones("PERSONAS",e.selectPersona.estado),e.$notification.success(t.data.message)})).catch((function(t){e.$notification.error(t.response.data.message)}))},getSucursalesByRecaudadora:function(){var e=this;"ADM_RECAUDACION"==this.subModulo&&fi.getSucursalesByRecaudadora().then((function(t){e.sucursalesRecaudadorList=t.data.data})).catch((function(t){e.sucursalesRecaudadorList=[]}))},esSessionEntidad:function(){var e=this.$route.fullPath;switch(e){case"/Usuario/UsuarioEmpresa":case"/AdminUsuarios/ADMIN":this.modulo="ADMIN",this.subModulo="ADMIN";break;case"/AdminUsuarios/COBROS/ADM_ENTIDADES":this.modulo="COBROS",this.subModulo="ADM_ENTIDADES";break;case"/AdminUsuarios/COBROS/ADM_RECAUDACION":this.modulo="COBROS",this.subModulo="ADM_RECAUDACION";break}},viewCredenciales:function(e){this.visibleModalCredenciales=!0,this.personaId=e.personaId,this.subTitle="Las credenciales que se generaran para ".concat(e.nombreCompleto," se enviaran a su correo ").concat(e.correoElectronico,".")},viewDesBloqueo:function(e){this.visibleModalDesbloqueo=!0,this.personaId=e.personaId,this.subTitle="La cuenta del usuario  ".concat(e.nombreCompleto," se desbloqueará y sus credenciales serán enviadas a su correo electrónico  ").concat(e.correoElectronico)},generarCredenciales:function(){var e=this;fi.generarCredenciales(this.personaId).then((function(t){e.visibleModalCredenciales=!1,e.$notification.success(t.data.message),e.findPersonas(1)})).catch((function(t){e.$notification.error(t.response.data.message)}))},viewVisibleModalRoles:function(e){this.personaId=e.personaId,this.moduloId=null,this.modulosList=[],this.mockData=[],this.targetKeys=[],this.findPrivilegiosByUsuarioId(e.usuarioId),"ADMIN"!=this.subModulo?(this.findPrivilegiosByUsuarioIdSession(),this.findModuloByUsuarioSession()):(this.findModuloByUsuarioId(e.usuarioId),this.findModulos()),this.visibleModalRoles=!0},getModuloUsuario:function(){var e=this;fi.getModuloUsuario().then((function(t){e.moduloUsuario=t.data.data})).catch((function(e){}))},findRolesForTransferByUsuario:function(e,t,a){var o=this;fi.findRolesForTransferByUsuario(e,t,a).then((function(e){o.privilegiosAsignados=e.data.data,o.targetKeys=e.data.data})).catch((function(e){}))},guardarRoles:function(){var e=this,t={};t.privilegiosKey=this.privilegiosKey,t.personaId=this.personaId,t.moduloId=this.moduloId,fi.savePrivilegio(t).then((function(t){e.visibleModalRoles=!1,e.$notification.success(t.data.message),e.findPersonas(1)})).catch((function(t){e.visibleModalRoles=!1,e.$notification.error(t.response.data.message)}))},findAllEntidad:function(){var e=this;fi.findAllEntidad().then((function(t){e.entidadesList=t.data.data})).catch((function(t){e.entidadesList=[]}))},findModulos:function(){var e=this;this.modulosList=[],fi.findModulos().then((function(t){e.modulosList=t.data.data})).catch((function(t){e.modulosList=[]}))},findPrivilegiosByModuloId:function(){var e=this;fi.findPrivilegiosByModuloId(this.moduloId).then((function(t){e.mockData=t.data.data})).catch((function(t){e.mockData=[]}))},findPrivilegiosByUsuarioId:function(e){var t=this;this.targetKeys=[],fi.findPrivilegiosByUsuarioId(e).then((function(e){t.targetKeys=e.data.data})).catch((function(e){t.targetKeys=[]}))},findModuloByUsuarioId:function(e){var t=this;this.usuarioModulos={},fi.findModuloByUsuarioId(e).then((function(e){t.usuarioModulos=e.data.data,t.moduloId=t.usuarioModulos.moduloId,t.findPrivilegiosByModuloId()})).catch((function(e){t.usuarioModulos={}}))},findModuloByUsuarioSession:function(){var e=this;this.usuarioModulos={},fi.findModuloByUsuarioSession().then((function(t){e.usuarioModulos=t.data.data,e.moduloId=e.usuarioModulos.moduloId})).catch((function(t){e.usuarioModulos={}}))},findPrivilegiosByUsuarioIdSession:function(){var e=this;fi.findPrivilegiosByUsuarioIdSession(this.subModulo).then((function(t){e.mockData=t.data.data})).catch((function(t){e.mockData={}}))},toUnlock:function(){var e=this;fi.toUnlock(this.personaId).then((function(t){e.visibleModalDesbloqueo=!1,e.findPersonas(1),e.$notification.success(t.data.message)})).catch((function(t){e.visibleModalDesbloqueo=!1,e.$notification.error("No se pudo ejecutar la operación, comuníquese con su administrador.")}))}})},Ai=_i,Si=(a("8f60"),Object(f["a"])(Ai,ui,mi,!1,null,"331c3acc",null)),Di=Si.exports,Oi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head"},[a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("b",{staticStyle:{color:"#08632d"}},[e._v(" ADMINISTRACIÓN DE USUARIOS SOCIO ")])])],1)],1)]),a("a-card",{staticStyle:{width:"100%"}},[a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-form-model-item",{attrs:{label:"Buscar por :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input-search",{attrs:{placeholder:"Nombre, Nro. Documento","enter-button":""},on:{search:function(t){return e.findPersonas(1)}},model:{value:e.formBusqueda.parametro,callback:function(t){e.$set(e.formBusqueda,"parametro",t)},expression:"formBusqueda.parametro"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:14,lg:14,xl:14}},e._l(e.operacionesList,(function(t,o){return a("a-button",{key:o,staticStyle:{margin:"1px"},on:{click:function(a){return e.prepararOperacion(t)}}},[a("a-icon",{attrs:{type:t.imagen,theme:"twoTone","two-tone-color":"#2e8b57"}}),e._v(" "+e._s(t.etiqueta)+" ")],1)})),1)],1),a("a-divider",{attrs:{orientation:"left"}},[e._v("LISTA DE USUARIOS")]),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,pagination:e.pagination,align:"center",loading:e.loadingTable,"row-selection":{type:"radio",selectedRowKeys:e.selectedRowKeys,selectedRows:e.selectedRows,onChange:e.onSelectChange},scroll:{x:700}},scopedSlots:e._u([{key:"nombreCompleto",fn:function(t,o){return[a("font",{attrs:{size:"2"}},[a("table",{staticStyle:{width:"100%"}},[a("tr",[a("th",[e._v("Usuario:")]),a("td",[e._v(e._s(o.login))])]),a("tr",[a("th",[e._v("Nombre:")]),a("td",[e._v(e._s(o.nombreCompleto))])]),a("tr",[a("th",[e._v("Nro. Doc.:")]),a("td",[e._v(" "+e._s(o.nroDocumento)+" "+e._s(o.extensionDocumento)+" ")])]),a("tr",[a("th",[e._v("Correo:")]),a("td",[e._v(e._s(o.correoElectronico))])]),a("tr",[a("th",[e._v("Teléfono:")]),a("td",[e._v(e._s(o.telefono))])]),null!=o.nombreRecaudadora?a("tr",[a("th",[e._v("Socio:")]),a("td",[a("a-tag",{attrs:{color:"cyan"}},[e._v(" "+e._s(o.nombreRecaudadora)+" ")])],1)]):e._e(),null!=o.nombreSucursal?a("tr",[a("th",[e._v("Sucursal:")]),a("td",[a("a-tag",{attrs:{color:"cyan"}},[e._v(" "+e._s(o.nombreSucursal))])],1)]):e._e()])])]}},{key:"credenciales",fn:function(t,o){return["ACTIVO"==o.estadoUsuario?a("div",[a("a-tag",{attrs:{color:"green"}},[a("a-icon",{attrs:{type:"lock"}}),e._v(" Asignadas ")],1)],1):e._e(),null==o.estadoUsuario?a("div",[a("a-tag",{attrs:{color:"red"}},[a("a-icon",{attrs:{type:"lock"}}),e._v("Sin Asignar ")],1)],1):e._e()]}},{key:"roles",fn:function(t,o){return[a("a-timeline",e._l(o.privilegioEntities,(function(t,o){return a("a-timeline-item",{key:o,staticStyle:{margin:"0px",padding:"0"}},[a("font",{attrs:{size:"2"}},[e._v(" "+e._s(t.descripcion)+" ")])],1)})),1)]}},{key:"estado",fn:function(t,o){return["ACTIVO"==o.estado?a("div",[a("a-tag",{attrs:{color:"green"}},[e._v(" "+e._s(o.estado)+" ")])],1):e._e(),"DESACTIVO"==o.estado?a("div",[a("a-icon",{attrs:{type:"caret-up"}}),e._v(" "),a("a-tag",{attrs:{color:"green"}},[e._v("INACTIVO ")])],1):e._e(),"CREADO"==o.estado?a("div",[a("a-tag",{attrs:{color:"blue"}},[e._v(" "+e._s(o.estado)+" ")])],1):e._e()]}},{key:"opciones",fn:function(t,o){return["DESACTIVO"==o.estado||"CREADO"==o.estado?a("div",[a("a-button",{attrs:{type:"dashed",block:""},on:{click:function(t){return e.viewCredenciales(o)}}},[a("a-icon",{attrs:{type:"lock"}}),e._v(" Generar Credenciales ")],1),a("a-button",{attrs:{type:"dashed",block:"",disabled:null==o.estadoUsuario},on:{click:function(t){return e.viewVisibleModalRoles(o)}}},[a("a-icon",{attrs:{type:"user-add"}}),e._v("Asignar Roles ")],1)],1):e._e(),o.bloqueado?a("a-button",{attrs:{type:"danger",block:""},on:{click:function(t){return e.viewDesBloqueo(o)}}},[a("a-icon",{attrs:{type:"lock"}}),e._v(" Desbloquear ")],1):e._e()]}}])})],1),a("a-modal",{attrs:{title:e.tituloModal,"dialog-style":{top:"20px"},width:700},model:{value:e.visibleModalRegitro,callback:function(t){e.visibleModalRegitro=t},expression:"visibleModalRegitro"}},[a("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,size:"small"}},[a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{ref:"nombres",attrs:{prop:"nombres",label:"Nombres :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Nombres",readOnly:e.dissabled},on:{blur:function(){e.$refs.nombres.onFieldBlur()}},model:{value:e.form.nombres,callback:function(t){e.$set(e.form,"nombres",t)},expression:"form.nombres"}},[a("a-icon",{attrs:{slot:"suffix",type:"user"},slot:"suffix"})],1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{ref:"paterno",attrs:{prop:"paterno",label:"Ap. Paterno :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Apellido Paterno",readOnly:e.dissabled},on:{blur:function(){e.$refs.paterno.onFieldBlur()}},model:{value:e.form.paterno,callback:function(t){e.$set(e.form,"paterno",t)},expression:"form.paterno"}},[a("a-icon",{attrs:{slot:"suffix",type:"user"},slot:"suffix"})],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{ref:"materno",attrs:{prop:"materno",label:"Ap. Materno :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Apellido Materno",readOnly:e.dissabled},on:{blur:function(){e.$refs.materno.onFieldBlur()}},model:{value:e.form.materno,callback:function(t){e.$set(e.form,"materno",t)},expression:"form.materno"}},[a("a-icon",{attrs:{slot:"suffix",type:"user"},slot:"suffix"})],1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{ref:"nroDocumento",attrs:{prop:"nroDocumento",label:"Nro. Doc. :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input-group",{attrs:{compact:""}},[a("a-input",{staticStyle:{width:"60%"},attrs:{placeholder:"Nro. de Documento.",required:"",readOnly:e.dissabled},on:{blur:function(){e.$refs.nroDocumento.onFieldBlur()}},model:{value:e.form.nroDocumento,callback:function(t){e.$set(e.form,"nroDocumento",t)},expression:"form.nroDocumento"}},[a("a-icon",{attrs:{slot:"suffix",type:"idcard"},slot:"suffix"})],1),a("a-select",{staticStyle:{width:"40%"},attrs:{"default-value":"Extensión",disabled:e.dissabled},model:{value:e.form.extensionDocumentoId,callback:function(t){e.$set(e.form,"extensionDocumentoId",t)},expression:"form.extensionDocumentoId"}},e._l(e.extensionDocumentoList,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.dominioId}},[e._v(" "+e._s(t.abreviatura)+" ")])})),1)],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("a-form-model-item",{ref:"direccion",attrs:{prop:"direccion",label:"Dirección :","label-col":e.formItemOneLayout.labelCol,"wrapper-col":e.formItemOneLayout.wrapperCol}},[a("a-textarea",{attrs:{placeholder:"Dirección domiciliaria","auto-size":"",readOnly:e.dissabled},on:{blur:function(){e.$refs.direccion.onFieldBlur()}},model:{value:e.form.direccion,callback:function(t){e.$set(e.form,"direccion",t)},expression:"form.direccion"}},[a("a-icon",{attrs:{slot:"suffix",type:"environment"},slot:"suffix"})],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{ref:"correoElectronico",attrs:{prop:"correoElectronico",label:"Email :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Correo Electronico",readOnly:e.dissabled},on:{blur:function(){e.$refs.correoElectronico.onFieldBlur()}},model:{value:e.form.correoElectronico,callback:function(t){e.$set(e.form,"correoElectronico",t)},expression:"form.correoElectronico"}},[a("a-icon",{attrs:{slot:"suffix",type:"global"},slot:"suffix"})],1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{ref:"telefono",attrs:{prop:"telefono",label:"Teléfono :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Teléfono",readOnly:e.dissabled},on:{blur:function(){e.$refs.telefono.onFieldBlur()}},model:{value:e.form.telefono,callback:function(t){e.$set(e.form,"telefono",t)},expression:"form.telefono"}},[a("a-icon",{attrs:{slot:"suffix",type:"phone"},slot:"suffix"})],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{attrs:{label:"Socio :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-select",{attrs:{disabled:e.dissabled},model:{value:e.form.recaudadorId,callback:function(t){e.$set(e.form,"recaudadorId",t)},expression:"form.recaudadorId"}},e._l(e.recaudadorasList,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.recaudadorId}},[e._v(" "+e._s(t.nombre)+" ")])})),1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{attrs:{label:"Sucursal :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-select",{attrs:{disabled:e.dissabled},model:{value:e.form.sucursalId,callback:function(t){e.$set(e.form,"sucursalId",t)},expression:"form.sucursalId"}},e._l(e.sucursalList,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.sucursalId}},[e._v(" "+e._s(t.nombre)+" ")])})),1)],1)],1)],1)],1),a("template",{slot:"footer"},[a("a-row",{attrs:{type:"flex",justify:"center",align:"top",gutter:16}},[a("a-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("a-button",{style:{fontSize:"19px",height:"40px"},attrs:{type:"dashed",block:""},on:{click:function(t){return e.cancelarModal()}}},[e._v(" Cancelar ")])],1),a("a-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("a-button",{style:{fontSize:"19px",height:"40px"},attrs:{type:"primary",block:""},on:{click:e.procesarOperacion}},[a("a-icon",{attrs:{type:e.imagenButton}}),e._v(" "+e._s(e.labelButton)+" ")],1)],1)],1)],1)],2),a("a-modal",{attrs:{title:"Generación de credenciales","dialog-style":{top:"20px"},width:400},model:{value:e.visibleModalCredenciales,callback:function(t){e.visibleModalCredenciales=t},expression:"visibleModalCredenciales"}},[a("a-result",{staticStyle:{padding:"0px"},attrs:{title:"¿Está seguro de generar las credenciales para el usuario?","sub-title":e.subTitle},scopedSlots:e._u([{key:"icon",fn:function(){return[a("a-icon",{attrs:{type:"question-circle"}})]},proxy:!0}])}),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalCredenciales=!1}}},[e._v(" Cancelar ")]),a("a-button",{key:"submit",attrs:{type:"primary"},on:{click:e.generarCredenciales}},[e._v(" Aceptar ")])],1)],2),a("a-modal",{attrs:{title:"Desbloqueo de Usuario","dialog-style":{top:"20px"},width:400},model:{value:e.visibleModalDesbloqueo,callback:function(t){e.visibleModalDesbloqueo=t},expression:"visibleModalDesbloqueo"}},[a("a-result",{staticStyle:{padding:"0px"},attrs:{title:"¿Está seguro de desbloquear al usuario?","sub-title":e.subTitle},scopedSlots:e._u([{key:"icon",fn:function(){return[a("a-icon",{attrs:{type:"question-circle"}})]},proxy:!0}])}),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalDesbloqueo=!1}}},[e._v(" Cancelar ")]),a("a-button",{key:"submit",attrs:{type:"primary"},on:{click:e.toUnlock}},[e._v(" Aceptar ")])],1)],2),a("a-modal",{attrs:{title:"ASIGNACIÓN DE ROLES","dialog-style":{top:"20px"},width:700},model:{value:e.visibleModalRoles,callback:function(t){e.visibleModalRoles=t},expression:"visibleModalRoles"}},["ADMIN"==this.subModulo?a("a-row",[a("a-col",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-form",{attrs:{"label-col":{span:7},"wrapper-col":{span:17}}},[a("a-form-item",{attrs:{label:"Seleccione un Módulo"}},[a("a-select",{staticStyle:{width:"100%"},on:{change:function(t){return e.findPrivilegiosByModuloId()}},model:{value:e.moduloId,callback:function(t){e.moduloId=t},expression:"moduloId"}},e._l(e.modulosList,(function(t){return a("a-select-option",{key:t.moduloId,attrs:{value:t.moduloId}},[e._v(e._s(t.descripcion))])})),1)],1)],1)],1)],1):e._e(),a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-transfer",{attrs:{"data-source":e.mockData,titles:["Roles por Asignar","Roles Asignados"],"target-keys":e.targetKeys,"selected-keys":e.selectedKeys,render:function(e){return e.title},disabled:e.disabled,"list-style":{width:"300px"}},on:{change:e.handleChange,selectChange:e.handleSelectChange}})],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalRoles=!1}}},[e._v(" Cancelar ")]),a("a-button",{key:"submit",attrs:{type:"primary"},on:{click:e.guardarRoles}},[e._v(" Aceptar ")])],1)],2)],1)},Ti=[],Li={labelCol:{xs:{span:24},sm:{span:24},md:{span:8},lg:{span:8},xl:{span:8}},wrapperCol:{xs:{span:24},sm:{span:24},md:{span:16},lg:{span:16},xl:{span:16}}},Bi={labelCol:{xs:{span:24},sm:{span:24},md:{span:4},lg:{span:4},xl:{span:4}},wrapperCol:{xs:{span:24},sm:{span:24},md:{span:20},lg:{span:20},xl:{span:20}}},Mi=[{title:"DATOS DEL USUARIO",dataIndex:"nombreCompleto",key:"nombreCompleto",width:"30%",scopedSlots:{customRender:"nombreCompleto"}},{title:"CREDENCIALES",dataIndex:"credenciales",key:"credenciales",width:"15%",scopedSlots:{customRender:"credenciales"}},{title:"ROLES/MÓDULOS",dataIndex:"roles",key:"roles",width:"25%",scopedSlots:{customRender:"roles"}},{title:"ESTADO",dataIndex:"estado",key:"estado",width:"10%",align:"center",scopedSlots:{customRender:"estado"}},{title:"OPCIONES",dataIndex:"opciones",key:"opciones",width:"20%",align:"center",scopedSlots:{customRender:"opciones"}}],ji={components:{RegistroPersona:Ri},data:function(){var e,t=[];return e={mockData:t,targetKeys:[],selectedKeys:[],disabled:!1,operacionesList:[],columns:Mi,data:[],loadingTable:!1,page:1,total:0,pagination:{},selectPersona:{},formBusqueda:{sucursalId:"0"},visibleModalRegitro:!1,tituloModal:"",dissabled:!0,formItemTowLayout:Li,formItemOneLayout:Bi,form:{nombres:"",paterno:"",materno:"",direccion:"",correoElectronico:"",telefono:"",nroDocumento:"",ciudadId:"",ciudad:"",tipoDocumentoId:"",tipoDocumento:"",extensionDocumento:"",extensionDocumentoId:"",transaccion:"",sucursalId:"",sucursalEntidadId:"",recaudadorId:"",entidadId:"",esAdmin:""},estado:null,extensionDocumentoList:[]},Object(Le["a"])(e,"tituloModal",null),Object(Le["a"])(e,"dissabled",!0),Object(Le["a"])(e,"labelButton",""),Object(Le["a"])(e,"imagenButton",""),Object(Le["a"])(e,"transaccion",""),Object(Le["a"])(e,"modulo",""),Object(Le["a"])(e,"subModulo",""),Object(Le["a"])(e,"moduloId",null),Object(Le["a"])(e,"modulosList",[]),Object(Le["a"])(e,"sucursalList",[]),Object(Le["a"])(e,"sucursalmoduloList",[]),Object(Le["a"])(e,"sucursalesRecaudadorList",[]),Object(Le["a"])(e,"visibleModalCredenciales",!1),Object(Le["a"])(e,"personaId",null),Object(Le["a"])(e,"subTitle",null),Object(Le["a"])(e,"visibleModalRoles",!1),Object(Le["a"])(e,"moduloUsuario",{}),Object(Le["a"])(e,"privilegiosAsignar",[]),Object(Le["a"])(e,"privilegiosAsignados",[]),Object(Le["a"])(e,"privilegiosKey",[]),Object(Le["a"])(e,"usuarioModulos",{}),Object(Le["a"])(e,"privilegiosActivar",[]),Object(Le["a"])(e,"privilegiosDesActivar",[]),Object(Le["a"])(e,"entidadesList",[]),Object(Le["a"])(e,"recaudadorasList",[]),Object(Le["a"])(e,"selectedRowsList",[]),Object(Le["a"])(e,"rules",{nombres:[{required:!0,message:"Debe registrar el nombre.",trigger:"blur"},{min:2,max:149,message:"El rango de caracteres debe ser de 2 a 150.",trigger:"blur"}],paterno:[{required:!0,message:"Debe registrar el apellido paterno.",trigger:"blur"},{min:2,max:99,message:"El rango de caracteres debe ser de 2 a 100.",trigger:"blur"}],materno:[{min:2,max:99,message:"El rango de caracteres debe ser de 2 a 100.",trigger:"blur"}],direccion:[{required:!0,message:"Debe registrar la dirección.",trigger:"blur"},{min:5,max:199,message:"El rango de caracteres debe ser de 5 a 200.",trigger:"blur"}],nroDocumento:[{min:7,max:10,message:"El rango de caracteres debe ser de 7 a 10.",trigger:"blur"}],extensionDocumentoId:[{required:!0,message:"Debe seleccionar el tipo de documento",trigger:"change"}],correoElectronico:[{required:!0,type:"email",message:"Debe registrar Correo Electrónico valido.",trigger:"change"},{min:5,max:99,message:"El rango de caracteres debe ser de 5 a 100.",trigger:"blur"}],entidadId:[{required:!0,message:"Debe registrar Correo Electronico.",trigger:"change"}],sucursalId:[{required:!0,message:"Sucursal no debe estar Vacio.",trigger:"change"}],telefono:[{min:5,max:10,message:"El rango de caracteres debe ser de 5 a 10.",trigger:"blur"}]}),Object(Le["a"])(e,"selectedRowKeys",[]),Object(Le["a"])(e,"selectedRows",null),Object(Le["a"])(e,"sucursalesList",[]),Object(Le["a"])(e,"sucursalId",null),Object(Le["a"])(e,"visibleModalDesbloqueo",!1),e},watch:{"form.recaudadorId":function(e){var t=this;Ya.getLstSucursalRecaudadorForAddUserByRecaudadorId(e).then((function(e){t.sucursalList=e.data.result}))}},computed:Object(pi["a"])({},Object(r["c"])("AdmStore",["getform"])),created:function(){var e=this;this.findModulos(),this.esSessionEntidad(),this.findAllRecaudadoras(),this.getModuloUsuario(),this.getDominioExtensionDocumento(),this.getOperaciones("PERSONAS","INICIAL"),this.findPersonas(1),this.pagination={total:this.total,onChange:function(t){e.findPersonas(t)}}},methods:Object(pi["a"])(Object(pi["a"])({},Object(r["b"])("AdmStore",["almacenarDataStore"])),{},{onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectPersona=t[0],this.getOperaciones("PERSONAS",this.selectPersona.estado)},handleChange:function(e,t,a){this.targetKeys=e,this.privilegiosKey=e},handleSelectChange:function(e,t){this.selectedKeys=[].concat(Object(ne["a"])(e),Object(ne["a"])(t))},handleScroll:function(e,t){},handleDisable:function(e){this.disabled=e},almacenarFormFuncion:function(e){this.$store.dispatch("AdmStore/almacenarDataStore",e)},getOperaciones:function(e,t){var a=this;fi.getOperaciones(e,t).then((function(e){a.operacionesList=e.data.data})).catch((function(e){a.operacionesList=[]}))},findPersonas:function(e){var t=this;this.loadingTable=!0,this.formBusqueda.page=e,this.selectPersona={},this.formBusqueda.modulo=this.modulo,this.formBusqueda.subModulo=this.subModulo,this.data=[],this.selectedRowsList=[],hi.findPersonasByTipo(this.formBusqueda,82).then((function(e){t.data=e.data.data.content,t.pagination.pageSize=e.data.data.numberOfElements,t.pagination.total=e.data.data.totalElements,t.loadingTable=!1,t.selectedRowsList=[],t.selectedRowKeys=[],t.selectPersona={},t.getOperaciones("PERSONAS","INICIAL")})).catch((function(e){t.data=[],t.loadingTable=!1}))},prepararOperacion:function(e){switch(this.getSucursalesByRecaudadora(),this.form={},e.transaccion){case"CREAR":this.visibleModalRegitro=!0,this.tituloModal="REGISTRAR NUEVA PERSONA",this.dissabled=!1,this.form={},this.labelButton=e.etiqueta,this.imagenButton=e.imagen,this.transaccion=e.transaccion;break;case"MODIFICAR":this.visibleModalRegitro=!0,this.tituloModal="MODIFICAR PERSONA",this.dissabled=!1,this.form=this.selectPersona,this.labelButton=e.etiqueta,this.imagenButton=e.imagen,this.transaccion=e.transaccion;break;case"ACTIVAR":"ACTIVO"==this.selectPersona.estadoUsuario?(this.visibleModalRegitro=!0,this.dissabled=!0,this.tituloModal="ACTIVAR PERSONA",this.dissabled=!0,this.labelButton=e.etiqueta,this.imagenButton=e.imagen,this.transaccion=e.transaccion,this.form=this.selectPersona):this.$warning({title:"No se puede activar al usuario.",content:"No se puede activar al usuario debido a que no cuenta con credenciales de acceso al sistema.",okText:"Aceptar"});break;case"DESACTIVAR":this.visibleModalRegitro=!0,this.tituloModal="DESACTIVAR PERSONA",this.dissabled=!0,this.labelButton=e.etiqueta,this.imagenButton=e.imagen,this.transaccion=e.transaccion,this.form=this.selectPersona;break;case"ELIMINAR":this.visibleModalRegitro=!0,this.tituloModal="ELIMINAR PERSONA",this.dissabled=!0,this.labelButton=e.etiqueta,this.imagenButton=e.imagen,this.transaccion=e.transaccion,this.form=this.selectPersona;break;case"VISUALIZAR":this.visibleModalRegitro=!0,this.tituloModal="DATOS DE LA PERSONA",this.dissabled=!0,this.labelButton=e.etiqueta,this.imagenButton=e.imagen,this.transaccion=e.transaccion,this.form=this.selectPersona;break}},procesarOperacion:function(){var e=this;this.$createElement;switch(this.transaccion){case"CREAR":if(null==this.form.recaudadorId)return void this.$notification.warning("Debe seleccionar un Socio");if(null==this.form.sucursalId)return void this.$notification.warning("Debe seleccionar Sucursal");this.$refs.ruleForm.validate((function(t){t&&e.$confirm({title:"¿Está seguro de seguir con la operación?",content:function(e){return e("div",["Si continua con esta acción no podrá revertirla."])},okText:"ACEPTAR",cancelText:"CANCELAR",onOk:function(){e.form.transaccion=e.transaccion,e.savePersona()}})})),this.getOperaciones("PERSONAS","CREADO");break;case"MODIFICAR":if(null==this.form.entidadId&&null==this.form.recaudadorId)return void this.$notification.warning("Debe seleccionar una Entidad o Recaudadora.");this.$refs.ruleForm.validate((function(t){t&&e.$confirm({title:"¿Está seguro de seguir con la operación?",content:function(e){return e("div",["Si continua con esta acción no podrá revertirla."])},okText:"ACEPTAR",cancelText:"CANCELAR",onOk:function(){e.form.transaccion=e.transaccion,e.updatePersonaSocioEmpresa()}})}));break;case"ACTIVAR":this.$confirm({title:"¿Está seguro de seguir con la operación?",content:function(e){return e("div",["Si continua con esta acción no podrá revertirla."])},okText:"ACEPTAR",cancelText:"CANCELAR",onOk:function(){e.form.transaccion=e.transaccion,e.cambiarEstadoPersona()}}),this.getOperaciones("PERSONAS","ACTIVO");break;case"DESACTIVAR":this.$confirm({title:"¿Está seguro de seguir con la operación?",content:function(e){return e("div",["Si continua con esta acción no podrá revertirla."])},okText:"ACEPTAR",cancelText:"CANCELAR",onOk:function(){e.form.transaccion=e.transaccion,e.cambiarEstadoPersona()}}),this.getOperaciones("PERSONAS","INACTIVO");break;case"ELIMINAR":this.$confirm({title:"¿Está seguro de seguir con la operación?",content:function(e){return e("div",["Si continua con esta acción no podrá revertirla."])},okText:"ACEPTAR",cancelText:"CANCELAR",onOk:function(){e.form.transaccion=e.transaccion,e.cambiarEstadoPersona()}}),this.getOperaciones("PERSONAS","ELIMINADO");break;case"VISUALIZAR":this.visibleModalRegitro=!1,this.getOperaciones("PERSONAS","CREADO");break}},cancelarModal:function(){this.visibleModalRegitro=!1,this.$refs["ruleForm"].resetFields()},getDominioExtensionDocumento:function(){var e=this;fi.getDominioExtensionDocumento().then((function(t){e.extensionDocumentoList=t.data.result})).catch((function(e){}))},savePersona:function(){var e=this;this.form.modulo=this.modulo,this.form.subModulo=this.subModulo,hi.savePersonaSocioEmpresa(82,this.form).then((function(t){e.findPersonas(1),e.visibleModalRegitro=!1,e.getOperaciones("PERSONAS","CREADO"),e.$notification.success(t.data.message),e.$refs["ruleForm"].resetFields()})).catch((function(t){e.$notification.error(t.response.data.message)}))},updatePersonaSocioEmpresa:function(){var e=this;this.form.modulo=this.modulo,hi.updatePersonaSocioEmpresa(82,this.form).then((function(t){e.form=t.data.data,e.findPersonas(1),e.visibleModalRegitro=!1,e.getOperaciones("PERSONAS",e.form.estado),e.$notification.success(t.data.message),e.$refs["ruleForm"].resetFields()})).catch((function(t){e.$notification.error(t.response.data.message)}))},cambiarEstadoPersona:function(){var e=this;this.form.modulo=this.modulo,fi.cambiarEstadoPersona(this.form).then((function(t){e.findPersonas(1),e.visibleModalRegitro=!1,e.getOperaciones("PERSONAS",e.selectPersona.estado),e.$notification.success(t.data.message)})).catch((function(t){e.$notification.error(t.response.data.message)}))},getSucursalesByRecaudadora:function(){var e=this;"ADM_RECAUDACION"==this.subModulo&&fi.getSucursalesByRecaudadora().then((function(t){e.sucursalesRecaudadorList=t.data.data})).catch((function(t){e.sucursalesRecaudadorList=[]}))},esSessionEntidad:function(){var e=this.$route.fullPath;switch(e){case"/Usuario/UsuarioSocio":case"/AdminUsuarios/ADMIN":this.modulo="ADMIN",this.subModulo="ADMIN";break;case"/AdminUsuarios/COBROS/ADM_ENTIDADES":this.modulo="COBROS",this.subModulo="ADM_ENTIDADES";break;case"/AdminUsuarios/COBROS/ADM_RECAUDACION":this.modulo="COBROS",this.subModulo="ADM_RECAUDACION";break}},viewCredenciales:function(e){this.visibleModalCredenciales=!0,this.personaId=e.personaId,this.subTitle="Las credenciales que se generaran para ".concat(e.nombreCompleto," se enviaran a su correo ").concat(e.correoElectronico,".")},viewDesBloqueo:function(e){this.visibleModalDesbloqueo=!0,this.personaId=e.personaId,this.subTitle="La cuenta del usuario  ".concat(e.nombreCompleto," se desbloqueará y sus credenciales serán enviadas a su correo electrónico  ").concat(e.correoElectronico)},generarCredenciales:function(){var e=this;fi.generarCredenciales(this.personaId).then((function(t){e.visibleModalCredenciales=!1,e.$notification.success(t.data.message),e.findPersonas(1)})).catch((function(t){e.$notification.error(t.response.data.message)}))},viewVisibleModalRoles:function(e){this.personaId=e.personaId,this.moduloId=null,this.modulosList=[],this.mockData=[],this.targetKeys=[],this.findPrivilegiosByUsuarioId(e.usuarioId),"ADMIN"!=this.subModulo?(this.findPrivilegiosByUsuarioIdSession(),this.findModuloByUsuarioSession()):(this.findModuloByUsuarioId(e.usuarioId),this.findModulos()),this.visibleModalRoles=!0},getModuloUsuario:function(){var e=this;fi.getModuloUsuario().then((function(t){e.moduloUsuario=t.data.data})).catch((function(e){}))},findRolesForTransferByUsuario:function(e,t,a){var o=this;fi.findRolesForTransferByUsuario(e,t,a).then((function(e){o.privilegiosAsignados=e.data.data,o.targetKeys=e.data.data})).catch((function(e){}))},guardarRoles:function(){var e=this,t={};t.privilegiosKey=this.privilegiosKey,t.personaId=this.personaId,t.moduloId=this.moduloId,fi.savePrivilegio(t).then((function(t){e.visibleModalRoles=!1,e.$notification.success(t.data.message),e.findPersonas(1)})).catch((function(t){e.visibleModalRoles=!1,e.$notification.error(t.response.data.message)}))},findAllRecaudadoras:function(){var e=this;fi.findAllRecaudadoras().then((function(t){e.recaudadorasList=t.data.data})).catch((function(t){e.recaudadorasList=[]}))},findModulos:function(){var e=this;this.modulosList=[],fi.findModulos().then((function(t){e.modulosList=t.data.data})).catch((function(t){e.modulosList=[]}))},findPrivilegiosByModuloId:function(){var e=this;fi.findPrivilegiosByModuloId(this.moduloId).then((function(t){e.mockData=t.data.data})).catch((function(t){e.mockData=[]}))},findPrivilegiosByUsuarioId:function(e){var t=this;this.targetKeys=[],fi.findPrivilegiosByUsuarioId(e).then((function(e){t.targetKeys=e.data.data})).catch((function(e){t.targetKeys=[]}))},findModuloByUsuarioId:function(e){var t=this;this.usuarioModulos={},fi.findModuloByUsuarioId(e).then((function(e){t.usuarioModulos=e.data.data,t.moduloId=t.usuarioModulos.moduloId,t.findPrivilegiosByModuloId()})).catch((function(e){t.usuarioModulos={}}))},findModuloByUsuarioSession:function(){var e=this;this.usuarioModulos={},fi.findModuloByUsuarioSession().then((function(t){e.usuarioModulos=t.data.data,e.moduloId=e.usuarioModulos.moduloId})).catch((function(t){e.usuarioModulos={}}))},findPrivilegiosByUsuarioIdSession:function(){var e=this;fi.findPrivilegiosByUsuarioIdSession(this.subModulo).then((function(t){e.mockData=t.data.data})).catch((function(t){e.mockData={}}))},toUnlock:function(){var e=this;fi.toUnlock(this.personaId).then((function(t){e.visibleModalDesbloqueo=!1,e.findPersonas(1),e.$notification.success(t.data.message)})).catch((function(t){e.visibleModalDesbloqueo=!1,e.$notification.error("No se pudo ejecutar la operación, comuníquese con su administrador.")}))}})},Fi=ji,Pi=(a("70d2"),Object(f["a"])(Fi,Oi,Ti,!1,null,"fe85c8a4",null)),$i=Pi.exports,qi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head"},[a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("b",{staticStyle:{color:"#08632d"}},[e._v(" ADMINISTRACIÓN DE USUARIOS ")])])],1)],1)]),a("a-card",{staticStyle:{width:"100%"}},[a("a-row",{attrs:{type:"flex",justify:"end"}},["ADM_RECAUDACION"==e.subModulo?a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-form-model-item",{attrs:{label:"Seleccione Sucursal :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-select",{staticStyle:{width:"100%"},on:{change:function(t){return e.findPersonas(1)}},model:{value:e.formBusqueda.sucursalId,callback:function(t){e.$set(e.formBusqueda,"sucursalId",t)},expression:"formBusqueda.sucursalId"}},[a("a-select-option",{attrs:{value:"0"}},[e._v(" TODAS LAS SUCURSALES ")]),e._l(e.sucursalesList,(function(t){return a("a-select-option",{key:t.sucursalId,attrs:{value:t.sucursalId}},[e._v(e._s(t.nombre))])}))],2)],1)],1):e._e(),a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-form-model-item",{attrs:{label:"Buscar por :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input-search",{attrs:{placeholder:"Nombre, Nro. Documento","enter-button":""},on:{search:function(t){return e.findPersonas(1)}},model:{value:e.formBusqueda.parametro,callback:function(t){e.$set(e.formBusqueda,"parametro",t)},expression:"formBusqueda.parametro"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:14,lg:14,xl:14}},e._l(e.operacionesList,(function(t,o){return a("a-button",{key:o,staticStyle:{margin:"1px"},on:{click:function(a){return e.prepararOperacion(t)}}},[a("a-icon",{attrs:{type:t.imagen,theme:"twoTone","two-tone-color":"#2e8b57"}}),e._v(" "+e._s(t.etiqueta)+" ")],1)})),1)],1),a("a-divider",{attrs:{orientation:"left"}},[e._v("LISTA DE USUARIOS")]),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,pagination:e.pagination,align:"center",loading:e.loadingTable,"row-selection":{type:"radio",selectedRowKeys:e.selectedRowKeys,selectedRows:e.selectedRows,onChange:e.onSelectChange},scroll:{x:700}},scopedSlots:e._u([{key:"nombreCompleto",fn:function(t,o){return[a("font",{attrs:{size:"2"}},[a("table",{staticStyle:{width:"100%"}},[a("tr",[a("th",[e._v("Usuario:")]),a("td",[e._v(e._s(o.login))])]),a("tr",[a("th",[e._v("Nombre:")]),a("td",[e._v(e._s(o.nombreCompleto))])]),a("tr",[a("th",[e._v("Nro. Doc.:")]),a("td",[e._v(" "+e._s(o.nroDocumento)+" "+e._s(o.extensionDocumento)+" ")])]),a("tr",[a("th",[e._v("Correo:")]),a("td",[e._v(e._s(o.correoElectronico))])]),a("tr",[a("th",[e._v("Teléfono:")]),a("td",[e._v(e._s(o.telefono))])]),null!=o.nombreEntidad?a("tr",[a("th",[e._v("Empresa:")]),a("td",[a("a-tag",{attrs:{color:"cyan"}},[a("a-icon",{attrs:{type:"caret-up"}}),e._v(" "+e._s(o.nombreEntidad)+" ")],1)],1)]):e._e(),null!=o.nombreRecaudadora?a("tr",[a("th",[e._v("Recaudadora:")]),a("td",[a("a-tag",{attrs:{color:"cyan"}},[a("a-icon",{attrs:{type:"caret-up"}}),e._v(" "+e._s(o.nombreRecaudadora))],1)],1)]):e._e(),null!=o.nombreSucursal?a("tr",[a("th",[e._v("Sucursal:")]),a("td",[a("a-tag",{attrs:{color:"cyan"}},[a("a-icon",{attrs:{type:"caret-up"}}),e._v(" "+e._s(o.nombreSucursal))],1)],1)]):e._e()])])]}},{key:"credenciales",fn:function(t,o){return["ACTIVO"==o.estadoUsuario?a("div",[a("a-tag",{attrs:{color:"green"}},[a("a-icon",{attrs:{type:"lock"}}),e._v(" Asignadas ")],1)],1):e._e(),null==o.estadoUsuario?a("div",[a("a-tag",{attrs:{color:"red"}},[a("a-icon",{attrs:{type:"lock"}}),e._v("Sin Asignar ")],1)],1):e._e()]}},{key:"roles",fn:function(t,o){return[a("a-timeline",e._l(o.privilegioEntities,(function(t,o){return a("a-timeline-item",{key:o,staticStyle:{margin:"0px",padding:"0"}},[a("font",{attrs:{size:"2"}},[e._v(" "+e._s(t.descripcion)+" ")])],1)})),1)]}},{key:"estado",fn:function(t,o){return["ACTIVO"==o.estado?a("div",[a("a-tag",{attrs:{color:"green"}},[a("a-icon",{attrs:{type:"caret-up"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"DESACTIVO"==o.estado?a("div",[a("a-tag",{attrs:{color:"orange"}},[a("a-icon",{attrs:{type:"caret-up"}}),e._v(" INACTIVO ")],1)],1):e._e(),"CREADO"==o.estado?a("div",[a("a-tag",{attrs:{color:"blue"}},[a("a-icon",{attrs:{type:"caret-up"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e()]}},{key:"opciones",fn:function(t,o){return["DESACTIVO"==o.estado||"CREADO"==o.estado?a("div",[a("a-button",{attrs:{type:"dashed",block:""},on:{click:function(t){return e.viewCredenciales(o)}}},[a("a-icon",{attrs:{type:"lock"}}),e._v(" Generar Credenciales ")],1),a("a-button",{attrs:{type:"dashed",block:"",disabled:null==o.estadoUsuario},on:{click:function(t){return e.viewVisibleModalRoles(o)}}},[a("a-icon",{attrs:{type:"user-add"}}),e._v("Asignar Roles ")],1)],1):e._e(),o.bloqueado?a("a-button",{attrs:{type:"danger",block:""},on:{click:function(t){return e.viewDesBloqueo(o)}}},[a("a-icon",{attrs:{type:"lock"}}),e._v(" Desbloquear ")],1):e._e()]}}])})],1),a("a-modal",{attrs:{title:e.tituloModal,"dialog-style":{top:"20px"},width:700},model:{value:e.visibleModalRegitro,callback:function(t){e.visibleModalRegitro=t},expression:"visibleModalRegitro"}},[a("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,size:"small"}},[a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{ref:"nombres",attrs:{prop:"nombres",label:"Nombres :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Nombres",readOnly:e.dissabled},on:{blur:function(){e.$refs.nombres.onFieldBlur()}},model:{value:e.form.nombres,callback:function(t){e.$set(e.form,"nombres",t)},expression:"form.nombres"}},[a("a-icon",{attrs:{slot:"suffix",type:"user"},slot:"suffix"})],1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{ref:"paterno",attrs:{prop:"paterno",label:"Ap. Paterno :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Apellido Paterno",readOnly:e.dissabled},on:{blur:function(){e.$refs.paterno.onFieldBlur()}},model:{value:e.form.paterno,callback:function(t){e.$set(e.form,"paterno",t)},expression:"form.paterno"}},[a("a-icon",{attrs:{slot:"suffix",type:"user"},slot:"suffix"})],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{ref:"materno",attrs:{prop:"materno",label:"Ap. Materno :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Apellido Materno",readOnly:e.dissabled},on:{blur:function(){e.$refs.materno.onFieldBlur()}},model:{value:e.form.materno,callback:function(t){e.$set(e.form,"materno",t)},expression:"form.materno"}},[a("a-icon",{attrs:{slot:"suffix",type:"user"},slot:"suffix"})],1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{ref:"nroDocumento",attrs:{prop:"nroDocumento",label:"Nro. Doc. :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input-group",{attrs:{compact:""}},[a("a-input",{staticStyle:{width:"60%"},attrs:{placeholder:"Nro. de Documento.",required:"",readOnly:e.dissabled},on:{blur:function(){e.$refs.nroDocumento.onFieldBlur()}},model:{value:e.form.nroDocumento,callback:function(t){e.$set(e.form,"nroDocumento",t)},expression:"form.nroDocumento"}},[a("a-icon",{attrs:{slot:"suffix",type:"idcard"},slot:"suffix"})],1),a("a-select",{staticStyle:{width:"40%"},attrs:{"default-value":"Extensión",disabled:e.dissabled},model:{value:e.form.extensionDocumentoId,callback:function(t){e.$set(e.form,"extensionDocumentoId",t)},expression:"form.extensionDocumentoId"}},e._l(e.extensionDocumentoList,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.dominioId}},[e._v(" "+e._s(t.abreviatura)+" ")])})),1)],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("a-form-model-item",{ref:"direccion",attrs:{prop:"direccion",label:"Dirección :","label-col":e.formItemOneLayout.labelCol,"wrapper-col":e.formItemOneLayout.wrapperCol}},[a("a-textarea",{attrs:{placeholder:"Dirección domiciliaria","auto-size":"",readOnly:e.dissabled},on:{blur:function(){e.$refs.direccion.onFieldBlur()}},model:{value:e.form.direccion,callback:function(t){e.$set(e.form,"direccion",t)},expression:"form.direccion"}},[a("a-icon",{attrs:{slot:"suffix",type:"environment"},slot:"suffix"})],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{ref:"correoElectronico",attrs:{prop:"correoElectronico",label:"Email :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Correo Electronico",readOnly:e.dissabled},on:{blur:function(){e.$refs.correoElectronico.onFieldBlur()}},model:{value:e.form.correoElectronico,callback:function(t){e.$set(e.form,"correoElectronico",t)},expression:"form.correoElectronico"}},[a("a-icon",{attrs:{slot:"suffix",type:"global"},slot:"suffix"})],1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{ref:"telefono",attrs:{prop:"telefono",label:"Teléfono :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"Teléfono",readOnly:e.dissabled},on:{blur:function(){e.$refs.telefono.onFieldBlur()}},model:{value:e.form.telefono,callback:function(t){e.$set(e.form,"telefono",t)},expression:"form.telefono"}},[a("a-icon",{attrs:{slot:"suffix",type:"phone"},slot:"suffix"})],1)],1)],1)],1),"ADM_RECAUDACION"==e.subModulo?a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{attrs:{label:"Sucursal :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-select",{attrs:{disabled:e.dissabled},model:{value:e.form.sucursalId,callback:function(t){e.$set(e.form,"sucursalId",t)},expression:"form.sucursalId"}},e._l(e.sucursalesRecaudadorList,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.sucursalId}},[e._v(" "+e._s(t.nombre)+" ")])})),1)],1)],1)],1):e._e(),"ADMIN"==e.subModulo?a("a-row",[a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{attrs:{label:"Empresa :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-select",{attrs:{disabled:e.dissabled},model:{value:e.form.entidadId,callback:function(t){e.$set(e.form,"entidadId",t)},expression:"form.entidadId"}},e._l(e.entidadesList,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.entidadId}},[e._v(" "+e._s(t.nombre)+" ")])})),1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("a-form-model-item",{attrs:{label:"Recaudadora :","label-col":e.formItemTowLayout.labelCol,"wrapper-col":e.formItemTowLayout.wrapperCol}},[a("a-select",{attrs:{disabled:e.dissabled},model:{value:e.form.recaudadorId,callback:function(t){e.$set(e.form,"recaudadorId",t)},expression:"form.recaudadorId"}},e._l(e.recaudadorasList,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.recaudadorId}},[e._v(" "+e._s(t.nombre)+" ")])})),1)],1)],1)],1):e._e()],1),a("template",{slot:"footer"},[a("a-row",{attrs:{type:"flex",justify:"center",align:"top",gutter:16}},[a("a-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("a-button",{style:{fontSize:"19px",height:"40px"},attrs:{type:"dashed",block:""},on:{click:function(t){return e.cancelarModal()}}},[e._v(" Cancelar ")])],1),a("a-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("a-button",{style:{fontSize:"19px",height:"40px"},attrs:{type:"primary",block:""},on:{click:e.procesarOperacion}},[a("a-icon",{attrs:{type:e.imagenButton}}),e._v(" "+e._s(e.labelButton)+" ")],1)],1)],1)],1)],2),a("a-modal",{attrs:{title:"Generación de credenciales","dialog-style":{top:"20px"},width:400},model:{value:e.visibleModalCredenciales,callback:function(t){e.visibleModalCredenciales=t},expression:"visibleModalCredenciales"}},[a("a-result",{staticStyle:{padding:"0px"},attrs:{title:"¿Está seguro de generar las credenciales para el usuario?","sub-title":e.subTitle},scopedSlots:e._u([{key:"icon",fn:function(){return[a("a-icon",{attrs:{type:"question-circle"}})]},proxy:!0}])}),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalCredenciales=!1}}},[e._v(" Cancelar ")]),a("a-button",{key:"submit",attrs:{type:"primary"},on:{click:e.generarCredenciales}},[e._v(" Aceptar ")])],1)],2),a("a-modal",{attrs:{title:"Desbloqueo de Usuario","dialog-style":{top:"20px"},width:400},model:{value:e.visibleModalDesbloqueo,callback:function(t){e.visibleModalDesbloqueo=t},expression:"visibleModalDesbloqueo"}},[a("a-result",{staticStyle:{padding:"0px"},attrs:{title:"¿Está seguro de desbloquear al usuario?","sub-title":e.subTitle},scopedSlots:e._u([{key:"icon",fn:function(){return[a("a-icon",{attrs:{type:"question-circle"}})]},proxy:!0}])}),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalDesbloqueo=!1}}},[e._v(" Cancelar ")]),a("a-button",{key:"submit",attrs:{type:"primary"},on:{click:e.toUnlock}},[e._v(" Aceptar ")])],1)],2),a("a-modal",{attrs:{title:"ASIGNACIÓN DE ROLES","dialog-style":{top:"20px"},width:700},model:{value:e.visibleModalRoles,callback:function(t){e.visibleModalRoles=t},expression:"visibleModalRoles"}},["ADMIN"==this.subModulo?a("a-row",[a("a-col",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-form",{attrs:{"label-col":{span:7},"wrapper-col":{span:17}}},[a("a-form-item",{attrs:{label:"Seleccione un Módulo"}},[a("a-select",{staticStyle:{width:"100%"},on:{change:function(t){return e.findPrivilegiosByModuloId()}},model:{value:e.moduloId,callback:function(t){e.moduloId=t},expression:"moduloId"}},e._l(e.modulosList,(function(t){return a("a-select-option",{key:t.moduloId,attrs:{value:t.moduloId}},[e._v(e._s(t.descripcion))])})),1)],1)],1)],1)],1):e._e(),a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-transfer",{attrs:{"data-source":e.mockData,titles:["Roles por Asignar","Roles Asignados"],"target-keys":e.targetKeys,"selected-keys":e.selectedKeys,render:function(e){return e.title},disabled:e.disabled,"list-style":{width:"300px"}},on:{change:e.handleChange,selectChange:e.handleSelectChange}})],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalRoles=!1}}},[e._v(" Cancelar ")]),a("a-button",{key:"submit",attrs:{type:"primary"},on:{click:e.guardarRoles}},[e._v(" Aceptar ")])],1)],2)],1)},Ni=[],Ui={labelCol:{xs:{span:24},sm:{span:24},md:{span:8},lg:{span:8},xl:{span:8}},wrapperCol:{xs:{span:24},sm:{span:24},md:{span:16},lg:{span:16},xl:{span:16}}},zi={labelCol:{xs:{span:24},sm:{span:24},md:{span:4},lg:{span:4},xl:{span:4}},wrapperCol:{xs:{span:24},sm:{span:24},md:{span:20},lg:{span:20},xl:{span:20}}},Vi=[{title:"DATOS DEL USUARIO",dataIndex:"nombreCompleto",key:"nombreCompleto",width:"30%",scopedSlots:{customRender:"nombreCompleto"}},{title:"CREDENCIALES",dataIndex:"credenciales",key:"credenciales",width:"15%",scopedSlots:{customRender:"credenciales"}},{title:"ROLES/MÓDULOS",dataIndex:"roles",key:"roles",width:"25%",scopedSlots:{customRender:"roles"}},{title:"ESTADO",dataIndex:"estado",key:"estado",width:"10%",align:"center",scopedSlots:{customRender:"estado"}},{title:"OPCIONES",dataIndex:"opciones",key:"opciones",width:"20%",align:"center",scopedSlots:{customRender:"opciones"}}],Gi={components:{RegistroPersona:Ri},data:function(){var e,t=[];return e={mockData:t,targetKeys:[],selectedKeys:[],disabled:!1,operacionesList:[],columns:Vi,data:[],loadingTable:!1,page:1,total:0,pagination:{},selectPersona:{},formBusqueda:{sucursalId:"0"},visibleModalRegitro:!1,tituloModal:"",dissabled:!0,formItemTowLayout:Ui,formItemOneLayout:zi,form:{nombres:"",paterno:"",materno:"",direccion:"",correoElectronico:"",telefono:"",nroDocumento:"",ciudadId:"",ciudad:"",tipoDocumentoId:"",tipoDocumento:"",extensionDocumento:"",extensionDocumentoId:"",transaccion:"",sucursalId:"",recaudadorId:"",entidadId:"",esAdmin:""},estado:null,extensionDocumentoList:[]},Object(Le["a"])(e,"tituloModal",null),Object(Le["a"])(e,"dissabled",!0),Object(Le["a"])(e,"labelButton",""),Object(Le["a"])(e,"imagenButton",""),Object(Le["a"])(e,"transaccion",""),Object(Le["a"])(e,"modulo",""),Object(Le["a"])(e,"subModulo",""),Object(Le["a"])(e,"moduloId",null),Object(Le["a"])(e,"modulosList",[]),Object(Le["a"])(e,"sucursalmoduloList",[]),Object(Le["a"])(e,"sucursalesRecaudadorList",[]),Object(Le["a"])(e,"visibleModalCredenciales",!1),Object(Le["a"])(e,"personaId",null),Object(Le["a"])(e,"subTitle",null),Object(Le["a"])(e,"visibleModalRoles",!1),Object(Le["a"])(e,"moduloUsuario",{}),Object(Le["a"])(e,"privilegiosAsignar",[]),Object(Le["a"])(e,"privilegiosAsignados",[]),Object(Le["a"])(e,"privilegiosKey",[]),Object(Le["a"])(e,"usuarioModulos",{}),Object(Le["a"])(e,"privilegiosActivar",[]),Object(Le["a"])(e,"privilegiosDesActivar",[]),Object(Le["a"])(e,"entidadesList",[]),Object(Le["a"])(e,"recaudadorasList",[]),Object(Le["a"])(e,"selectedRowsList",[]),Object(Le["a"])(e,"rules",{nombres:[{required:!0,message:"Debe registrar el nombre.",trigger:"blur"},{min:2,max:149,message:"El rango de caracteres debe ser de 2 a 150.",trigger:"blur"}],paterno:[{required:!0,message:"Debe registrar el apellido paterno.",trigger:"blur"},{min:2,max:99,message:"El rango de caracteres debe ser de 2 a 100.",trigger:"blur"}],materno:[{min:2,max:99,message:"El rango de caracteres debe ser de 2 a 100.",trigger:"blur"}],direccion:[{required:!0,message:"Debe registrar la dirección.",trigger:"blur"},{min:5,max:199,message:"El rango de caracteres debe ser de 5 a 200.",trigger:"blur"}],nroDocumento:[{min:7,max:10,message:"El rango de caracteres debe ser de 7 a 10.",trigger:"blur"}],extensionDocumentoId:[{required:!0,message:"Debe seleccionar el tipo de documento",trigger:"change"}],correoElectronico:[{required:!0,type:"email",message:"Debe registrar Correo Electrónico valido.",trigger:"change"},{min:5,max:99,message:"El rango de caracteres debe ser de 5 a 100.",trigger:"blur"}],entidadId:[{required:!0,message:"Debe registrar Correo Electronico.",trigger:"change"}],telefono:[{min:5,max:10,message:"El rango de caracteres debe ser de 5 a 10.",trigger:"blur"}]}),Object(Le["a"])(e,"selectedRowKeys",[]),Object(Le["a"])(e,"selectedRows",null),Object(Le["a"])(e,"sucursalesList",[]),Object(Le["a"])(e,"sucursalId",null),Object(Le["a"])(e,"visibleModalDesbloqueo",!1),e},computed:Object(pi["a"])({},Object(r["c"])("AdmStore",["getform"])),created:function(){var e=this;this.findModulos(),this.esSessionEntidad(),this.findAllEntidad(),this.findAllRecaudadoras(),this.getModuloUsuario(),this.getDominioExtensionDocumento(),this.getOperaciones("PERSONAS","INICIAL"),this.findPersonas(1),this.pagination={total:this.total,onChange:function(t){e.findPersonas(t)}}},mounted:function(){this.findByRecaudadoraId()},methods:Object(pi["a"])(Object(pi["a"])({},Object(r["b"])("AdmStore",["almacenarDataStore"])),{},{onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectPersona=t[0],this.getOperaciones("PERSONAS",this.selectPersona.estado)},handleChange:function(e,t,a){this.targetKeys=e,this.privilegiosKey=e},handleSelectChange:function(e,t){this.selectedKeys=[].concat(Object(ne["a"])(e),Object(ne["a"])(t))},handleScroll:function(e,t){},handleDisable:function(e){this.disabled=e},almacenarFormFuncion:function(e){this.$store.dispatch("AdmStore/almacenarDataStore",e)},getOperaciones:function(e,t){var a=this;fi.getOperaciones(e,t).then((function(e){a.operacionesList=e.data.data})).catch((function(e){a.operacionesList=[]}))},findPersonas:function(e){var t=this;this.loadingTable=!0,this.formBusqueda.page=e,this.selectPersona={},this.formBusqueda.modulo=this.modulo,this.formBusqueda.subModulo=this.subModulo,this.data=[],this.selectedRowsList=[],fi.findPersonas(this.formBusqueda).then((function(e){t.data=e.data.data.content,t.pagination.pageSize=e.data.data.numberOfElements,t.pagination.total=e.data.data.totalElements,t.loadingTable=!1,t.selectedRowsList=[],t.selectedRowKeys=[],t.selectPersona={},t.getOperaciones("PERSONAS","INICIAL")})).catch((function(e){t.data=[],t.loadingTable=!1}))},prepararOperacion:function(e){switch(this.getSucursalesByRecaudadora(),this.form={},e.transaccion){case"CREAR":this.visibleModalRegitro=!0,this.tituloModal="REGISTRAR NUEVA PERSONA",this.dissabled=!1,this.form={},this.labelButton=e.etiqueta,this.imagenButton=e.imagen,this.transaccion=e.transaccion;break;case"MODIFICAR":this.visibleModalRegitro=!0,this.tituloModal="MODIFICAR PERSONA",this.dissabled=!1,this.form=this.selectPersona,this.labelButton=e.etiqueta,this.imagenButton=e.imagen,this.transaccion=e.transaccion;break;case"ACTIVAR":"ACTIVO"==this.selectPersona.estadoUsuario?(this.visibleModalRegitro=!0,this.dissabled=!0,this.tituloModal="ACTIVAR PERSONA",this.dissabled=!0,this.labelButton=e.etiqueta,this.imagenButton=e.imagen,this.transaccion=e.transaccion,this.form=this.selectPersona):this.$warning({title:"No se puede activar al usuario.",content:"No se puede activar al usuario debido a que no cuenta con credenciales de acceso al sistema.",okText:"Aceptar"});break;case"DESACTIVAR":this.visibleModalRegitro=!0,this.tituloModal="DESACTIVAR PERSONA",this.dissabled=!0,this.labelButton=e.etiqueta,this.imagenButton=e.imagen,this.transaccion=e.transaccion,this.form=this.selectPersona;break;case"ELIMINAR":this.visibleModalRegitro=!0,this.tituloModal="ELIMINAR PERSONA",this.dissabled=!0,this.labelButton=e.etiqueta,this.imagenButton=e.imagen,this.transaccion=e.transaccion,this.form=this.selectPersona;break;case"VISUALIZAR":this.visibleModalRegitro=!0,this.tituloModal="DATOS DE LA PERSONA",this.dissabled=!0,this.labelButton=e.etiqueta,this.imagenButton=e.imagen,this.transaccion=e.transaccion,this.form=this.selectPersona;break}},procesarOperacion:function(){var e=this;this.$createElement;switch(this.transaccion){case"CREAR":if("ADMIN"==this.subModulo&&null==this.form.entidadId&&null==this.form.recaudadorId)return void this.$notification.warning("Debe seleccionar una Entidad o Recaudadora.");if("ADM_RECAUDACION"==this.subModulo&&null==this.form.sucursalId)return void this.$notification.warning("Debe seleccionar una Sucursal.");this.$refs.ruleForm.validate((function(t){t&&e.$confirm({title:"¿Está seguro de seguir con la operación?",content:function(e){return e("div",["Si continua con esta acción no podrá revertirla."])},okText:"ACEPTAR",cancelText:"CANCELAR",onOk:function(){e.form.transaccion=e.transaccion,e.savePersona()}})})),this.getOperaciones("PERSONAS","CREADO");break;case"MODIFICAR":if("ADMIN"==this.subModulo&&null==this.form.entidadId&&null==this.form.recaudadorId)return void this.$notification.warning("Debe seleccionar una Entidad o Recaudadora.");if("ADM_RECAUDACION"==this.subModulo&&null==this.form.sucursalId)return void this.$notification.warning("Debe seleccionar una Sucursal.");this.$refs.ruleForm.validate((function(t){t&&e.$confirm({title:"¿Está seguro de seguir con la operación?",content:function(e){return e("div",["Si continua con esta acción no podrá revertirla."])},okText:"ACEPTAR",cancelText:"CANCELAR",onOk:function(){e.form.transaccion=e.transaccion,e.updatePersona()}})}));break;case"ACTIVAR":this.$confirm({title:"¿Está seguro de seguir con la operación?",content:function(e){return e("div",["Si continua con esta acción no podrá revertirla."])},okText:"ACEPTAR",cancelText:"CANCELAR",onOk:function(){e.form.transaccion=e.transaccion,e.cambiarEstadoPersona()}}),this.getOperaciones("PERSONAS","ACTIVO");break;case"DESACTIVAR":this.$confirm({title:"¿Está seguro de seguir con la operación?",content:function(e){return e("div",["Si continua con esta acción no podrá revertirla."])},okText:"ACEPTAR",cancelText:"CANCELAR",onOk:function(){e.form.transaccion=e.transaccion,e.cambiarEstadoPersona()}}),this.getOperaciones("PERSONAS","INACTIVO");break;case"ELIMINAR":this.$confirm({title:"¿Está seguro de seguir con la operación?",content:function(e){return e("div",["Si continua con esta acción no podrá revertirla."])},okText:"ACEPTAR",cancelText:"CANCELAR",onOk:function(){e.form.transaccion=e.transaccion,e.cambiarEstadoPersona()}}),this.getOperaciones("PERSONAS","ELIMINADO");break;case"VISUALIZAR":this.visibleModalRegitro=!1,this.getOperaciones("PERSONAS","CREADO");break}},cancelarModal:function(){this.visibleModalRegitro=!1,this.$refs["ruleForm"].resetFields()},getDominioExtensionDocumento:function(){var e=this;fi.getDominioExtensionDocumento().then((function(t){e.extensionDocumentoList=t.data.result})).catch((function(e){}))},savePersona:function(){var e=this;this.form.modulo=this.modulo,this.form.subModulo=this.subModulo,fi.savePersona(this.form).then((function(t){e.findPersonas(1),e.visibleModalRegitro=!1,e.getOperaciones("PERSONAS","CREADO"),e.$notification.success(t.data.message),e.$refs["ruleForm"].resetFields()})).catch((function(t){e.$notification.error(t.response.data.message)}))},updatePersona:function(){var e=this;this.form.modulo=this.modulo,fi.updatePersona(this.form).then((function(t){e.form=t.data.data,e.findPersonas(1),e.visibleModalRegitro=!1,e.getOperaciones("PERSONAS",e.form.estado),e.$notification.success(t.data.message),e.$refs["ruleForm"].resetFields()})).catch((function(t){e.$notification.error(t.response.data.message)}))},cambiarEstadoPersona:function(){var e=this;this.form.modulo=this.modulo,fi.cambiarEstadoPersona(this.form).then((function(t){e.findPersonas(1),e.visibleModalRegitro=!1,e.getOperaciones("PERSONAS",e.selectPersona.estado),e.$notification.success(t.data.message)})).catch((function(t){e.$notification.error(t.response.data.message)}))},getSucursalesByRecaudadora:function(){var e=this;"ADM_RECAUDACION"==this.subModulo&&fi.getSucursalesByRecaudadora().then((function(t){e.sucursalesRecaudadorList=t.data.data})).catch((function(t){e.sucursalesRecaudadorList=[]}))},esSessionEntidad:function(){var e=this.$route.fullPath;switch(e){case"/AdminUsuarios/COBROS/ADM_ENTIDADES":this.modulo="COBROS",this.subModulo="ADM_ENTIDADES";break;case"/AdminUsuarios/COBROS/ADM_RECAUDACION":this.modulo="COBROS",this.subModulo="ADM_RECAUDACION",console.log("entrando al case: "+this.subModulo);break}},viewCredenciales:function(e){this.visibleModalCredenciales=!0,this.personaId=e.personaId,this.subTitle="Las credenciales que se generaran para ".concat(e.nombreCompleto," se enviaran a su correo ").concat(e.correoElectronico,".")},viewDesBloqueo:function(e){this.visibleModalDesbloqueo=!0,this.personaId=e.personaId,this.subTitle="La cuenta del usuario  ".concat(e.nombreCompleto," se desbloqueará y sus credenciales serán enviadas a su correo electrónico  ").concat(e.correoElectronico)},generarCredenciales:function(){var e=this;fi.generarCredenciales(this.personaId).then((function(t){e.visibleModalCredenciales=!1,e.$notification.success(t.data.message),e.findPersonas(1)})).catch((function(t){e.$notification.error(t.response.data.message)}))},viewVisibleModalRoles:function(e){this.personaId=e.personaId,this.moduloId=null,this.modulosList=[],this.mockData=[],this.targetKeys=[],this.findPrivilegiosByUsuarioId(e.usuarioId),"ADMIN"!=this.subModulo?(this.findPrivilegiosByUsuarioIdSession(),this.findModuloByUsuarioSession()):(this.findModuloByUsuarioId(e.usuarioId),this.findModulos()),this.visibleModalRoles=!0},getModuloUsuario:function(){var e=this;fi.getModuloUsuario().then((function(t){e.moduloUsuario=t.data.data})).catch((function(e){}))},findRolesForTransferByUsuario:function(e,t,a){var o=this;fi.findRolesForTransferByUsuario(e,t,a).then((function(e){o.privilegiosAsignados=e.data.data,o.targetKeys=e.data.data})).catch((function(e){}))},guardarRoles:function(){var e=this,t={};t.privilegiosKey=this.privilegiosKey,t.personaId=this.personaId,t.moduloId=this.moduloId,fi.savePrivilegio(t).then((function(t){e.visibleModalRoles=!1,e.$notification.success(t.data.message),e.findPersonas(1)})).catch((function(t){e.visibleModalRoles=!1,e.$notification.error(t.response.data.message)}))},findAllEntidad:function(){var e=this;fi.findAllEntidad().then((function(t){e.entidadesList=t.data.data})).catch((function(t){e.entidadesList=[]}))},findAllRecaudadoras:function(){var e=this;fi.findAllRecaudadoras().then((function(t){e.recaudadorasList=t.data.data})).catch((function(t){e.recaudadorasList=[]}))},findModulos:function(){var e=this;this.modulosList=[],fi.findModulos().then((function(t){e.modulosList=t.data.data})).catch((function(t){e.modulosList=[]}))},findPrivilegiosByModuloId:function(){var e=this;fi.findPrivilegiosByModuloId(this.moduloId).then((function(t){e.mockData=t.data.data})).catch((function(t){e.mockData=[]}))},findPrivilegiosByUsuarioId:function(e){var t=this;this.targetKeys=[],fi.findPrivilegiosByUsuarioId(e).then((function(e){t.targetKeys=e.data.data})).catch((function(e){t.targetKeys=[]}))},findModuloByUsuarioId:function(e){var t=this;this.usuarioModulos={},fi.findModuloByUsuarioId(e).then((function(e){t.usuarioModulos=e.data.data,t.moduloId=t.usuarioModulos.moduloId,t.findPrivilegiosByModuloId()})).catch((function(e){t.usuarioModulos={}}))},findModuloByUsuarioSession:function(){var e=this;this.usuarioModulos={},fi.findModuloByUsuarioSession().then((function(t){e.usuarioModulos=t.data.data,e.moduloId=e.usuarioModulos.moduloId})).catch((function(t){e.usuarioModulos={}}))},findPrivilegiosByUsuarioIdSession:function(){var e=this;fi.findPrivilegiosByUsuarioIdSession(this.subModulo).then((function(t){e.mockData=t.data.data})).catch((function(t){e.mockData={}}))},findByRecaudadoraId:function(){var e=this;console.log("obteniendo recaudador 1"),console.log("estoq  es: "+this.subModulo),"ADM_RECAUDACION"===this.subModulo&&(console.log("obteniendo recaudador 2"),fi.findByRecaudadoraId().then((function(t){e.sucursalesList=t.data.data})).catch((function(t){e.sucursalesList={}})))},toUnlock:function(){var e=this;fi.toUnlock(this.personaId).then((function(t){e.visibleModalDesbloqueo=!1,e.findPersonas(1),e.$notification.success(t.data.message)})).catch((function(t){e.visibleModalDesbloqueo=!1,e.$notification.error("No se pudo ejecutar la operación, comuníquese con su administrador.")}))}})},Yi=Gi,Ki=(a("299d"),Object(f["a"])(Yi,qi,Ni,!1,null,"0e8bb30c",null)),Hi=Ki.exports,Ji=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head"},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#08632d"}},[e._v(" REPORTE DE CIERRE DIARIO DE CAJA. ")])])])],1)]),a("a-card",{staticStyle:{width:"100%"}},[a("a-row",[a("a-col",{attrs:{span:16}},[a("a-alert",{attrs:{description:"Reporte del cierre de día.",type:"info",message:"FECHA : "+(e.selectedValue&&e.selectedValue.format("DD/MMMM/YYYY"))}}),a("a-col",{attrs:{span:24}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Seleccione Empresas :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{staticStyle:{width:"100%"},attrs:{mode:"tags"},model:{value:e.lstIdEntidad,callback:function(t){e.lstIdEntidad=t},expression:"lstIdEntidad"}},e._l(e.entidadesList,(function(t){return a("a-select-option",{key:t.value+"",attrs:{value:t.value+""}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1),a("a-col",{staticStyle:{margin:"2px"},attrs:{span:24}},[a("a-button",{attrs:{type:"danger",block:""},on:{click:function(t){return e.generarReporte()}}},[e._v(" Generar Reporte ")])],1)],1)],1)],1),a("a-modal",{attrs:{title:"Reporte Generado",width:"800px","dialog-style":{top:"20px"}},on:{ok:function(t){e.visibleModalReporte=!1}},model:{value:e.visibleModalReporte,callback:function(t){e.visibleModalReporte=t},expression:"visibleModalReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center"}},[e.viewCargando?a("a-spin",{attrs:{size:"large",tip:"El reporte se esta cargando...."}}):e._e()],1),e.viewCargando?e._e():a("a-row",{attrs:{type:"flex",justify:"center"}},[a("iframe",{attrs:{width:"100%",height:"400px",src:this.link,frameborder:"0"}})]),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalReporte=!1}}},[e._v(" Cerrar ")])],1)],2)],1)},Qi=[],Wi={data:function(){return{locale:ve["a"],value:ge()(new Date),selectedValue:ge()(new Date),value1:ge()(new Date),link:null,visibleModalReporte:!1,viewCargando:!1,entidadesList:[],idEntidad:null,lstIdEntidad:[]}},created:function(){this.getEntidadesByRecaudadora()},methods:{onPanelChange:function(e,t){},onSelect:function(e){this.value=e,this.selectedValue=e},generarReporte:function(){var e=this;if(null!=this.lstIdEntidad&&0!=this.lstIdEntidad.length){this.visibleModalReporte=!0,this.viewCargando=!0;var t={};t.fechaSeleccionada=this.selectedValue,t.lstEntidadId=this.lstIdEntidad,ja.reporteCierreCajaDiarioJasper(t).then((function(t){200==t.status?(e.viewFileDownload(t),e.viewCargando=!1,e.$notification.success("El reporte se genero con exito.")):(e.viewCargando=!1,e.visibleModalReporte=!1,e.$notification.warning("No hay datos para mostrar en el reporte."))})).catch((function(t){e.viewCargando=!1,e.visibleModalReporte=!1}))}else this.$notification.error("Debe seleccionar Entidad")},viewFileDownload:function(e){this.link=null;var t=null;t=new Blob([e.data],{type:"application/pdf"}),this.link=URL.createObjectURL(t),this.viewCargando=!1},getEntidadesByRecaudadora:function(){var e=this;this.entidadesList=[],ja.getEntidadesByRecaudadora().then((function(t){e.entidadesList=t.data.data,e.entidadesList.push({label:"TODOS",value:"0"})})).catch((function(t){e.entidadesList=[]}))}}},Zi=Wi,Xi=Object(f["a"])(Zi,Ji,Qi,!1,null,null,null),es=Xi.exports,ts=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{border:"2px solid #21618c","border-radius":"5px",height:"100%",width:"100%",padding:"1%",color:"#21618c"}},[a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("h2",[a("b",{staticStyle:{color:"#21618c"}},[e._v(" Generación de Código de Control ")])])]),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:14,xl:14,align:"right"}},[a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:20,xl:20,align:"right"}})],1)],1)],1)],1),a("a-card",{staticStyle:{width:"100%"}},[a("a-form-model",{ref:"ruleForm",attrs:{model:e.codigoControlObj,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol,size:"small"}},[a("div",{staticStyle:{"background-color":"rgb(150,197,203)"}},[null!=e.codigoControl?a("a-form-model-item",{attrs:{label:"CÓDIGO DE CONTROL"}},[a("b",[e._v(e._s(e.codigoControl))])]):e._e()],1),a("a-form-model-item",{ref:"numeroAutorizacion",attrs:{label:"N° Autorización",prop:"numeroAutorizacion"}},[a("a-input",{attrs:{maxLength:15},on:{blur:function(){e.$refs.numeroAutorizacion.onFieldBlur()}},model:{value:e.codigoControlObj.numeroAutorizacion,callback:function(t){e.$set(e.codigoControlObj,"numeroAutorizacion",t)},expression:"codigoControlObj.numeroAutorizacion"}})],1),a("a-form-model-item",{ref:"numeroFactura",attrs:{label:"N° Factura",prop:"numeroFactura"}},[a("a-input",{attrs:{maxLength:12},on:{blur:function(){e.$refs.numeroFactura.onFieldBlur()}},model:{value:e.codigoControlObj.numeroFactura,callback:function(t){e.$set(e.codigoControlObj,"numeroFactura",t)},expression:"codigoControlObj.numeroFactura"}})],1),a("a-form-model-item",{ref:"numeroDocumento",attrs:{label:"NIT/CI",prop:"numeroDocumento"}},[a("a-input",{attrs:{maxLength:12},on:{blur:function(){e.$refs.numeroDocumento.onFieldBlur()}},model:{value:e.codigoControlObj.numeroDocumento,callback:function(t){e.$set(e.codigoControlObj,"numeroDocumento",t)},expression:"codigoControlObj.numeroDocumento"}})],1),a("a-form-model-item",{ref:"fechaFactura",attrs:{label:"Fecha Factura",prop:"fechaFactura"}},[a("a-date-picker",{attrs:{format:"DD/MM/YYYY",locale:e.locale},on:{blur:function(){e.$refs.fechaFactura.onFieldBlur()}},model:{value:e.codigoControlObj.fechaFactura,callback:function(t){e.$set(e.codigoControlObj,"fechaFactura",t)},expression:"codigoControlObj.fechaFactura"}})],1),a("a-form-model-item",{ref:"montoTotal",attrs:{label:"Monto Total Factura",prop:"montoTotal"}},[a("money",e._b({staticClass:"ant-input",attrs:{size:"small"},nativeOn:{keydown:function(e){"-"===e.key&&e.preventDefault()}},model:{value:e.codigoControlObj.montoTotal,callback:function(t){e.$set(e.codigoControlObj,"montoTotal",t)},expression:"codigoControlObj.montoTotal"}},"money",e.money,!1))],1),a("a-form-model-item",{ref:"llaveDosificacion",attrs:{label:"Llave Dosificación",prop:"llaveDosificacion"}},[a("a-textarea",{attrs:{maxLength:200},on:{blur:function(){e.$refs.llaveDosificacion.onFieldBlur()}},model:{value:e.codigoControlObj.llaveDosificacion,callback:function(t){e.$set(e.codigoControlObj,"llaveDosificacion",t)},expression:"codigoControlObj.llaveDosificacion"}})],1)],1),a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("a-button",{staticStyle:{color:"white","background-color":"#339966",border:"0px"},attrs:{type:"link"},on:{click:e.generarCodigoControl}},[a("a-icon",{attrs:{type:"form"}}),e._v(" Generar ")],1),a("a-button",{attrs:{type:"primary",ghost:""},on:{click:e.resetForm}},[a("a-icon",{attrs:{type:"reload"}}),e._v(" Limpiar ")],1)],1)],2)],1)},as=[],os={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},postCodigoControl:function(e){return E().post("api/facturas/codigoscontroles",e,this.headersConfig())},postListFacturaFilter:function(e,t,a){return null!=t?E().post("api/facturas/entidades/".concat(t,"/filters/").concat(a),e,this.headersConfig()):E().post("api/facturas/filters/".concat(a),e,this.headersConfig())},getReportFactura:function(e,t){return null!=e?E().get("api/facturas/entidades/".concat(e,"/reportes/").concat(t),{responseType:"arraybuffer",headers:{Accept:"application/pdf",Authorization:"Bearer "+localStorage.getItem("token")}}):E().get("api/facturas/entidades/reportes/".concat(t),{responseType:"arraybuffer",headers:{Accept:"application/pdf",Authorization:"Bearer "+localStorage.getItem("token")}})},postAnulacionLst:function(e,t){return null!=e?E().post("api/facturas/entidades/".concat(e,"/anulaciones/listas"),t,this.headersConfig()):E().post("api/facturas/anulaciones/listas",t,this.headersConfig())},postLibroVentasReport:function(e){return E().post("api/facturas/libroVentasJasper",e,{responseType:"arraybuffer",headers:{Accept:"application/pdf",Authorization:"Bearer "+localStorage.getItem("token")}})}};ge.a.locale("es");var is={components:{Money:ze["Money"]},data:function(){return{codigoControlObj:{},codigoControl:null,locale:ve["a"],money:{decimal:".",thousands:",",precision:2,masked:!1,maxlength:17},labelCol:{span:6},wrapperCol:{span:14},rules:{numeroAutorizacion:[{required:!0,message:"Debe registrar el N° Autorizacion",trigger:"blur"},{trigger:"blur",message:"Debe registrar solo números.",pattern:/^[0-9,$]*$/}],numeroFactura:[{required:!0,message:"Debe registrar el N° Factura",trigger:"blur"},{trigger:"blur",message:"Debe registrar solo números.",pattern:/^[0-9,$]*$/}],numeroDocumento:[{required:!0,message:"Debe registrar el NIT/CI",trigger:"blur"},{trigger:"blur",message:"Debe registrar solo números.",pattern:/^[0-9,$]*$/}],fechaFactura:[{required:!0,message:"Debe registrar la Fecha Factura",trigger:"change"}],montoTotal:[{required:!0,message:"Debe registrar el Monto Total de la Factura",trigger:"blur"}],llaveDosificacion:[{required:!0,message:"Debe registrar la Llave de Dosificacion",trigger:"blur"},{min:30,message:"Mínimante la llave de dosificación debe tener 30 caracteres",trigger:"blur"}]}}},methods:{moment:ge.a,FormatearFechaSinHoras:function(e){return null!=e&&""!=e?ge()(e,"YYYY-MM-DDTHH:mm:ssZ").format("YYYY-MM-DD"):null},generarCodigoControl:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return e.$notification.warning("Debe resolver las validaciones del formulario."),!1;e.codigoControlObj.fechaFactura=e.FormatearFechaSinHoras(e.codigoControlObj.fechaFactura),e.$Progress.start(),os.postCodigoControl(e.codigoControlObj).then((function(t){e.codigoControl=t.data.result,e.$Progress.finish(),e.$notification.success(t.data.message)})).catch((function(t){e.codigoControl=null,e.$notification.error(t.response.data.message,t.response.data.code),e.$Progress.fail()}))}))},resetForm:function(){this.codigoControl=null,this.$refs.ruleForm.resetFields()}}},ss=is,ns=Object(f["a"])(ss,ts,as,!1,null,null,null),rs=ns.exports,ls=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("compInvoices",{attrs:{opcion:{anular:null,reimprimir:null,libro:!0}}})},cs=[],ds=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticStyle:{border:"2px solid #21618c","border-radius":"5px",height:"100%",width:"100%",padding:"1%",color:"#21618c"}},[a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("h2",[a("b",{staticStyle:{color:"#21618c"}},[null!=e.entidadId?a("a-icon",{attrs:{type:"arrow-left"},on:{click:function(t){return e.$router.back()}}}):e._e(),e._v(" "+e._s(e.title)+" ")],1)])]),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:14,xl:14}})],1)],1),a("br"),a("a-form-model",{ref:"ruleForm",attrs:{rules:e.rules,model:e.facturaObj,"label-col":e.labelCol,"wrapper-col":e.wrapperCol,size:"small"}},[a("a-row",{attrs:{type:"flex",justify:"center"}},[a("a-col",{attrs:{span:"12"}},[a("a-form-model-item",{ref:"fechaInicioFactura",attrs:{label:"Fecha Inicio",prop:"fechaInicioFactura"}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{disabledDate:e.disabledDate,format:"DD/MM/YYYY",locale:e.locale},on:{blur:function(){e.$refs.fechaInicioFactura.onFieldBlur()}},model:{value:e.facturaObj.fechaInicioFactura,callback:function(t){e.$set(e.facturaObj,"fechaInicioFactura",t)},expression:"facturaObj.fechaInicioFactura"}})],1)],1),a("a-col",{attrs:{span:"12"}},[a("a-form-model-item",{ref:"fechaFinFactura",attrs:{label:"Fecha Fin",prop:"fechaFinFactura"}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{disabledDate:e.disabledDate,format:"DD/MM/YYYY",locale:e.locale},on:{blur:function(){e.$refs.fechaFinFactura.onFieldBlur()}},model:{value:e.facturaObj.fechaFinFactura,callback:function(t){e.$set(e.facturaObj,"fechaFinFactura",t)},expression:"facturaObj.fechaFinFactura"}})],1)],1)],1),0==e.opcion.libro?a("a-row",{attrs:{type:"flex",justify:"center"}},[a("a-col",{attrs:{span:"12"}},[a("a-form-model-item",{ref:"numeroFactura",attrs:{label:"N° Factura",prop:"numeroFactura"}},[a("a-input",{attrs:{maxLength:200},model:{value:e.facturaObj.numeroFactura,callback:function(t){e.$set(e.facturaObj,"numeroFactura",t)},expression:"facturaObj.numeroFactura"}})],1)],1),a("a-col",{attrs:{span:"12"}},[a("a-form-model-item",{ref:"estado",attrs:{label:"Estado",prop:"estado"}},[a("a-select",{attrs:{placeholder:"Seleccione Tipo Entidad",allowClear:!0},model:{value:e.facturaObj.estado,callback:function(t){e.$set(e.facturaObj,"estado",t)},expression:"facturaObj.estado"}},e._l(e.lstEstados,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.key}},[e._v(" "+e._s(t.value)+" ")])})),1)],1)],1)],1):e._e(),0==e.opcion.libro?a("a-row",{attrs:{type:"flex",justify:"center"}},[a("a-col",{attrs:{span:"12"}},[a("a-form-model-item",{ref:"numeroDocumento",attrs:{label:"NIT/CI Cliente",prop:"numeroDocumento"}},[a("a-input",{attrs:{maxLength:200},model:{value:e.facturaObj.numeroDocumento,callback:function(t){e.$set(e.facturaObj,"numeroDocumento",t)},expression:"facturaObj.numeroDocumento"}})],1)],1),a("a-col",{attrs:{span:"12"}},[a("a-form-model-item",{ref:"nombreRazonSocial",attrs:{label:"Nombre/Razón Social",prop:"nombreRazonSocial"}},[a("a-input",{attrs:{maxLength:200},model:{value:e.facturaObj.nombreRazonSocial,callback:function(t){e.$set(e.facturaObj,"nombreRazonSocial",t)},expression:"facturaObj.nombreRazonSocial"}})],1)],1)],1):e._e(),a("a-row",{attrs:{type:"flex"}},[a("a-col",{attrs:{span:"24"}},[0==e.opcion.libro?a("a-form-model-item",{ref:"codigoCliente",attrs:{label:"Código Cliente",prop:"codigoCliente"}},[a("a-input",{attrs:{maxLength:200},model:{value:e.facturaObj.codigoCliente,callback:function(t){e.$set(e.facturaObj,"codigoCliente",t)},expression:"facturaObj.codigoCliente"}})],1):e._e()],1)],1)],1),a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("a-button",{staticStyle:{height:"50px","background-color":"#3399cc"},attrs:{type:"link",block:""},on:{click:function(t){return e.cargarFacturasFiltros(1)}}},[a("span",{style:{fontSize:"14px",color:"white"}},[a("b",[a("a-icon",{style:{fontSize:"22px"},attrs:{type:"search"}}),e._v(" Buscar")],1)])]),a("a-button",{staticStyle:{height:"50px","background-color":"#99ccff"},attrs:{type:"link",block:""},on:{click:e.resetForm}},[a("span",{style:{fontSize:"14px",color:"white"}},[a("b",[a("a-icon",{style:{fontSize:"22px"},attrs:{type:"reload"}}),e._v(" Limpiar")],1)])]),1==e.opcion.libro&&e.lstFacturas.length>0?a("a-button",{staticStyle:{height:"50px","background-color":"#33bbbb"},attrs:{type:"link"},on:{click:function(t){e.displayModalTypeReport=!0}}},[a("span",{style:{fontSize:"14px",color:"white"}},[a("b",[a("a-icon",{style:{fontSize:"22px"},attrs:{type:"file-text"}}),e._v(" Generar Impresión ")],1)])]):e._e()],1)],2),a("br"),a("a-card",{staticStyle:{width:"100%"}},[a("a-table",{attrs:{columns:e.columns,"data-source":e.lstFacturas,rowKey:"facturaId",pagination:e.pagination,scroll:{x:1e3},loading:e.loading},scopedSlots:e._u([{key:"dosificaciones",fn:function(t,o){return[a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" N° Autorización ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.numeroAutorizacion)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Fecha Límite Emisión ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(e.$dates.formaDateWithoutTime(o.fechaLimiteEmision))+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Actividad Económica ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.codigoActividadEconomica)+" - "+e._s(o.actividadEconomica)+" ")])],1),null!=o.codigoActividadEconomicaSecundaria?a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Actividad Económica Secundaria ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.codigoActividadEconomicaSecundaria)+" - "+e._s(o.actividadEconomicaSecundaria)+" ")])],1):e._e()]}},{key:"datos",fn:function(t,o){return[a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" N° Factura ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.numeroFactura)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Fecha Factura ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(e.$dates.formaDateWithoutTime(o.fechaFactura))+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Código Control ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.codigoControl)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" NIT/CI ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.numeroDocumento)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Nombre/Razón Social ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.nombreRazonSocial)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Código Cliente ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.codigoCliente)+" ")])],1)]}},{key:"montos",fn:function(t,o){return[a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" Monto Total ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" "+e._s(o.montoTotal)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" Monto Base Importe Fiscal ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" "+e._s(o.montoBaseImporteFiscal)+" ")])],1)]}},{key:"extras",fn:function(t,o){return[a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Domicilio Cliente ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.domicilioCliente)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Nombre Alumno ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.nombreAlumno)+" ")])],1)]}},{key:"estado",fn:function(t,o){return["VALIDO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"green"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"caret-up"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"ANULADO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"red"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"caret-down"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e()]}},{key:"opciones",fn:function(t,o){return[a("a-tooltip",{attrs:{placement:"left",title:"Reimprime la factura generada."}},[a("a-button-group",[a("a-button",{on:{click:function(t){return e.imprimirFacturav2(o.responsePdfRepgrafica)}}},[e._v(" Carta ")]),a("a-button",{on:{click:function(t){return e.imprimirFacturav2(o.responseRolloRepgrafica)}}},[e._v(" Rollo ")])],1)],1)]}},{key:"anulacion",fn:function(t,o){return[a("a-tooltip",{attrs:{placement:"left",title:"Anular Cobro."}},["VALIDADA"==o.responseState?a("a-button-group",[a("a-button",{on:{click:function(t){return e.abrirModalAnulacion(o.facturaId,!1)}}},[e._v(" Anular ")])],1):e._e()],1)]}}])})],1),a("a-modal",{attrs:{title:"Registro de la Anulación","ok-text":"Registrar","cancel-text":"Cancelar",width:"40%",centered:!0,closable:!1,maskClosable:!1},on:{ok:e.confirmarAnulacion,cancel:function(t){e.motivoAnulacion=null}},model:{value:e.displayModal,callback:function(t){e.displayModal=t},expression:"displayModal"}},[a("a-row",{attrs:{type:"flex",justify:"center"}},[e.viewAnulando?a("a-spin",{attrs:{size:"large",tip:"La factura se esta anulando...."}}):e._e()],1),e._v(" Motivo Anulación: "),a("a-textarea",{attrs:{maxLength:500},model:{value:e.motivoAnulacion,callback:function(t){e.motivoAnulacion=t},expression:"motivoAnulacion"}})],1),a("a-modal",{attrs:{title:"Impresión",width:"900px",height:"400px","dialog-style":{top:"20px"}},on:{ok:function(t){e.displayModalReport=!1}},model:{value:e.displayModalReport,callback:function(t){e.displayModalReport=t},expression:"displayModalReport"}},[a("a-row",{attrs:{type:"flex",justify:"center"}},[e.viewCargando?a("a-spin",{attrs:{size:"large",tip:"El reporte se esta cargando...."}}):e._e(),a("iframe",{attrs:{width:"100%",height:"400px",src:this.link,frameborder:"0"}})],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.displayModalReport=!1}}},[e._v(" Cerrar ")])],1)],2),a("a-modal",{attrs:{title:"Seleccione tipo de reporte"},on:{ok:function(t){e.displayModalTypeReport=!1}},model:{value:e.displayModalTypeReport,callback:function(t){e.displayModalTypeReport=t},expression:"displayModalTypeReport"}},[a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-col",[e._v("Seleccione un tipo de Reporte a generar.")])],1)],1),a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-radio-group",{attrs:{"button-style":"solid"},model:{value:e.facturaObj.formatFile,callback:function(t){e.$set(e.facturaObj,"formatFile",t)},expression:"facturaObj.formatFile"}},[a("a-radio-button",{attrs:{value:"pdf"}},[e._v(" PDF ")]),a("a-radio-button",{attrs:{value:"msexcel"}},[e._v(" EXCEL ")])],1)],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:e.generarLibroVentas}},[e._v(" Generar Reporte ")])],1)],2),e.mensajeVisible?a("a-alert",{attrs:{message:"ADVERTENCIA",description:e.mensajeReporte,type:"warning","show-icon":""}}):e._e()],1)},us=[],ms={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},getActividadesEconomicasByCodigo:function(e){return E().get("api/actividadeseconomicas/".concat(e),this.headersConfig())},getActividadesEconomicas:function(e){return null!=e?E().get("api/actividadeseconomicas/entidades/".concat(e),this.headersConfig()):E().get("api/actividadeseconomicas",this.headersConfig())}},ps=[{title:"CUF",dataIndex:"responseCuf",scopedSlots:{customRender:"responseCuf"},width:"25%"},{title:"Estado",dataIndex:"responseState",scopedSlots:{customRender:"responseState"},width:"10%"},{title:"Nro Factura",dataIndex:"responseNroFactura",scopedSlots:{customRender:"responseNroFactura"},width:"10%"},{title:"Codigo ",dataIndex:"responseCodigoCliente",scopedSlots:{customRender:"responseCodigoCliente"},width:"10%"},{title:"Nro Documento",dataIndex:"responseNumeroDocumentoCliente",scopedSlots:{customRender:"responseNumeroDocumentoCliente"},width:"10%"},{title:"Razon Social",dataIndex:"responseRazonSocialCliente",scopedSlots:{customRender:"responseRazonSocialCliente"},width:"15%"},{title:"Email",dataIndex:"responseEmailCliente",scopedSlots:{customRender:"responseEmailCliente"},width:"15%"},{title:"Impresión",dataIndex:"opciones",scopedSlots:{customRender:"opciones"},width:"15%"},{title:"Anulación",dataIndex:"anulacion",scopedSlots:{customRender:"anulacion"},width:"15%"}],fs={props:{opcion:{anular:null,reimprimir:null,libro:null,anularErroneo:null},entidadId:null},data:function(){return{title:null,labelCol:{span:6},wrapperCol:{span:15},facturaObj:{},lstEstados:[],lstActividadesEconomicas:[],locale:ve["a"],rules:{fechaInicioFactura:[{required:this.opcion.libro,message:"Debe seleccionar fecha inicio.",trigger:"change"}],fechaFinFactura:[{required:this.opcion.libro,message:"Debe seleccionar fecha fin.",trigger:"change"}]},facturaIdSelect:null,lstFacturas:[],columns:ps,selectedRowKeys:[],pagination:{},page:1,total:0,loading:!1,motivoAnulacion:null,displayModal:!1,erroneo:!1,viewAnulando:!1,displayModalReport:!1,viewCargando:!1,link:null,displayModalTypeReport:!1,formatFile:null,mensajeVisible:!1,mensajeReporte:"NO SE PUDO CARGAR EL REPORTE, VERIFIQUE LOS PARÁMETROS SELECCIONADOS EN EL ÁREA DE BÚSQUEDA. "}},computed:{rowSelection:function(){var e=this;return{selectedRowKeys:this.selectedRowKeys,onChange:function(t,a){e.selectedRowKeys=t}}}},created:function(){var e=this;this.cargarEstados(),this.cargarEntidad(this.entidadId),this.cargarActividadesEconomicas(this.entidadId),this.pagination={total:this.total,onChange:function(t){e.cargarFacturasFiltros(t)}}},methods:{cargarEntidad:function(e){var t=this;null!=e?Ue.getEntidad(e).then((function(e){t.entidadObj=e.data.result,t.title=t.entidadObj.nombre+": Facturas"})).catch((function(e){t.$notification.error(e.response.data.message,e.response.data.code)})):this.title="Facturas"},cargarEstados:function(){this.lstEstados=[{key:"VALIDO",value:"VALIDO"},{key:"ANULADO",value:"ANULADO"}]},cargarActividadesEconomicas:function(e){var t=this;ms.getActividadesEconomicas(e).then((function(e){if(204===e.status)return t.lstActividadesEconomicas=[],void t.$notification.warning("No existe actvidad registrada con el código.");t.lstActividadesEconomicas=e.data.result})).catch((function(e){t.lstActividadesEconomicas=[],t.$notification.error(e.response.data.message,e.response.data.code)}))},cargarFacturasFiltros:function(e){var t=this;this.$refs.ruleForm.validate((function(a){if(!a)return t.$notification.warning("Debe resolver las validaciones del formulario."),!1;t.loading=!0,os.postListFacturaFilter(t.facturaObj,t.entidadId,e).then((function(e){if(204===e.status)return t.lstFacturas=[],t.$notification.warning("No se ha encontrado facturas de acuerdo a los filtros."),void(t.loading=!1);t.lstFacturas=e.data.result,t.loading=!1,t.pagination.pageSize=e.data.result.numberOfElements,t.pagination.total=e.data.result.totalElements})).catch((function(e){t.lstFacturas=[],t.$notification.error(e.response.data.message,e.response.data.code),t.loading=!1}))}))},resetForm:function(){this.$refs.ruleForm.resetFields(),this.lstFacturas=[]},abrirModalAnulacion:function(e,t){this.displayModal=!0,this.facturaIdSelect=e,this.erroneo=t},confirmarAnulacion:function(){var e=this;null!=this.motivoAnulacion&&""!=this.motivoAnulacion?this.$confirm({title:"¿Está seguro de "+(!0===this.erroneo?"ANULAR POR CARGADO ERRONEO":"ANULAR")+" la Factura seleccionada?",content:this.erroneo?"Considere que la deuda debe volver a cargarse para ser cobrada por anular por cargado de datos erróneos":"Considere que el registro ya no podrá revertirse",okText:"Aceptar",okType:"danger",cancelText:"Cancelar",onOk:function(){e.anularFactura(e.erroneo)},onCancel:function(){e.selectedRowKeys=[],e.motivoAnulacion=null,e.displayModal=!1}}):this.$notification.warning("Debe registrar el motivo de la Anulación.")},anularFactura:function(e){var t=this,a=[];a.push(this.facturaIdSelect);var o={motivo:this.motivoAnulacion,cargadoErroneo:e,facturaIdLst:a};this.$Progress.start(),this.viewAnulando=!0,os.postAnulacionLst(this.entidadId,o).then((function(e){t.motivoAnulacion=null,t.$notification.success(e.data.message),t.cargarFacturasFiltros(0),t.displayModal=!1,t.$Progress.finish(),t.viewAnulando=!1,t.motivo=null})).catch((function(e){t.lstFacturas=[],t.cargarFacturasFiltros(0),t.displayModal=!1,t.$notification.error(e.response.data.message,e.response.data.code),t.motivo=null,t.$Progress.fail(),t.viewAnulando=!1}))},reimprimirFactura:function(e){var t=this;console.log("factura id"),console.log(e),os.getReportFactura(this.entidadId,e).then((function(e){t.facturaObj.formatFile="pdf",t.viewFileDownload(e),t.displayModalReport=!0})).catch((function(e){t.$notification.error(t.ab2str(e.response.data))}))},imprimirFacturav2:function(e){window.open(e,"_blank")},forceFileDownload:function(e,t){var a=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=a,"msword"==this.facturaObj.formatFile?o.setAttribute("download","".concat(t,".doc")):o.setAttribute("download","".concat(t,".xlsx")),document.body.appendChild(o),o.click(),this.displayModalReport=!1,this.viewCargando=!1},viewFileDownload:function(e){var t=new Blob([e.data],{type:"application/"+this.facturaObj.formatFile});this.link=URL.createObjectURL(t),this.viewCargando=!1},generarLibroVentas:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return e.$notification.warning("Debe resolver las validaciones del formulario."),!1;var a={entidadId:0,tituloReporte:"LIBRO DE VENTAS",tituloEntidad:"ENTIDAD",fechaInicio:"",fechaFin:"",export:e.facturaObj.formatFile};null!=e.facturaObj.formatFile?(e.mensajeVisible=!1,e.viewCargando=!0,os.postLibroVentasReport(a).then((function(t){e.viewCargando=!1,200==t.status?"pdf"==e.facturaObj.formatFile?e.viewFileDownload(t):e.forceFileDownload(t,"reporte"):e.mensajeVisible=!0})).catch((function(t){e.viewCargando=!1,e.mensajeVisible=!0,e.link=null,e.displayModalReport=!1,e.$notification.error(e.ab2str(t.response.data))})),e.displayModalReport=!0,e.displayModalTypeReport=!1):e.$notification.warning("Debe seleccionar un formato de impresión")}))},disabledDate:function(e){var t=new Date;return e&&e>ge()(t,"YYYY-MM-DD")},ab2str:function(e){for(var t="",a=new Uint8Array(e),o=a.length,i=0;i<o;i++)t+=String.fromCharCode(a[i]);return t}}},hs=fs,gs=(a("0c76"),Object(f["a"])(hs,ds,us,!1,null,"294bc682",null)),bs=gs.exports,vs={components:{compInvoices:bs}},ys=vs,Cs=Object(f["a"])(ys,ls,cs,!1,null,null,null),xs=Cs.exports,Es=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("compInvoices",{attrs:{opcion:{anular:null,reimprimir:!0,libro:!1,anularErroneo:!1}}})},Rs=[],ws={components:{compInvoices:bs}},Is=ws,ks=Object(f["a"])(Is,Es,Rs,!1,null,null,null),_s=ks.exports,As=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("compInvoices",{attrs:{opcion:{anular:!0,reimprimir:!1,libro:!1,anularErroneo:!0}}})},Ss=[],Ds={components:{compInvoices:bs}},Os=Ds,Ts=Object(f["a"])(Os,As,Ss,!1,null,null,null),Ls=Ts.exports,Bs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("compInvoices",{attrs:{entidadId:e.entidadId,opcion:{anular:!0,reimprimir:!1,libro:!1,anularErroneo:!1}}})],1)},Ms=[],js={components:{compInvoices:bs},data:function(){return{entidadId:null}},created:function(){this.entidadId=this.$route.params.entidadId}},Fs=js,Ps=Object(f["a"])(Fs,Bs,Ms,!1,null,null,null),$s=Ps.exports,qs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("compInvoices",{attrs:{entidadId:e.entidadId,opcion:{anular:!1,reimprimir:!0,libro:!1,anularErroneo:!1}}})],1)},Ns=[],Us={components:{compInvoices:bs},data:function(){return{entidadId:null}},created:function(){this.entidadId=this.$route.params.entidadId}},zs=Us,Vs=Object(f["a"])(zs,qs,Ns,!1,null,null,null),Gs=Vs.exports,Ys=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("compInvoices",{attrs:{entidadId:e.entidadId,opcion:{anular:!0,reimprimir:!0,libro:!1,anularErroneo:!1}}})],1)},Ks=[],Hs={components:{compInvoices:bs},data:function(){return{entidadId:null}},created:function(){this.entidadId=this.$route.params.entidadId}},Js=Hs,Qs=Object(f["a"])(Js,Ys,Ks,!1,null,null,null),Ws=Qs.exports,Zs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("searchEntidadesGeneric",{attrs:{link:"Debts"}})],1)},Xs=[],en=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticStyle:{border:"2px solid #21618c","border-radius":"5px",height:"100%",width:"100%",padding:"1%",color:"#21618c"}},[a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("h2",[a("b",{staticStyle:{color:"#21618c"}},[e._v("Búsqueda de Empresa")])])]),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:14,xl:14}},[a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:4,xl:4}},[a("b",[e._v("Buscar por :")])]),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:20,xl:20}},[a("a-input-search",{attrs:{placeholder:"Empresa, Universidad, Colegio, otro...","enter-button":" Buscar ",maxLength:50},on:{keyup:e.buscar,search:e.buscar},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1)],1)]),a("a-card",{staticStyle:{width:"100%"}},[a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("div",{staticStyle:{width:"100%"}},[a("a-row",{attrs:{type:"flex",justify:"center"}},e._l(e.lstTipoEntidades,(function(t,o){return a("a-col",{key:o,attrs:{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:6},hoverable:""},on:{click:function(a){return e.cargarEntidades(t.dominioId)}}},[a("a-card",{attrs:{hoverable:""}},[a("a-card-meta",{attrs:{title:t.descripcion}},[a("a-avatar",{attrs:{slot:"avatar",src:t.imagen64,size:44},slot:"avatar"})],1)],1)],1)})),1)],1)])],2),a("a-card",{staticStyle:{width:"100%"}},[e.displayEntidades?a("div",{staticStyle:{width:"100%"}},[a("div",[a("a-row",{attrs:{type:"flex",justify:"center"}},e._l(e.lstEntidadesFilter,(function(t,o){return a("a-col",{key:o,staticClass:"card",attrs:{xs:24,sm:24,md:12,lg:6},on:{click:function(a){return e.seleccionar(t)}}},[a("img",{attrs:{src:t.imagen64}}),a("div",{staticStyle:{"padding-left":"10px"}},[a("h1",[e._v(e._s(t.nombre))])])])})),1)],1)]):e._e()])],1)},tn=[],an={props:{link:null,paramLink:null},data:function(){return{lstTipoEntidades:[],lstEntidades:[],lstEntidadesFilter:[],search:"",displayEntidades:!1,disableCard:null}},mounted:function(){this.cargarTiposEntidades(),this.cargarTodasEntidades()},methods:{cargarTodasEntidades:function(){var e=this;Ne.cargarTodasEntidades().then((function(t){if(204===t.status)return e.lstEntidades=[],e.lstEntidadesFilter=e.lstEntidades,void e.$notification.warning("No existe Entidades asociadas a la Recaudadora");e.lstEntidades=t.data.result,e.lstEntidadesFilter=e.lstEntidades,e.$notification.success(t.data.message)})).catch((function(t){e.lstEntidades=[],e.lstEntidadesFilter=e.lstEntidades,e.$notification.error(t.response.data.message,t.response.data.code)}))},cargarTiposEntidades:function(){var e=this;Ne.cargarTiposEntidades().then((function(t){e.lstTipoEntidades=t.data.result})).catch((function(t){e.lstTipoEntidades=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},cargarEntidades:function(e){var t=this;this.search="",Ne.cargarEntidades(e).then((function(e){t.lstEntidadesFilter=e.data.result,t.displayEntidades=!0})).catch((function(e){t.lstEntidadesFilter=[],t.$notification.error(e.response.data.message,e.response.data.code)}))},seleccionar:function(e){this.$router.push({name:this.link,params:{entidadId:e.entidadId}})},buscar:function(){var e=this;this.search.length>0?(this.lstEntidadesFilter=this.lstEntidades.filter((function(t){return null!=t.nombreComercial?t.nombre.includes(e.search.toUpperCase())||t.nombre.includes(e.search.toLowerCase())||t.nombreComercial.includes(e.search.toUpperCase())||t.nombreComercial.includes(e.search.toLowerCase()):t.nombre.includes(e.search.toUpperCase())||t.nombre.includes(e.search.toLowerCase())})),this.displayEntidades=this.lstEntidadesFilter.length>0):this.displayEntidades=!1}}},on=an,sn=(a("ea15"),Object(f["a"])(on,en,tn,!1,null,"ffa3a0ce",null)),nn=sn.exports,rn={components:{searchEntidadesGeneric:nn}},ln=rn,cn=Object(f["a"])(ln,Zs,Xs,!1,null,null,null),dn=cn.exports,un=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("searchEntidadesGeneric",{attrs:{link:"ListInvoicesAR"}})},mn=[],pn={components:{searchEntidadesGeneric:nn}},fn=pn,hn=Object(f["a"])(fn,un,mn,!1,null,null,null),gn=hn.exports,bn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("searchEntidadesGeneric",{attrs:{link:"ListInvoicesA"}})},vn=[],yn={components:{searchEntidadesGeneric:nn}},Cn=yn,xn=Object(f["a"])(Cn,bn,vn,!1,null,null,null),En=xn.exports,Rn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("searchEntidadesGeneric",{attrs:{link:"ListInvoicesR"}})},wn=[],In={components:{searchEntidadesGeneric:nn}},kn=In,_n=Object(f["a"])(kn,Rn,wn,!1,null,null,null),An=_n.exports,Sn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.displayForm?e._e():a("a-card",{staticStyle:{width:"100%"}},[e.displayForm?e._e():a("div",{staticStyle:{border:"2px solid #21618c","border-radius":"5px",height:"100%",width:"100%",padding:"1%",color:"#21618c"}},[a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("h2",[a("b",{staticStyle:{color:"#21618c"}},[e._v(" Administración de Dosificación ")])])]),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:14,xl:14}},[a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:20,xl:20,align:"right"}},[a("a-input-search",{attrs:{placeholder:"Buscar por Código Actividad Económica...","enter-button":" Buscar ",maxLength:50},on:{search:e.filterTable},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1)],1),a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("b",[e._v(e._s(e.filter))]),a("a-button-group",e._l(e.lstOpciones,(function(t,o){return a("a-button",{key:o,attrs:{type:"primary"},on:{click:function(a){return e.seleccionarOpcion(t.transaccion)}}},[e._v(" "+e._s(t.etiqueta)+" ")])})),1)],1)],2),e.displayForm?e._e():a("a-card",{staticStyle:{width:"100%"}},[a("a-table",{attrs:{"row-selection":e.rowSelection,columns:e.columns,"data-source":e.lstFilter,rowKey:"dosificacionId",pagination:e.pagination,loading:e.loading,scroll:{x:1e3}},scopedSlots:e._u([{key:"estado",fn:function(t,o){return["ACTIVO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"green"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"caret-up"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"CERRADO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"red"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"caret-down"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"CREADO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"blue"}},[e._v(" "+e._s(o.estado)+" ")])],1):e._e(),"ANULADO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"orange"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"caret-down"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"HISTORICO"==o.estado?a("div",{attrs:{align:"center"}},[a("a-tag",{attrs:{color:"gray"}},[a("a-icon",{style:{fontSize:"20px"},attrs:{type:"caret-down"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e()]}},{key:"caracteristicas",fn:function(t,o){return[a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Sucursal ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.nombreSucursal)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Tipo Documento Fiscal ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.tipoDocumentoFiscalDescripcion)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Moneda ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.monedaDescripcion)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Características Especiales ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.caracteristicasEspecialesDescripcion)+" ")])],1)]}},{key:"dosificacion",fn:function(t,o){return[a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[e._v(" "+e._s(o.llaveDosificacion)+" ")])],1)]}},{key:"datos",fn:function(t,o){return[a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Código Actividad Económica ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[a("a-tag",{attrs:{color:"blue"}},[e._v(" "+e._s(o.codigoActividadEconomica)+" ")])],1)],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Actividad Económica ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[o.actividadEconomica.length>40?a("a-tooltip",{key:o.actividadEconomica,attrs:{title:o.actividadEconomica}},[a("a-tag",{key:o.actividadEconomica,attrs:{color:"blue"}},[e._v(" "+e._s(o.actividadEconomica.slice(0,40)+"...")+" ")])],1):a("a-tag",{attrs:{color:"blue"}},[e._v(" "+e._s(o.actividadEconomica)+" ")])],1)],1),null!=o.codigoActividadEconomicaSecundaria?a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Código Actividad Secundaria ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.codigoActividadEconomicaSecundaria)+" ")])],1):e._e(),null!=o.codigoActividadEconomicaSecundaria?a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Actividad Secundaria ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.actividadEconomicaSecundaria)+" ")])],1):e._e(),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" N° Autorización ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.numeroAutorizacion)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Título ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.titulo)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Subtitulo ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.subtitulo)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Fecha vigencia Emisión ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(e.$dates.formaDateWithoutTime(o.fechaVigencia))+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Fecha Límite Emisión ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(e.$dates.formaDateWithoutTime(o.fechaLimiteEmision))+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Leyenda ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.leyenda)+" ")])],1),a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticClass:"labelTittle",attrs:{xs:24,sm:24,md:24,lg:24,xl:10}},[e._v(" Subleyenda ")]),a("a-col",{staticClass:"labelValue",attrs:{xs:24,sm:24,md:24,lg:24,xl:14}},[e._v(" "+e._s(o.subleyenda)+" ")])],1)]}}],null,!1,1420742603)})],1),e.displayForm?a("a-card",{staticStyle:{width:"100%"}},[a("br"),e.displayForm?a("div",{staticStyle:{border:"2px solid #21618c","border-radius":"5px",height:"100%",width:"100%",padding:"1%",color:"#21618c"}},[a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#21618c"}},[a("a-icon",{attrs:{type:"arrow-left"},on:{click:e.volverListado}}),e._v(" Administración de Dosificación: "+e._s(e.subTitle)+" ")],1)])])],1)],1):e._e(),a("br"),a("a-form-model",{ref:"ruleForm",attrs:{model:e.dosificacionObj,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol,size:"small",disabled:"true"}},[a("a-form-model-item",{attrs:{label:"Sucursal Emite Factura"}},[a("a-input",{attrs:{disabled:!0},model:{value:e.sucursalEntidadObj.nombreSucursal,callback:function(t){e.$set(e.sucursalEntidadObj,"nombreSucursal",t)},expression:"sucursalEntidadObj.nombreSucursal"}})],1),a("a-form-model-item",{attrs:{label:"Tipo Documento Fiscal",prop:"tipoDocumentoFiscalId"}},[a("a-select",{attrs:{placeholder:"Seleccione Tipo Documento Fiscal"},model:{value:e.dosificacionObj.tipoDocumentoFiscalId,callback:function(t){e.$set(e.dosificacionObj,"tipoDocumentoFiscalId",t)},expression:"dosificacionObj.tipoDocumentoFiscalId"}},e._l(e.lstTipoDocumentoFiscal,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.dominioId}},[e._v(" "+e._s(t.descripcion)+" ")])})),1)],1),a("a-form-model-item",{attrs:{label:"Moneda",prop:"monedaId"}},[a("a-select",{attrs:{placeholder:"Seleccione Moneda"},model:{value:e.dosificacionObj.monedaId,callback:function(t){e.$set(e.dosificacionObj,"monedaId",t)},expression:"dosificacionObj.monedaId"}},e._l(e.lstMonedas,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.dominioId}},[e._v(" "+e._s(t.descripcion)+" ")])})),1)],1),a("a-form-model-item",{attrs:{label:"Características Especiales",prop:"caracteristicasEspecialesId"}},[a("a-select",{attrs:{placeholder:"Seleccione Tipo Documento Fiscal"},model:{value:e.dosificacionObj.caracteristicasEspecialesId,callback:function(t){e.$set(e.dosificacionObj,"caracteristicasEspecialesId",t)},expression:"dosificacionObj.caracteristicasEspecialesId"}},e._l(e.lstCaracEspeciales,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.dominioId}},[e._v(" "+e._s(t.descripcion)+" ")])})),1)],1),a("a-form-model-item",{ref:"codigoActividadEconomica",attrs:{label:"Código Actividad Economica",prop:"codigoActividadEconomica"}},[a("a-input",{attrs:{"allow-clear":"",maxLength:10},on:{blur:function(){e.$refs.codigoActividadEconomica.onFieldBlur()},change:function(t){return e.cargarActividadEconomica(e.dosificacionObj.codigoActividadEconomica,!1)}},model:{value:e.dosificacionObj.codigoActividadEconomica,callback:function(t){e.$set(e.dosificacionObj,"codigoActividadEconomica",t)},expression:"dosificacionObj.codigoActividadEconomica"}}),a("a-input",{attrs:{disabled:!0,maxLength:250,placeholder:"Actividad Económica"},model:{value:e.actEco,callback:function(t){e.actEco=t},expression:"actEco"}})],1),a("a-row",{attrs:{type:"flex",justify:"center"}},[a("a-col",{attrs:{span:"24"}},[a("a-collapse",{model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",attrs:{header:"Actividad Económica Secundaria (Solo cuando corresponda)"}},[a("a-form-model-item",{ref:"codigoActividadEconomicaSecundaria",attrs:{label:" Código Act. Economica Secundaria",prop:"codigoActividadEconomicaSecundaria"}},[a("a-input",{attrs:{"allow-clear":"",maxLength:250},on:{blur:function(){e.$refs.codigoActividadEconomicaSecundaria.onFieldBlur()},change:function(t){return e.cargarActividadEconomica(e.dosificacionObj.codigoActividadEconomicaSecundaria,!0)}},model:{value:e.dosificacionObj.codigoActividadEconomicaSecundaria,callback:function(t){e.$set(e.dosificacionObj,"codigoActividadEconomicaSecundaria",t)},expression:"dosificacionObj.codigoActividadEconomicaSecundaria"}}),a("a-input",{attrs:{disabled:!0,maxLength:250,placeholder:"Actividad Económica Secundaria"},model:{value:e.actEcoSec,callback:function(t){e.actEcoSec=t},expression:"actEcoSec"}})],1)],1)],1)],1)],1),a("br"),a("a-form-model-item",{ref:"numeroAutorizacion",attrs:{label:"N° Autorización",prop:"numeroAutorizacion"}},[a("a-input",{attrs:{maxLength:15},on:{blur:function(){e.$refs.numeroAutorizacion.onFieldBlur()}},model:{value:e.dosificacionObj.numeroAutorizacion,callback:function(t){e.$set(e.dosificacionObj,"numeroAutorizacion",t)},expression:"dosificacionObj.numeroAutorizacion"}})],1),a("a-form-model-item",{ref:"fechaVigencia",attrs:{label:"Fecha Vigencia Emisión",prop:"fechaVigencia"}},[a("a-date-picker",{attrs:{format:"DD/MM/YYYY",locale:e.locale},model:{value:e.dosificacionObj.fechaVigencia,callback:function(t){e.$set(e.dosificacionObj,"fechaVigencia",t)},expression:"dosificacionObj.fechaVigencia"}})],1),a("a-form-model-item",{ref:"fechaLimiteEmision",attrs:{label:"Fecha Límite Emisión",prop:"fechaLimiteEmision"}},[a("a-date-picker",{attrs:{format:"DD/MM/YYYY",locale:e.locale},model:{value:e.dosificacionObj.fechaLimiteEmision,callback:function(t){e.$set(e.dosificacionObj,"fechaLimiteEmision",t)},expression:"dosificacionObj.fechaLimiteEmision"}})],1),a("a-form-model-item",{ref:"llaveDosificacion",attrs:{label:"Llave de Dosificación",prop:"llaveDosificacion"}},[a("a-textarea",{attrs:{maxLength:256},on:{blur:function(){e.$refs.llaveDosificacion.onFieldBlur()}},model:{value:e.dosificacionObj.llaveDosificacion,callback:function(t){e.$set(e.dosificacionObj,"llaveDosificacion",t)},expression:"dosificacionObj.llaveDosificacion"}})],1),a("a-form-model-item",{ref:"titulo",attrs:{label:"Título",prop:"titulo"}},[a("a-input",{attrs:{maxLength:250},on:{blur:function(){e.$refs.titulo.onFieldBlur()}},model:{value:e.dosificacionObj.titulo,callback:function(t){e.$set(e.dosificacionObj,"titulo",t)},expression:"dosificacionObj.titulo"}})],1),a("a-form-model-item",{ref:"subtitulo",attrs:{label:"Sub Título",prop:"subtitulo"}},[a("a-input",{attrs:{maxLength:250},on:{blur:function(){e.$refs.subtitulo.onFieldBlur()}},model:{value:e.dosificacionObj.subtitulo,callback:function(t){e.$set(e.dosificacionObj,"subtitulo",t)},expression:"dosificacionObj.subtitulo"}})],1),a("a-form-model-item",{ref:"leyenda",attrs:{label:"Leyenda",prop:"leyenda"}},[a("a-textarea",{attrs:{maxLength:1e3},on:{blur:function(){e.$refs.leyenda.onFieldBlur()}},model:{value:e.dosificacionObj.leyenda,callback:function(t){e.$set(e.dosificacionObj,"leyenda",t)},expression:"dosificacionObj.leyenda"}})],1),a("a-form-model-item",{ref:"subleyenda",attrs:{label:"Sub Leyenda",prop:"subleyenda"}},[a("a-textarea",{attrs:{maxLength:1e3},on:{blur:function(){e.$refs.subleyenda.onFieldBlur()}},model:{value:e.dosificacionObj.subleyenda,callback:function(t){e.$set(e.dosificacionObj,"subleyenda",t)},expression:"dosificacionObj.subleyenda"}})],1)],1),a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("a-button",{staticStyle:{color:"white","background-color":"#339966",border:"0px"},attrs:{type:"link"},on:{click:e.onSubmit}},[a("a-icon",{attrs:{type:"form"}}),e._v(" Registrar ")],1),a("a-button",{attrs:{type:"primary",ghost:""},on:{click:e.resetForm}},[a("a-icon",{attrs:{type:"reload"}}),e._v(" Limpiar ")],1)],1)],2):e._e()],1)},Dn=[],On=function(e){return e.slice().sort((function(e,t){return t.dosificacionId-e.dosificacionId}))},Tn=[{title:"Características",dataIndex:"moneda_id",scopedSlots:{customRender:"caracteristicas"},width:"20%"},{title:"Datos",dataIndex:"actividadEconomica",scopedSlots:{customRender:"datos"},width:"45%"},{title:"LLave Dosificación",dataIndex:"llaveDosificacion",scopedSlots:{customRender:"dosificacion"},width:"20%"},{title:"Estado",dataIndex:"estado",scopedSlots:{customRender:"estado"},width:"15%"}],Ln={data:function(){return{actEco:null,actEcoSec:null,activeKey:[],locale:ve["a"],lstDosificaciones:[],columns:Tn,selectedRowKeys:[],pagination:{pageSize:5},loading:!1,lstOpciones:[],current:null,displayModal:!0,dosificacionObj:{},subTitle:"",displayForm:!1,labelCol:{span:6},wrapperCol:{span:14},rules:{codigoActividadEconomica:[{required:!0,message:"Debe registrar el Código de Actividad Económica",trigger:"change"}],numeroAutorizacion:[{required:!0,message:"Debe registrar el N° de Autorización",trigger:"blur"},{trigger:"blur",message:"Debe registrar solo números.",pattern:/^[0-9,$]*$/}],fechaVigencia:[{required:!0,message:"Debe registrar la Fecha de Vigencia de la Dosificación.",trigger:"change"}],fechaLimiteEmision:[{required:!0,message:"Debe registrar la Fecha Límite Emisión",trigger:"change"}],llaveDosificacion:[{min:50,message:"Mínimante la llave de dosificación debe tener 50 caracteres",trigger:"blur"},{required:!0,message:"Debe registrar la llave de dosificación",trigger:"blur"}],monedaId:[{required:!0,message:"Debe seleccionar una Moneda",trigger:"change"}],tipoDocumentoFiscalId:[{required:!0,message:"Debe seleccionar un Tipo de Documento Fiscal",trigger:"change"}],titulo:[{required:!0,message:"Debe registrar título para el documento fiscal.",trigger:"blur"}],leyenda:[{required:!0,message:"Debe registrar leyenda para el documento fiscal.",trigger:"blur"}],subleyenda:[{required:!0,message:"Debe registrar sub leyenda para el documento fiscal.",trigger:"blur"}]},lstMonedas:[],lstTipoDocumentoFiscal:[],lstCaracEspeciales:[],sucursalEntidadObj:{},search:"",lstFilter:[],filter:"Registros: 0/0"}},computed:{rowSelection:function(){var e=this;return{type:"radio",selectedRowKeys:this.selectedRowKeys,onChange:function(t,a){e.selectedRowKeys=t;var o=Object(ne["a"])(new Set(a.map((function(e){return e.estado}))));o.length>1?(e.$notification.warning("Debe seleccionar registros del mismo ESTADO para realizar operaciones múltiples."),e.cargarOpcionesByEstado("INICIAL"),e.cargarOpciones()):a.length>0?e.cargarOpcionesByEstado(a[0].estado):e.cargarOpcionesByEstado(null)}}}},mounted:function(){this.cargarDosificaciones(),this.cargarSucursalEmiteFactura(),this.cargarMoneda(),this.cargarTipoDocumentoFiscal(),this.cargarCaracEspeciales(),this.cargarOpcionesByEstado(null)},watch:{actEco:function(e,t){this.dosificacionObj.actividadEconomica=e},actEcoSec:function(e,t){this.dosificacionObj.actividadEconomicaSecundaria=e}},methods:{cargarSucursalEmiteFactura:function(){var e=this;Mt.getSucursalEmtidadEmiteFacturaTesla().then((function(t){e.sucursalEntidadObj=t.data.result})).catch((function(t){e.sucursalEntidadObj={},e.$notification.error(t.response.data.message,t.response.data.code)}))},cargarOpcionesByEstado:function(e){var t=this;R.getOperacionesFacturacionLst("DOSIFICACIONES",e).then((function(e){t.lstOpciones=e.data.result}))},seleccionarOpcion:function(e){var t=this;switch(e){case"CREAR":this.dosificacionObj={},this.displayForm=!0,this.subTitle="Registro Nuevo",this.actEco=null,this.actEcoSec=null;break;case"MODIFICAR":1===this.selectedRowKeys.length?(this.cargarDosificacion(this.selectedRowKeys),this.displayForm=!0,this.subTitle="Modificación de Registro"):this.$notification.warning("Debe seleccionar un solo registro para MODIFICAR");break;case"ELIMINAR":this.selectedRowKeys.length>0?this.$confirm({title:"¿Está seguro de ELIMINAR el registro seleccionado?",content:"Considere que el registro ya no podrá ser visualizado.",okText:"Aceptar",okType:"danger",cancelText:"Cancelar",onOk:function(){t.actualizarTransaccion(t.selectedRowKeys,"ELIMINAR")},onCancel:function(){},class:"test"}):this.$notification.warning("Debe seleccionar al menos un registro para ELIMINAR");break;case"ACTIVAR":this.selectedRowKeys.length>0?this.$confirm({title:"¿Está seguro de DAR ALTA el registro seleccionado?",content:"Considere que el registro ingresará en transacciones en el Sistema.",okText:"Aceptar",cancelText:"Cancelar",onOk:function(){t.actualizarTransaccion(t.selectedRowKeys,"ACTIVAR")},onCancel:function(){},class:"test"}):this.$notification.warning("Debe seleccionar al menos un registro para DAR ALTA");break;case"CERRAR":this.selectedRowKeys.length>0?this.$confirm({title:"¿Está seguro de CERRAR el registro seleccionado?",content:"Considere que solo se pueden cerrar los registros activos.",okText:"Aceptar",okType:"danger",cancelText:"Cancelar",onOk:function(){t.actualizarTransaccion(t.selectedRowKeys,"CERRAR")},onCancel:function(){},class:"test"}):this.$notification.warning("Debe seleccionar al menos un registro para DAR BAJA");break;case"ANULAR":this.selectedRowKeys.length>0?this.$confirm({title:"¿Está seguro de ANULAR el registro seleccionado?",content:"Considere que puede anular si el registro esta activo.",okText:"Aceptar",okType:"danger",cancelText:"Cancelar",onOk:function(){t.actualizarTransaccion(t.selectedRowKeys,"ANULAR")},onCancel:function(){},class:"test"}):this.$notification.warning("Debe seleccionar al menos un registro para DAR BAJA");break}},cargarDosificaciones:function(){var e=this;this.loading=!0,k.getDosificacionesLst().then((function(t){if(204===t.status)return e.lstDosificaciones=[],e.lstFilter=[],e.$notification.warning("No se ha encontrado ninguna Dosificacion registrada."),void(e.loading=!1);e.lstDosificaciones=On(t.data.result),e.lstFilter=e.lstDosificaciones,e.loading=!1,e.countRows(),e.selectedRowKeys=[]})).catch((function(t){e.lstDosificaciones=[],e.lstFilter=[],e.$notification.error(t.response.data.message,t.response.data.code),e.loading=!1}))},actualizarTransaccion:function(e,t){var a=this;k.putTransaccion(e,t).then((function(e){a.$Progress.start(),a.cargarDosificaciones(),a.selectedRowKeys=[],a.$notification.success(e.data.message),a.$Progress.finish()})).catch((function(e){a.$notification.error(e.response.data.message,e.response.data.code),a.$Progress.fail()}))},volverListado:function(){this.displayForm=!this.displayForm,this.dosificacionObj={},this.selectedRowKeys=[]},cargarMoneda:function(){var e=this;Ve.getDominiosLst("moneda_id").then((function(t){if(204===t.status)return e.lstMonedas=[],void e.$notification.warning("La parametrización de dominios no esta completa.");e.lstMonedas=t.data.result})).catch((function(t){e.lstMonedas=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},cargarTipoDocumentoFiscal:function(){var e=this;Ve.getDominiosLst("tipo_documento_fiscal_id").then((function(t){if(204===t.status)return e.lstTipoDocumentoFiscal=[],void e.$notification.warning("La parametrización de dominios no esta completa.");e.lstTipoDocumentoFiscal=t.data.result})).catch((function(t){e.lstTipoDocumentoFiscal=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},cargarCaracEspeciales:function(){var e=this;Ve.getDominiosLst("caracteristicas_especiales_id").then((function(t){if(204===t.status)return e.lstCaracEspeciales=[],void e.$notification.warning("La parametrización de dominios no esta completa.");e.lstCaracEspeciales=t.data.result})).catch((function(t){e.lstCaracEspeciales=[],e.$notification.error(t.response.data.message,t.response.data.code)}))},cargarActividadEconomica:function(e,t){var a=this;ms.getActividadesEconomicasByCodigo(e).then((function(e){t?a.actEcoSec=null:a.actEco=null,204!==e.status?null!=e.data.result&&(t?a.actEcoSec=e.data.result.actividadEconomica:a.actEco=e.data.result.actividadEconomica):a.$notification.warning("No existe actvidad registrada con el código.")})).catch((function(e){t?a.actEcoSec=null:a.actEco=null,a.$notification.error(e.response.data.message,e.response.data.code)}))},cargarDosificacion:function(e){var t=this;k.getDosificacionById(e).then((function(e){t.dosificacionObj=e.data.result,t.actEco=t.dosificacionObj.actividadEconomica,t.actEcoSec=t.dosificacionObj.actividadEconomicaSecundaria,t.activeKey=[],t.cargarDosificaciones()}))},guardarDosificacion:function(){var e=this;this.$Progress.start(),""!=this.dosificacionObj.actividadEconomica&&null!=this.dosificacionObj.actividadEconomica?(this.dosificacionObj.codigoActividadEconomicaSecundaria=""==this.dosificacionObj.codigoActividadEconomicaSecundaria?null:this.dosificacionObj.codigoActividadEconomicaSecundaria,null==this.dosificacionObj.codigoActividadEconomicaSecundaria||null!=this.dosificacionObj.actividadEconomicaSecundaria?k.postDosificacion(this.dosificacionObj).then((function(t){e.displayForm=!1,e.cargarDosificaciones(),e.$notification.success(t.data.message),e.$Progress.finish()})).catch((function(t){e.$notification.error(t.response.data.message,t.response.data.code),e.$Progress.fail()})):this.$notification.warning("Debe ser un código de actividad económica secundaria válida")):this.$notification.warning("Debe ser un código de actividad económica válida")},onSubmit:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return e.$notification.warning("Debe resolver las validaciones del formulario."),!1;var a=ge()(e.dosificacionObj.fechaVigencia).startOf("day"),o=ge()(e.dosificacionObj.fechaLimiteEmision).startOf("day");if(a>o)return e.$notification.warning("La Fecha Límite de Emisión debe ser mayor o igual a la Fecha de Vigencia"),!1;e.guardarDosificacion(e.dosificacionObj)}))},resetForm:function(){this.$refs.ruleForm.resetFields(),this.actEco=null,this.actEcoSec=null},filterTable:function(){var e=this;this.lstFilter=this.lstDosificaciones.filter((function(t){if(null!=e.search||""!=e.search)return t.codigoActividadEconomica.includes(e.search)})),this.countRows()},countRows:function(){var e=this.lstFilter.length,t=this.lstDosificaciones.length;this.filter="Registros: "+e+"/"+t}}},Bn=Ln,Mn=(a("382e"),Object(f["a"])(Bn,Sn,Dn,!1,null,"295adbc5",null)),jn=Mn.exports,Fn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticStyle:{border:"2px solid #21618c","border-radius":"5px",height:"100%",width:"100%",padding:"1%",color:"#21618c"}},[a("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#21618c"}},[e._v(" Registro de Credenciales ")])])])],1)],1),a("a-divider",{attrs:{orientation:"left"}},[e._v(e._s(e.sucursalEntidadObj.nombreSucursal))]),a("Credenciales",{attrs:{entidadId:e.sucursalEntidadObj.entidadId,sucursalEntidadId:e.sucursalEntidadObj.sucursalEntidadId}})],1)],1)},Pn=[],$n={components:{Credenciales:Nt},data:function(){return{sucursalEntidadObj:{}}},mounted:function(){this.cargarSucursalEmiteFactura()},methods:{cargarSucursalEmiteFactura:function(){var e=this;Mt.getSucursalEmtidadEmiteFacturaTesla().then((function(t){e.sucursalEntidadObj=t.data.result})).catch((function(t){e.sucursalEntidadObj={},e.$notification.error(t.response.data.message,t.response.data.code)}))}}},qn=$n,Nn=Object(f["a"])(qn,Fn,Pn,!1,null,null,null),Un=Nn.exports,zn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("compSucursalesEntidades")],1)},Vn=[],Gn={components:{compSucursalesEntidades:Kt}},Yn=Gn,Kn=Object(f["a"])(Yn,zn,Vn,!1,null,null,null),Hn=Kn.exports,Jn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("compSucursales")],1)},Qn=[],Wn={components:{compSucursales:Za}},Zn=Wn,Xn=Object(f["a"])(Zn,Jn,Qn,!1,null,null,null),er=Xn.exports,tr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head"},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#08632d"}},[e._v(" DESCARGA DE ARCHIVOS. ")])])])],1),a("a-divider",{attrs:{orientation:"left"}},[e._v("BUSQUEDA")]),a("a-form",[a("a-row",{attrs:{gutter:1}},[a("a-col",{attrs:{span:2}}),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:10,xl:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Fecha Inicio :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"DD/MM/YYYY ",locale:e.locale},model:{value:e.formBusqueda.fechaInicio,callback:function(t){e.$set(e.formBusqueda,"fechaInicio",t)},expression:"formBusqueda.fechaInicio"}})],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:10,xl:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Fecha Fin :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{size:"default",format:"DD/MM/YYYY",locale:e.locale},model:{value:e.formBusqueda.fechaFin,callback:function(t){e.$set(e.formBusqueda,"fechaFin",t)},expression:"formBusqueda.fechaFin"}})],1)],1),a("a-col",{attrs:{span:2}})],1)],1),a("a-form",[a("a-row",[a("a-col",{attrs:{span:2}}),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:10,xl:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Recaudadora :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{mode:"tags",size:"default"},on:{change:e.onChangeRecaudacion},model:{value:e.checkedListRecaudacion,callback:function(t){e.checkedListRecaudacion=t},expression:"checkedListRecaudacion"}},e._l(e.recaudadoresList,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("a-col",{attrs:{xs:24,sm:24,md:24,lg:10,xl:10}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Estado :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{mode:"tags",size:"default"},model:{value:e.checkedListEstado,callback:function(t){e.checkedListEstado=t},expression:"checkedListEstado"}},e._l(e.estadoList,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("a-col",{attrs:{span:2}})],1)],1),a("br"),a("a-row",{attrs:{type:"flex",justify:"center",align:"top",gutter:16}},[a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"dashed",block:""},on:{click:function(t){return e.limpiar()}}},[a("span",[a("a-icon",{attrs:{type:"undo"}}),e._v(" Limpiar ")],1)])],1),a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"danger",block:""},on:{click:function(t){return e.findDeudasByParameterForReport(1)}}},[a("span",[a("a-icon",{attrs:{type:"search"}}),e._v(" Buscar ")],1)])],1),a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"primary",block:""},on:{click:function(t){return e.openModalTipoReporte()}}},[a("span",{style:{fontSize:"20px"}},[a("a-icon",{attrs:{type:"printer"}}),e._v(" Descargar Archivo ")],1)])],1)],1)],1),a("a-card",{staticStyle:{width:"100%"}},[a("a-divider",{attrs:{orientation:"left"}},[e._v("DATOS DE LAS DEUDAS")]),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,pagination:e.pagination,align:"center",loading:e.loadingTable},scopedSlots:e._u([{key:"estado",fn:function(t,o){return["COBRADOS"==o.estado?a("div",[a("a-tag",{attrs:{color:"green"}},[a("a-icon",{style:{fontSize:"15px"},attrs:{type:"check"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"POR PAGAR"==o.estado?a("div",[a("a-tag",{attrs:{color:"blue"}},[a("a-icon",{style:{fontSize:"15px"},attrs:{type:"exclamation-circle"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"ANULADO"==o.estado?a("div",[a("a-tag",{attrs:{color:"red"}},[a("a-icon",{style:{fontSize:"15px"},attrs:{type:"exclamation-circle"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e(),"ERRONEO"==o.estado?a("div",[a("a-tag",{attrs:{color:"purple"}},[a("a-icon",{style:{fontSize:"15px"},attrs:{type:"exclamation-circle"}}),e._v(" "+e._s(o.estado)+" ")],1)],1):e._e()]}}])})],1),a("a-modal",{attrs:{title:"Seleccione tipo de reporte"},on:{ok:function(t){e.visibleModalTipoReporte=!1}},model:{value:e.visibleModalTipoReporte,callback:function(t){e.visibleModalTipoReporte=t},expression:"visibleModalTipoReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-col",[e._v("Seleccione un tipo de Reporte a generar.")])],1)],1),a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-radio-group",{attrs:{"button-style":"solid"},model:{value:e.formBusqueda.export,callback:function(t){e.$set(e.formBusqueda,"export",t)},expression:"formBusqueda.export"}},[a("a-radio-button",{attrs:{value:"pdf"}},[e._v(" PDF ")]),a("a-radio-button",{attrs:{value:"msword"}},[e._v(" WORD ")]),a("a-radio-button",{attrs:{value:"msexcel"}},[e._v(" EXCEL ")])],1)],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){return e.openModalGenerarReporte()}}},[e._v(" Generar Reporte ")])],1)],2),a("a-modal",{attrs:{title:"Reporte Generado",width:"800px","dialog-style":{top:"20px"}},on:{ok:function(t){e.visibleModalReporte=!1}},model:{value:e.visibleModalReporte,callback:function(t){e.visibleModalReporte=t},expression:"visibleModalReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center"}},[e.viewCargando?a("a-spin",{attrs:{size:"large",tip:"El reporte se esta cargando...."}}):e._e(),e.mensajeVisible?a("a-alert",{attrs:{message:"ADVERTENCIA",description:e.mensajeReporte,type:"warning","show-icon":""}}):e._e(),a("iframe",{attrs:{width:"800px",height:"350px",src:this.link}})],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalReporte=!1}}},[e._v(" Cerrar ")])],1)],2)],1)},ar=[],or=[{title:"Tipo Servicio",dataIndex:"tipoServicio",key:"tipoServicio",width:"12%"},{title:"Servicio",dataIndex:"servicio",key:"servicio",width:"10%",scopedSlots:{customRender:"servicio"}},{title:"Periodo",dataIndex:"periodo",key:"periodo",width:"8%"},{title:"Cód. Cliente",dataIndex:"codigoCliente",key:"codigoCliente",width:"10%",align:"center"},{title:"Nombre Recaudadora",dataIndex:"nombreRecaudadora",key:"nombreRecaudadora",width:"20%"},{title:"Fecha Cobro",dataIndex:"fechaCreacion",key:"fechaCreacion",width:"15%"},{title:"Total",dataIndex:"total",key:"total",width:"10%"},{title:"Estado",key:"estado",dataIndex:"estado",width:"10%",scopedSlots:{customRender:"estado"}}],ir={data:function(){return{locale:ve["a"],formBusqueda:{fechaInicio:null,fechaFin:null,recaudadorArray:[],estadoArray:[],export:"pdf"},columns:or,data:[],pagination:{},page:1,total:0,recaudadoresList:[],estadoList:[],visibleModalTipoReporte:!1,visibleModalReporte:!1,link:null,viewCargando:!1,disableEstado:!1,mensajeReporte:"NO SE PUDO CARGAR EL REPORTE, VERIFIQUE LOS PARÁMETROS SELECCIONADOS EN EL ÁREA DE BÚSQUEDA. ",mensajeVisible:!1,checkedListRecaudacion:[],indeterminateRecaudacion:!1,checkAllRecaudacion:!1,checkedListEstado:[],indeterminateEstado:!1,checkAllEstado:!1,loadingTable:!1}},created:function(){var e=this;this.findDeudasByParameterForReport(1),this.getEstadoHistoricos(),this.getRecaudadores(),this.pagination={total:this.total,onChange:function(t){e.findDeudasByParameterForReport(t)}}},methods:{findDeudasByParameterForReport:function(e){var t=this;null!=this.checkedListRecaudacion&&""!=this.checkedListRecaudacion||this.onCheckAllChangeRecaudacion(),null!=this.checkedListEstado&&""!=this.checkedListEstado||this.onCheckAllChangeEstado(),this.loadingTable=!0,this.formBusqueda.paginacion=e,this.formBusqueda.recaudadorArray=this.checkedListRecaudacion,this.formBusqueda.estadoArray=this.checkedListEstado,Be.findDeudasByParameterForReport(this.formBusqueda).then((function(e){t.data=e.data.data.content,t.pagination.pageSize=e.data.data.numberOfElements,t.pagination.total=e.data.data.totalElements,t.loadingTable=!1})).catch((function(e){t.data=[],t.loadingTable=!1}))},getEstadoHistoricos:function(){var e=this;Be.getEstadoHistoricos().then((function(t){e.estadoList=t.data.data})).catch((function(t){e.estadoList=[]}))},getRecaudadores:function(){var e=this;Be.getRecaudadoresByEntidad().then((function(t){e.recaudadoresList=t.data.data})).catch((function(t){e.recaudadoresList=[]}))},openModalGenerarReporte:function(){var e=this;null!=this.checkedListRecaudacion&&""!=this.checkedListRecaudacion||this.onCheckAllChangeRecaudacion(),null!=this.checkedListEstado&&""!=this.checkedListEstado||this.onCheckAllChangeEstado(),this.mensajeVisible=!1,this.link=null,this.viewCargando=!0,this.formBusqueda.recaudadorArray=this.checkedListRecaudacion,this.formBusqueda.estadoArray=this.checkedListEstado,Be.downloaArchivo(this.formBusqueda).then((function(t){e.forceFileDownload(t),e.viewCargando=!1,e.mensajeVisible=!1,e.visibleModalReporte=!1})).catch((function(t){e.viewCargando=!1,e.mensajeVisible=!0,e.link=null})),this.visibleModalTipoReporte=!1,this.visibleModalReporte=!0},forceFileDownload:function(e){var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","reporte.csv"),document.body.appendChild(a),a.click()},onChangeRecaudadora:function(){"All"!=this.formBusqueda.recaudadorId?(this.formBusqueda.estado="COBRADO",this.disableEstado=!1):this.disableEstado=!1},limpiar:function(){this.formBusqueda.fechaInicio=null,this.formBusqueda.fechaFin=null,this.formBusqueda.recaudadorId="All",this.formBusqueda.estado="All",this.formBusqueda.export="pdf",this.checkedListRecaudacion=[],this.checkedListEstado=[],this.data=[]},onChangeRecaudacion:function(e){this.indeterminateRecaudacion=!!e.length&&e.length<this.recaudadoresList.length,this.checkAllRecaudacion=e.length===this.recaudadoresList.length},onCheckAllChangeRecaudacion:function(){var e=0,t=[];this.recaudadoresList.forEach((function(a){t[e]=a.value,e++})),this.checkedListRecaudacion=t},onChangeEstado:function(e){this.indeterminateEstado=!!e.length&&e.length<this.estadoList.length,this.checkAllEstado=e.length===this.estadoList.length},onCheckAllChangeEstado:function(){var e=0,t=[];this.estadoList.forEach((function(a){t[e]=a.value,e++})),this.checkedListEstado=t},openModalTipoReporte:function(){this.formBusqueda.fechaFin<this.formBusqueda.fechaInicio?this.$warning({title:"Corrija los campos en el formulario de búsqueda.",content:"La ‘Fecha Fin’ no puede ser menor a la ‘Fecha Inicio’",okText:"Aceptar"}):this.openModalGenerarReporte()}}},sr=ir,nr=(a("82ec"),Object(f["a"])(sr,tr,ar,!1,null,"363cb079",null)),rr=nr.exports,lr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head"},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#08632d"}},[e._v(" REPORTE COBROS - EMPRESA ")])])])],1),a("a-divider",{attrs:{orientation:"left"}},[e._v("Busqueda")]),a("a-form",[a("a-row",{attrs:{gutter:1}},[a("a-col",{attrs:{span:5}},[e._v("Filtrar por Rango de Fechas : "),a("a-switch",{attrs:{size:"small","default-checked":""},model:{value:e.formBusquedav2.filtroRangoFechas,callback:function(t){e.$set(e.formBusquedav2,"filtroRangoFechas",t)},expression:"formBusquedav2.filtroRangoFechas"}})],1),e.formBusquedav2.filtroRangoFechas?e._e():a("a-col",{attrs:{span:5}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Anio Cobro :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{model:{value:e.formBusquedav2.anio,callback:function(t){e.$set(e.formBusquedav2,"anio",t)},expression:"formBusquedav2.anio"}},e._l(e.lstAnio,(function(t){return a("a-select-option",{key:t.anioId,attrs:{value:t.anioId}},[e._v(e._s(t.anio))])})),1)],1)],1),e.formBusquedav2.filtroRangoFechas?e._e():a("a-col",{attrs:{span:5}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Mes Cobro :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{model:{value:e.formBusquedav2.mes,callback:function(t){e.$set(e.formBusquedav2,"mes",t)},expression:"formBusquedav2.mes"}},e._l(e.lstMes,(function(t){return a("a-select-option",{key:t.mesId,attrs:{value:t.mesId}},[e._v(e._s(t.mes))])})),1)],1)],1),e.formBusquedav2.filtroRangoFechas?e._e():a("a-col",{attrs:{span:5}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Dia Cobro :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{model:{value:e.formBusquedav2.dia,callback:function(t){e.$set(e.formBusquedav2,"dia",t)},expression:"formBusquedav2.dia"}},e._l(e.lstDias,(function(t){return a("a-select-option",{key:t.diaId,attrs:{value:t.diaId}},[e._v(e._s(t.dia))])})),1)],1)],1),e.formBusquedav2.filtroRangoFechas?a("a-col",{attrs:{span:7}},[a("a-form-item",{staticClass:"a-item-form",staticStyle:{"margin-bottom":"25px"},attrs:{label:"Fecha Inicio Cobro :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-date-picker",{attrs:{format:"DD/MM/YYYY ",locale:e.locale},model:{value:e.formBusquedav2.fechaInicio,callback:function(t){e.$set(e.formBusquedav2,"fechaInicio",t)},expression:"formBusquedav2.fechaInicio"}})],1)],1):e._e(),e.formBusquedav2.filtroRangoFechas?a("a-col",{attrs:{span:7}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Fecha Fin Cobro :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-date-picker",{attrs:{format:"DD/MM/YYYY",locale:e.locale},model:{value:e.formBusquedav2.fechaFin,callback:function(t){e.$set(e.formBusquedav2,"fechaFin",t)},expression:"formBusquedav2.fechaFin"}})],1)],1):e._e(),a("a-col",{attrs:{span:5}})],1)],1),a("a-form",[a("a-row",{attrs:{gutter:1}},[a("a-col",{attrs:{span:2}}),a("a-col",{attrs:{span:6}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Empresa :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{mode:"tags",disabled:!1},model:{value:e.formBusquedav2.entidadIdArray,callback:function(t){e.$set(e.formBusquedav2,"entidadIdArray",t)},expression:"formBusquedav2.entidadIdArray"}},e._l(e.entidadesList,(function(t){return a("a-select-option",{key:t.entidadId+"",attrs:{value:t.entidadId+""}},[e._v(" "+e._s(t.nombre)+" ")])})),1)],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Socio :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{mode:"tags",disabled:!1},model:{value:e.formBusquedav2.recaudadorIdArray,callback:function(t){e.$set(e.formBusquedav2,"recaudadorIdArray",t)},expression:"formBusquedav2.recaudadorIdArray"}},e._l(e.recaudadorasList,(function(t){return a("a-select-option",{key:t.recaudadorId+"",attrs:{value:t.recaudadorId+""}},[e._v(" "+e._s(t.nombre)+" ")])})),1)],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Estado :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{disabled:e.disableEstado},model:{value:e.estado,callback:function(t){e.estado=t},expression:"estado"}},e._l(e.estadoList,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1),a("a-col",{attrs:{span:3}})],1)],1),a("br"),a("br"),a("a-row",{attrs:{type:"flex",justify:"center",align:"top",gutter:16}},[a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"dashed",block:""},on:{click:function(t){return e.limpiar()}}},[a("span",{style:{fontSize:"20px"}},[a("a-icon",{attrs:{type:"undo"}}),e._v(" Limpiar ")],1)])],1),a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"danger",block:""},on:{click:function(t){return e.findDeudasByParameterForReportv2(1)}}},[a("span",[a("a-icon",{attrs:{type:"search"}}),e._v(" Buscar ")],1)])],1),a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"primary",icon:"printer",block:""},on:{click:function(t){e.visibleModalTipoReporte=!0}}},[e._v(" Generar Reporte ")])],1)],1)],1),a("a-modal",{attrs:{title:"Seleccione tipo de reporte"},on:{ok:function(t){e.visibleModalTipoReporte=!1}},model:{value:e.visibleModalTipoReporte,callback:function(t){e.visibleModalTipoReporte=t},expression:"visibleModalTipoReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-col",[e._v("Seleccione un tipo de Reporte a generar.")])],1)],1),a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-radio-group",{attrs:{"button-style":"solid"},model:{value:e.formBusquedav2.export,callback:function(t){e.$set(e.formBusquedav2,"export",t)},expression:"formBusquedav2.export"}},[a("a-radio-button",{attrs:{value:"pdf"}},[e._v(" PDF ")]),a("a-radio-button",{attrs:{value:"msexcel"}},[e._v(" EXCEL ")])],1)],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){return e.openModalGenerarReporte()}}},[e._v(" Generar Reporte ")])],1)],2),a("a-modal",{attrs:{title:"Reporte Generado",width:"900px",height:"400px","dialog-style":{top:"20px"}},on:{ok:function(t){e.visibleModalReporte=!1}},model:{value:e.visibleModalReporte,callback:function(t){e.visibleModalReporte=t},expression:"visibleModalReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center"}},[e.viewCargando?a("a-spin",{attrs:{size:"large",tip:"El reporte se esta cargando...."}}):e._e(),a("iframe",{attrs:{width:"100%",height:"400px",src:this.link,frameborder:"0"}})],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalReporte=!1}}},[e._v(" Cerrar ")])],1)],2),a("a-card",{staticStyle:{width:"100%"}},[a("a-divider",{attrs:{orientation:"left"}},[e._v("DATOS DE LAS DEUDAS")]),a("a-table",{attrs:{columns:e.columnCobroEmpresa,"data-source":e.lstDataCobroSocio,pagination:e.pagination,align:"center",loading:e.loadingTable}})],1)],1)},cr=[],dr=[{title:"Nombre Empresa",dataIndex:"nombreEmpresa",key:"nombreEmpresa",width:"200px",scopedSlots:{customRender:"nombreEmpresa"}},{title:"Departamento",dataIndex:"deptoBanco",key:"deptoBanco",width:"100px"},{title:"Sucursal",dataIndex:"sucursalEmpresa",key:"sucursalEmpresa",width:"100px"},{title:"Tipo de Servicio",dataIndex:"tipoServicio",key:"tipoServicio",width:"100px",scopedSlots:{customRender:"tipoServicio"}},{title:"Servicio",dataIndex:"servicio",key:"servicio",width:"200px",scopedSlots:{customRender:"servicio"}},{title:"Cod. Cliente",dataIndex:"codEstudiante",key:"codEstudiante",width:"100px"},{title:"Nro. Factura",dataIndex:"nroFactura",key:"nroFactura",width:"100px"},{title:"Fecha de Cobro",dataIndex:"fechaCobro",key:"fechaCobro",width:"150px"},{title:" Monto Cobro ",dataIndex:"montoCobro",key:"montoCobro",width:"100px"},{title:" Método Cobro ",dataIndex:"metodoCobro",key:"metodoCobro",width:"100px"},{title:"Estado",key:"estado",dataIndex:"estado",width:"100px",scopedSlots:{customRender:"estado"}}],ur={data:function(){var e;return e={locale:ve["a"],disableEstado:!1,pagination:{},formBusquedav2:{filtroRangoFechas:!0,mes:null,dia:null,anio:null,fechaInicio:null,fechaFin:null,entidadIdArray:[],recaudadorIdArray:[],estadoArray:[],export:null},columnCobroEmpresa:dr,lstDataCobroSocio:[],recaudadorasList:[],entidadesList:[],estadoList:[],estado:"COBRADO",loadingTable:!1},Object(Le["a"])(e,"pagination",{}),Object(Le["a"])(e,"total",0),Object(Le["a"])(e,"lstAnio",[{anioId:"2021",anio:"2021"},{anioId:"2022",anio:"2022"},{anioId:"2023",anio:"2023"}]),Object(Le["a"])(e,"lstMes",[{mesId:"01",mes:"ENERO"},{mesId:"02",mes:"FEBRERO"},{mesId:"03",mes:"MARZO"},{mesId:"04",mes:"ABRIL"},{mesId:"05",mes:"MAYO"},{mesId:"06",mes:"JUNIO"},{mesId:"07",mes:"JULIO"},{mesId:"08",mes:"AGOSTO"},{mesId:"09",mes:"SEPTIEMBRE"},{mesId:"10",mes:"OCTUBRE"},{mesId:"11",mes:"NOVIEMBRE"},{mesId:"12",mes:"DICIEMBRE"}]),Object(Le["a"])(e,"visibleModalTipoReporte",!1),Object(Le["a"])(e,"visibleModalReporte",!1),Object(Le["a"])(e,"viewCargando",!1),Object(Le["a"])(e,"link",null),e},mounted:function(){this.formBusquedav2.anio=(new Date).getFullYear(),this.formBusquedav2.mes=1==((new Date).getMonth()+1+"").length?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1,this.formBusquedav2.dia=1==((new Date).getDate()+"").length?"0"+(new Date).getDate():(new Date).getDate()+"",this.formBusquedav2.filtroRangoFechas=!1,this.formBusquedav2.entidadIdArray=["0"],this.formBusquedav2.recaudadorIdArray=["0"],this.findDeudasByParameterForReportv2(1)},created:function(){var e=this;this.getEstadoHistoricos(),this.getRecaudadora(),this.getEntidades(),this.pagination={total:this.total,onChange:function(t){console.log("paginas: "+t),e.findDeudasByParameterForReportv2(t)}}},computed:{lstDias:function(){if(""==this.formBusquedav2.anio||null==this.formBusquedav2.anio)return[];if(""==this.formBusquedav2.mes||null==this.formBusquedav2.mes)return[];var e=new Date(this.formBusquedav2.anio,this.formBusquedav2.mes,0).getDate(),t=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"];this.lst=[];for(var a=1;a<=e;a++){var o=new Date(this.formBusquedav2.anio,this.formBusquedav2.mes-1,a).getDay();1==(a+"").length?a="0"+a:a+="",this.lst.push({diaId:a,dia:"".concat(a," = ").concat(t[o])})}return this.lst}},methods:{findDeudasByParameterForReportv2:function(e){var t=this;this.formBusquedav2.filtroRangoFechas||null!=this.formBusquedav2.mes&&null!=this.formBusquedav2.dia?!this.formBusquedav2.filtroRangoFechas||null!=this.formBusquedav2.fechaInicio&&null!=this.formBusquedav2.fechaFin?0!=this.formBusquedav2.entidadIdArray.length||0!=this.formBusquedav2.recaudadorIdArray.length||0!=this.formBusquedav2.estadoArray.length?(this.loadingTable=!0,this.formBusquedav2.paginacion=e,this.formBusquedav2.estadoArray=[],this.formBusquedav2.estadoArray.push(this.estado),so.findReporteCobroEmpresa(this.formBusquedav2).then((function(e){t.lstDataCobroSocio=e.data.data.content,t.pagination.pageSize=e.data.data.numberOfElements,t.pagination.total=e.data.data.totalElements,t.loadingTable=!1})).catch((function(e){t.lstDataCobroSocio=[],t.loadingTable=!1}))):this.$notification.error("Debe seleccionar Entidad, Socio y Estado."):this.$notification.error("Cuando el filtro es por rango de fechas, debe seleccionar estos parametros."):this.$notification.error("Cuando el filtro es por mes y dia, debe seleccionar estos parametros.")},getEstadoHistoricos:function(){var e=this;so.getEstadoHistoricos().then((function(t){e.estadoList=t.data.data})).catch((function(t){e.estadoList=[]}))},getEntidades:function(){var e=this;so.getEntidades().then((function(t){e.entidadesList=t.data.data,e.entidadesList.push({entidadId:0,nombre:"TODOS"})})).catch((function(t){e.entidadesList=[]}))},getRecaudadora:function(){var e=this;so.getRecaudadora().then((function(t){e.recaudadorasList=t.data.data,e.recaudadorasList.push({recaudadorId:0,nombre:"TODOS"})})).catch((function(t){e.recaudadorasList=[]}))},openModalGenerarReporte:function(){var e=this;this.link=null,this.viewCargando=!0,so.openModalGenerarReporteEmpresaAdmin(this.formBusquedav2).then((function(t){200==t.status?"pdf"==e.formBusquedav2.export?e.viewFileDownload(t):e.forceFileDownload(t,"reporte"):(e.viewCargando=!1,e.$notification.warning("No hay datos para mostrar en el reporte."))})).catch((function(t){e.link=null,e.viewCargando=!1,e.visibleModalReporte=!0})),this.visibleModalTipoReporte=!1,this.visibleModalReporte=!0},forceFileDownload:function(e,t){var a=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=a,"msword"==this.formBusquedav2.export?o.setAttribute("download","".concat(t,".doc")):o.setAttribute("download","".concat(t,".xlsx")),document.body.appendChild(o),o.click(),this.visibleModalReporte=!1,this.viewCargando=!1},viewFileDownload:function(e){console.log("descargando reporte");var t=new Blob([e.data],{type:"application/"+this.formBusquedav2.export});this.link=URL.createObjectURL(t),this.viewCargando=!1}}},mr=ur,pr=Object(f["a"])(mr,lr,cr,!1,null,"c57f448c",null),fr=pr.exports,hr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{width:"100%"}},[a("div",{staticClass:"card-head"},[a("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h2",[a("b",{staticStyle:{color:"#08632d"}},[e._v(" REPORTE COBROS - SOCIO ")])])])],1),a("a-divider",{attrs:{orientation:"left"}},[e._v("Busqueda")]),a("a-form",[a("a-row",{attrs:{gutter:1}},[a("a-col",{attrs:{span:5}},[e._v(" Filtrar por Rango de Fechas : "),a("a-switch",{attrs:{size:"small","default-checked":""},model:{value:e.formBusquedav2.filtroRangoFechas,callback:function(t){e.$set(e.formBusquedav2,"filtroRangoFechas",t)},expression:"formBusquedav2.filtroRangoFechas"}})],1),e.formBusquedav2.filtroRangoFechas?e._e():a("a-col",{attrs:{span:5}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Anio Cobro :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{model:{value:e.formBusquedav2.anio,callback:function(t){e.$set(e.formBusquedav2,"anio",t)},expression:"formBusquedav2.anio"}},e._l(e.lstAnio,(function(t){return a("a-select-option",{key:t.anioId,attrs:{value:t.anioId}},[e._v(e._s(t.anio))])})),1)],1)],1),e.formBusquedav2.filtroRangoFechas?e._e():a("a-col",{attrs:{span:5}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Mes Cobro :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{model:{value:e.formBusquedav2.mes,callback:function(t){e.$set(e.formBusquedav2,"mes",t)},expression:"formBusquedav2.mes"}},e._l(e.lstMes,(function(t){return a("a-select-option",{key:t.mesId,attrs:{value:t.mesId}},[e._v(e._s(t.mes))])})),1)],1)],1),e.formBusquedav2.filtroRangoFechas?e._e():a("a-col",{attrs:{span:5}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Dia Cobro :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{model:{value:e.formBusquedav2.dia,callback:function(t){e.$set(e.formBusquedav2,"dia",t)},expression:"formBusquedav2.dia"}},e._l(e.lstDias,(function(t){return a("a-select-option",{key:t.diaId,attrs:{value:t.diaId}},[e._v(e._s(t.dia))])})),1)],1)],1),e.formBusquedav2.filtroRangoFechas?a("a-col",{attrs:{span:7}},[a("a-form-item",{staticClass:"a-item-form",staticStyle:{"margin-bottom":"25px"},attrs:{label:"Fecha Inicio Cobro :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-date-picker",{attrs:{format:"DD/MM/YYYY ",locale:e.locale},model:{value:e.formBusquedav2.fechaInicio,callback:function(t){e.$set(e.formBusquedav2,"fechaInicio",t)},expression:"formBusquedav2.fechaInicio"}})],1)],1):e._e(),e.formBusquedav2.filtroRangoFechas?a("a-col",{attrs:{span:7}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Fecha Fin Cobro :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-date-picker",{attrs:{format:"DD/MM/YYYY",locale:e.locale},model:{value:e.formBusquedav2.fechaFin,callback:function(t){e.$set(e.formBusquedav2,"fechaFin",t)},expression:"formBusquedav2.fechaFin"}})],1)],1):e._e(),a("a-col",{attrs:{span:5}})],1)],1),a("a-form",[a("a-row",{attrs:{gutter:1}},[a("a-col",{attrs:{span:2}}),a("a-col",{attrs:{span:6}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Empresa :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{mode:"tags",disabled:!1},model:{value:e.formBusquedav2.entidadIdArray,callback:function(t){e.$set(e.formBusquedav2,"entidadIdArray",t)},expression:"formBusquedav2.entidadIdArray"}},e._l(e.entidadesList,(function(t){return a("a-select-option",{key:t.entidadId+"",attrs:{value:t.entidadId+""}},[e._v(" "+e._s(t.nombre)+" ")])})),1)],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Socio :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{mode:"tags",disabled:!1},model:{value:e.formBusquedav2.recaudadorIdArray,callback:function(t){e.$set(e.formBusquedav2,"recaudadorIdArray",t)},expression:"formBusquedav2.recaudadorIdArray"}},e._l(e.recaudadorasList,(function(t){return a("a-select-option",{key:t.recaudadorId+"",attrs:{value:t.recaudadorId+""}},[e._v(" "+e._s(t.nombre)+" ")])})),1)],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",{staticClass:"a-item-form",attrs:{label:"Estado :","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-select",{attrs:{disabled:e.disableEstado},model:{value:e.estado,callback:function(t){e.estado=t},expression:"estado"}},e._l(e.estadoList,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1),a("a-col",{attrs:{span:3}})],1)],1),a("br"),a("br"),a("a-row",{attrs:{type:"flex",justify:"center",align:"top",gutter:16}},[a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"dashed",block:""},on:{click:function(t){return e.limpiar()}}},[a("span",{style:{fontSize:"20px"}},[a("a-icon",{attrs:{type:"undo"}}),e._v(" Limpiar ")],1)])],1),a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"danger",block:""},on:{click:function(t){return e.findDeudasByParameterForReportv2(1)}}},[a("span",[a("a-icon",{attrs:{type:"search"}}),e._v(" Buscar ")],1)])],1),a("a-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("a-button",{style:{fontSize:"19px",height:"50px"},attrs:{type:"primary",icon:"printer",block:""},on:{click:function(t){e.visibleModalTipoReporte=!0}}},[e._v(" Generar Reporte ")])],1)],1)],1),a("a-modal",{attrs:{title:"Seleccione tipo de reporte"},on:{ok:function(t){e.visibleModalTipoReporte=!1}},model:{value:e.visibleModalTipoReporte,callback:function(t){e.visibleModalTipoReporte=t},expression:"visibleModalTipoReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-col",[e._v("Seleccione un tipo de Reporte a generar.")])],1)],1),a("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("a-col",[a("a-radio-group",{attrs:{"button-style":"solid"},model:{value:e.formBusquedav2.export,callback:function(t){e.$set(e.formBusquedav2,"export",t)},expression:"formBusquedav2.export"}},[a("a-radio-button",{attrs:{value:"pdf"}},[e._v(" PDF ")]),a("a-radio-button",{attrs:{value:"msexcel"}},[e._v(" EXCEL ")])],1)],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){return e.openModalGenerarReporte()}}},[e._v(" Generar Reporte ")])],1)],2),a("a-modal",{attrs:{title:"Reporte Generado",width:"900px",height:"400px","dialog-style":{top:"20px"}},on:{ok:function(t){e.visibleModalReporte=!1}},model:{value:e.visibleModalReporte,callback:function(t){e.visibleModalReporte=t},expression:"visibleModalReporte"}},[a("a-row",{attrs:{type:"flex",justify:"center"}},[e.viewCargando?a("a-spin",{attrs:{size:"large",tip:"El reporte se esta cargando...."}}):e._e(),a("iframe",{attrs:{width:"100%",height:"400px",src:this.link,frameborder:"0"}})],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(t){e.visibleModalReporte=!1}}},[e._v(" Cerrar ")])],1)],2),a("a-card",{staticStyle:{width:"100%"}},[a("a-divider",{attrs:{orientation:"left"}},[e._v("DATOS DE LAS DEUDAS")]),a("a-table",{attrs:{columns:e.columnCobroSocio,"data-source":e.lstDataCobroSocio,pagination:e.pagination,align:"center",loading:e.loadingTable}})],1)],1)},gr=[],br=[{title:"Nombre Socio ",dataIndex:"nombreSocio",key:"nombreSocio",width:"10%",scopedSlots:{customRender:"nombreSocio"}},{title:"Nombre Empresa",dataIndex:"nombreEmpresa",key:"nombreEmpresa",width:"200px",scopedSlots:{customRender:"nombreEmpresa"}},{title:"Depto",dataIndex:"deptoBanco",key:"deptoBanco",width:"100px"},{title:"Sucursal",dataIndex:"sucursalBanco",key:"sucursalBanco",width:"10%",scopedSlots:{customRender:"sucursalBanco"}},{title:"Cajero",dataIndex:"cajero",key:"cajero",width:"10%",scopedSlots:{customRender:"cajero"}},{title:"Tipo Servicio",dataIndex:"tipoServicio",key:"tipoServicio",width:"15%"},{title:"Servicio",dataIndex:"servicio",key:"servicio",width:"10%",scopedSlots:{customRender:"servicio"}},{title:"Cod. Cliente",dataIndex:"codEstudiante",key:"codEstudiante",width:"100px"},{title:"Fecha de Cobro",dataIndex:"fechaCobro",key:"fechaCobro",width:"150px"},{title:" Monto Cobro ",dataIndex:"montoCobro",key:"montoCobro",width:"100px"},{title:"Comisión",key:"comisionSocio",dataIndex:"comisionSocio",width:"100px",scopedSlots:{customRender:"comisionSocio"}},{title:"Estado",key:"estado",dataIndex:"estado",width:"15%",scopedSlots:{customRender:"estado"}}],vr={data:function(){var e;return e={locale:ve["a"],disableEstado:!1,pagination:{},formBusquedav2:{filtroRangoFechas:!0,mes:null,dia:null,anio:null,fechaInicio:null,fechaFin:null,entidadIdArray:[],recaudadorIdArray:[],estadoArray:[],export:null},columnCobroSocio:br,lstDataCobroSocio:[],recaudadorasList:[],entidadesList:[],estadoList:[],estado:"COBRADO",loadingTable:!1},Object(Le["a"])(e,"pagination",{}),Object(Le["a"])(e,"total",0),Object(Le["a"])(e,"lstAnio",[{anioId:"2021",anio:"2021"},{anioId:"2022",anio:"2022"},{anioId:"2023",anio:"2023"}]),Object(Le["a"])(e,"lstMes",[{mesId:"01",mes:"ENERO"},{mesId:"02",mes:"FEBRERO"},{mesId:"03",mes:"MARZO"},{mesId:"04",mes:"ABRIL"},{mesId:"05",mes:"MAYO"},{mesId:"06",mes:"JUNIO"},{mesId:"07",mes:"JULIO"},{mesId:"08",mes:"AGOSTO"},{mesId:"09",mes:"SEPTIEMBRE"},{mesId:"10",mes:"OCTUBRE"},{mesId:"11",mes:"NOVIEMBRE"},{mesId:"12",mes:"DICIEMBRE"}]),Object(Le["a"])(e,"visibleModalTipoReporte",!1),Object(Le["a"])(e,"visibleModalReporte",!1),Object(Le["a"])(e,"viewCargando",!1),Object(Le["a"])(e,"link",null),e},mounted:function(){this.formBusquedav2.anio=(new Date).getFullYear(),this.formBusquedav2.mes=1==((new Date).getMonth()+1+"").length?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1,this.formBusquedav2.dia=1==((new Date).getDate()+"").length?"0"+(new Date).getDate():(new Date).getDate()+"",this.formBusquedav2.filtroRangoFechas=!1,this.formBusquedav2.entidadIdArray=["0"],this.formBusquedav2.recaudadorIdArray=["0"],this.findDeudasByParameterForReportv2(1)},created:function(){var e=this;this.getEstadoHistoricos(),this.getRecaudadora(),this.getEntidades(),this.pagination={total:this.total,onChange:function(t){console.log("paginas: "+t),e.findDeudasByParameterForReportv2(t)}}},computed:{lstDias:function(){if(""==this.formBusquedav2.anio||null==this.formBusquedav2.anio)return[];if(""==this.formBusquedav2.mes||null==this.formBusquedav2.mes)return[];var e=new Date(this.formBusquedav2.anio,this.formBusquedav2.mes,0).getDate(),t=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"];this.lst=[];for(var a=1;a<=e;a++){var o=new Date(this.formBusquedav2.anio,this.formBusquedav2.mes-1,a).getDay();1==(a+"").length?a="0"+a:a+="",this.lst.push({diaId:a,dia:"".concat(a," = ").concat(t[o])})}return this.lst}},methods:{findDeudasByParameterForReportv2:function(e){var t=this;this.formBusquedav2.filtroRangoFechas||null!=this.formBusquedav2.mes&&null!=this.formBusquedav2.dia?!this.formBusquedav2.filtroRangoFechas||null!=this.formBusquedav2.fechaInicio&&null!=this.formBusquedav2.fechaFin?0!=this.formBusquedav2.entidadIdArray.length||0!=this.formBusquedav2.recaudadorIdArray.length||0!=this.formBusquedav2.estadoArray.length?(this.loadingTable=!0,this.formBusquedav2.paginacion=e,this.formBusquedav2.estadoArray=[],this.formBusquedav2.estadoArray.push(this.estado),so.findReporteCobroSocio(this.formBusquedav2).then((function(e){t.lstDataCobroSocio=e.data.data.content,t.pagination.pageSize=e.data.data.numberOfElements,t.pagination.total=e.data.data.totalElements,t.loadingTable=!1})).catch((function(e){t.lstDataCobroSocio=[],t.loadingTable=!1}))):this.$notification.error("Debe seleccionar Entidad, Socio y Estado."):this.$notification.error("Cuando el filtro es por rango de fechas, debe seleccionar estos parametros."):this.$notification.error("Cuando el filtro es por mes y dia, debe seleccionar estos parametros.")},getEstadoHistoricos:function(){var e=this;so.getEstadoHistoricos().then((function(t){e.estadoList=t.data.data})).catch((function(t){e.estadoList=[]}))},getEntidades:function(){var e=this;so.getEntidades().then((function(t){e.entidadesList=t.data.data,e.entidadesList.push({entidadId:0,nombre:"TODOS"})})).catch((function(t){e.entidadesList=[]}))},getRecaudadora:function(){var e=this;so.getRecaudadora().then((function(t){e.recaudadorasList=t.data.data,e.recaudadorasList.push({recaudadorId:0,nombre:"TODOS"})})).catch((function(t){e.recaudadorasList=[]}))},openModalGenerarReporte:function(){var e=this;this.link=null,this.viewCargando=!0,so.openModalGenerarReporteSocioAdmin(this.formBusquedav2).then((function(t){200==t.status?"pdf"==e.formBusquedav2.export?e.viewFileDownload(t):e.forceFileDownload(t,"reporte"):(e.viewCargando=!1,e.$notification.warning("No hay datos para mostrar en el reporte."))})).catch((function(t){e.link=null,e.viewCargando=!1,e.visibleModalReporte=!0})),this.visibleModalTipoReporte=!1,this.visibleModalReporte=!0},forceFileDownload:function(e,t){var a=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=a,"msword"==this.formBusquedav2.export?o.setAttribute("download","".concat(t,".doc")):o.setAttribute("download","".concat(t,".xlsx")),document.body.appendChild(o),o.click(),this.visibleModalReporte=!1,this.viewCargando=!1},viewFileDownload:function(e){console.log("descargando reporte");var t=new Blob([e.data],{type:"application/"+this.formBusquedav2.export});this.link=URL.createObjectURL(t),this.viewCargando=!1}}},yr=vr,Cr=Object(f["a"])(yr,hr,gr,!1,null,null,null),xr=Cr.exports,Er=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),a("br"),a("DashboardComponent")],1)},Rr=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contenedor"},[a("div",{staticClass:"hijo"},[a("picture")])])}],wr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-row",{attrs:{gutter:[16,16]}},[a("a-col",{attrs:{span:8}},[a("a-card",[a("a-statistic",{staticStyle:{"margin-right":"50px"},attrs:{title:"Monto Recaudado en el día (actual)...",precision:2,suffix:"BOB","value-style":{color:"#15c923"}},model:{value:e.objDashboard.montoRecaudadoDia,callback:function(t){e.$set(e.objDashboard,"montoRecaudadoDia",t)},expression:"objDashboard.montoRecaudadoDia"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-card",[a("a-statistic",{staticClass:"demo-class",attrs:{title:"Cantidad de Transacciones en el día (actual)",precision:2,suffix:"","value-style":{color:"#3494ee"}},model:{value:e.objDashboard.cantidadTransaccionDia,callback:function(t){e.$set(e.objDashboard,"cantidadTransaccionDia",t)},expression:"objDashboard.cantidadTransaccionDia"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-card",[a("a-statistic",{staticClass:"demo-class",attrs:{title:"Monto recaudado en el mes (actual)",precision:2,suffix:"BOB","value-style":{color:"#15c923"}},model:{value:e.objDashboard.montoRecaudadoMes,callback:function(t){e.$set(e.objDashboard,"montoRecaudadoMes",t)},expression:"objDashboard.montoRecaudadoMes"}})],1)],1)],1),a("a-row",{attrs:{gutter:[16,16]}},[a("a-col",{attrs:{span:8}},[a("a-card",[a("a-statistic",{staticClass:"demo-class",attrs:{title:"Cantidad de Transacciones en el mes (actual)",precision:2,suffix:"","value-style":{color:"#3494ee"}},model:{value:e.objDashboard.cantidadTransaccionMes,callback:function(t){e.$set(e.objDashboard,"cantidadTransaccionMes",t)},expression:"objDashboard.cantidadTransaccionMes"}})],1)],1)],1),a("br")],1)},Ir=[],kr={headersConfig:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e)},a={headers:t};return a},findDashboardTodos:function(){return E().get("api/dashboard/todos",this.headersConfig())}};a("a15b"),a("25f0"),a("1276");function _r(){var e=localStorage.getItem("token"),t=e.split(".")[1],a=t.replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(window.atob(a).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(o)}var Ar={data:function(){return{objDashboard:{},objPayload:{}}},mounted:function(){this.obtenerDashboardTodos()},methods:{obtenerDashboardTodos:function(){var e=this;return Object(et["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.objPayload=_r(),t.next=3,kr.findDashboardTodos();case 3:a=t.sent,e.objDashboard=a.data.result;case 5:case"end":return t.stop()}}),t)})))()}}},Sr=Ar,Dr=Object(f["a"])(Sr,wr,Ir,!1,null,null,null),Or=Dr.exports,Tr={components:{DashboardComponent:Or}},Lr=Tr,Br=(a("73f4"),Object(f["a"])(Lr,Er,Rr,!1,null,null,null)),Mr=Br.exports,jr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},Fr=[],Pr={data:function(){return{datos:{}}},mounted:function(){var e=this;R.getDatosLogin().then((function(t){e.datos=t.data.data,"ADMINISTRADOR"==e.datos.modulo&&e.$router.push("/Dashboard"),"EMPRESA"==e.datos.modulo&&e.$router.push("/UploadFile"),"SOCIO"==e.datos.modulo&&e.$router.push("/SearchEntidadesDebts")})).catch((function(t){e.datos={}}))}},$r=Pr,qr=Object(f["a"])($r,jr,Fr,!1,null,null,null),Nr=qr.exports;i["default"].use(c["a"]);var Ur=[{path:"/",name:"home",component:Y,meta:{libre:!1,rol:[]},children:[{path:"/Dashboard",name:"Dashboard",component:Mr,meta:{libre:!1,rol:["ROLE_DASHBOARD"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/UploadFile",name:"UploadFile",component:me,meta:{libre:!1,rol:["ROLE_MCAECA"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/HistoricoDeudas",name:"HistoricoDeudas",component:Re,meta:{libre:!1,rol:["ROLE_MCAEAH"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/HistoricoDeudasDetalle/:archivoId",name:"HistoricoDeudasDetalle",component:De,meta:{libre:!1,rol:["ROLE_MCAEAH"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/ReporteDeudasEntidades",name:"ReporteDeudasEntidades",component:Pe,meta:{libre:!1,rol:[]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/EntidadDeudasCobradasPorArchivo",name:"EntidadDeudasCobradasPorArchivo",component:ka,meta:{libre:!1,rol:["ROLE_MCAERA"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/EntidadReportesDeudasCobradas",name:"EntidadReportesDeudasCobradas",component:La,meta:{libre:!1,rol:["ROLE_MCAERG"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/RecaudacionReportesDeudasCobradas",name:"RecaudacionReportesDeudasCobradas",component:Na,meta:{libre:!1,rol:["ROLE_MCRGC"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/AdminReportesDeudasCobradas",name:"AdminReportesDeudasCobradas",component:uo,meta:{libre:!1,rol:["ROLE_ADMINISTRACION"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/debts/:entidadId",name:"Debts",component:We,meta:{libre:!1,rol:["ROLE_MCARC"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/AbmEntidades",name:"AbmEntidades",component:Dt,meta:{libre:!1,rol:["ROLE_ADMINISTRACION"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/AbmSucursalesEntidades/:entidadId/:nombre",name:"AbmSucursalesEntidades",component:Wt,meta:{libre:!1,rol:["ROLE_ADMINISTRACION"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/AbmRecaudadores",name:"AbmRecaudadores",component:ya,meta:{libre:!1,rol:["ROLE_ADMINISTRACION"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/AbmSucursales/:recaudadorId/:nombre",name:"AbmSucursales",component:ao,meta:{libre:!1,rol:["ROLE_ADMINISTRACION"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/UploadFileAbonos",name:"UploadFileAbonos",component:yo,meta:{libre:!1,rol:["ROLE_MPAPECA"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/SearchServicios",name:"SearchServicios",component:Bo,meta:{libre:!1,rol:[]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/PaymentsServicios/:servicioProductoId",name:"PaymentsServicios",component:Ao,meta:{libre:!1,rol:[]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/EntidadReportesPagos",name:"EntidadReportesPagos",component:Uo,meta:{libre:!1,rol:["ROLE_MPRGP"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/RecaudadoraReportesPagos",name:"RecaudadoraReportesPagos",component:Jo,meta:{libre:!1,rol:[]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/AdministracionReportesPagos",name:"AdministracionReportesPagos",component:ai,meta:{libre:!1,rol:["ROLE_ADMINISTRACION"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/ReImpresionComprobantes",name:"ReImpresionComprobantes",component:di,meta:{libre:!1,rol:["ROLE_MPAPRI"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"AdminUsuarios/COBROS/ADM_ENTIDADES",name:"AdminUsuarios/COBROS/ADM_ENTIDADES",component:Hi,meta:{libre:!1,rol:["ROLE_MCADAU"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"AdminUsuarios/COBROS/ADM_RECAUDACION",name:"AdminUsuarios/COBROS/ADM_RECAUDACION",component:Hi,meta:{libre:!1,rol:["ROLE_MCARAU"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"Usuario/UsuarioSocio",name:"Usuario/UsuarioSocio",component:$i,meta:{libre:!1,rol:["ROLE_ADMINISTRACION"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"Usuario/UsuarioEmpresa",name:"Usuario/UsuarioEmpresa",component:Di,meta:{libre:!1,rol:["ROLE_ADMINISTRACION"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/RegistroPersona",name:"RegistroPersona",component:Ri,meta:{libre:!1,rol:[]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/RecaudacionReporteCajero",name:"RecaudacionReporteCajero",component:es,meta:{libre:!1,rol:["ROLE_MCARRCJ"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/GenerateCodigoControl",name:"GenerateCodigoControl",component:rs,meta:{libre:!1,rol:["ROLE_MCEVCC"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/SearchEntidadesDebts",name:"SearchEntidadesDebts",component:dn,meta:{libre:!1,rol:["ROLE_MCARC"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/LibroVentas",name:"LibroVentas",component:xs,meta:{libre:!1,rol:["ROLE_MCLV"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/ReimpresionFacturas",name:"ReimpresionFacturas",component:_s,meta:{libre:!1,rol:["ROLE_MCERF"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/AnulacionFacturas",name:"AnulacionFacturas",component:Ls,meta:{libre:!1,rol:["ROLE_MCEAF"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/ListInvoices/:entidadId",name:"ListInvoicesA",component:$s,meta:{libre:!1,rol:["ROLE_MCRA"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/ListInvoices/:entidadId",name:"ListInvoicesAR",component:Ws,meta:{libre:!1,rol:["ROLE_MCRRA"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/ListInvoices/:entidadId",name:"ListInvoicesR",component:Gs,meta:{libre:!1,rol:["ROLE_MCARF"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/SearchEntidadesInvoicesA",name:"SearchEntidadesInvoicesA",component:En,meta:{libre:!1,rol:["ROLE_MCRA"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/SearchEntidadesInvoicesAR",name:"SearchEntidadesInvoicesAR",component:gn,meta:{libre:!1,rol:["ROLE_MCRRA"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/SearchEntidadesInvoicesR",name:"SearchEntidadesInvoicesR",component:An,meta:{libre:!1,rol:["ROLE_MCARF"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/Dosificaciones",name:"Dosificaciones",component:jn,meta:{libre:!1,rol:["ROLE_MCED"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/RegCredenciales",name:"RegCredenciales",component:Un,meta:{libre:!1,rol:[]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/RegCredenciales",name:"RegCredenciales",component:Un,meta:{libre:!1,rol:[]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/AdmEntSucursalEntidades",name:"AdmEntSucursalEntidades",component:Hn,meta:{libre:!1,rol:["ROLE_MCAEAE"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/AdmRecSucursales",name:"AdmRecSucursales",component:er,meta:{libre:!1,rol:["ROLE_MCARA"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"/DescargaArchivoLARazon",name:"DescargaArchivoLARazon",component:rr,meta:{libre:!1,rol:["ROLE_MCERRDA"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"*",name:"index",component:Nr,meta:{libre:!1,rol:[]}},{path:"Reporte/CobroEmpresa",name:"Reporte/CobroEmpresa",component:fr,meta:{libre:!1,rol:["ROLE_ADMINISTRACION"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}},{path:"Reporte/CobroSocio",name:"Reporte/CobroSocio",component:xr,meta:{libre:!1,rol:["ROLE_ADMINISTRACION"]},beforeEnter:function(e,t,a){Vr(e,t.next)?a():a({name:"index"})}}]},{path:"/login",name:"login",component:oe,meta:{libre:!0,rol:[]}},{path:"*",name:"login",component:oe,meta:{libre:!0,rol:[]}}],zr=new c["a"]({mode:"history",base:"/",routes:Ur});function Vr(e,t,a){Kr.dispatch("autoLoginRoot");var o=!1;return Kr.state.authorities.forEach((function(t){e.meta.rol.forEach((function(e){if(t==e)return o=!0,!0}))})),o}zr.beforeEach((function(e,t,a){var o=localStorage.getItem("token");if(e.matched.some((function(e){return e.meta.libre})))a();else if(o){var i=Object(l["a"])(o),s=i.exp;s<((new Date).getTime()+1)/1e3?(localStorage.clear(),a({name:"login"})):a()}else a({name:"login"})}));var Gr=zr,Yr={namespaced:!0,state:{dataStore:{}},mutations:{setDataStore:function(e,t){e.dataStore=t}},actions:{almacenarDataStore:function(e,t){var a=e.commit;a("setDataStore",t)}},getters:{getDataStore:function(e){return e.dataStore}}};i["default"].use(r["a"]);var Kr=new r["a"].Store({state:{token:null,usuario:null,authorities:[]},mutations:{setToken:function(e,t){e.token=t},setUsuario:function(e,t){e.usuario=t},setAuthorities:function(e,t){e.authorities=t}},actions:{guardarToken:function(e,t){var a=e.commit;a("setToken",t);var o=Object(l["a"])(t);a("setUsuario",o.user_name),a("setAuthorities",o.authorities),localStorage.setItem("token",t)},activarSesion:function(e,t){var a=e.commit;a("setToken",t);var o=Object(l["a"])(t);a("setUsuario",o.user_name),a("setAuthorities",o.authorities)},autoLogin:function(e){var t=e.commit,a=localStorage.getItem("token");if(a){t("setToken",a);var o=Object(l["a"])(a);t("setUsuario",o.user_name),t("setAuthorities",o.authorities)}Gr.push({name:"home"})},salir:function(e){var t=e.commit;t("setToken",null),t("setUsuario",null),localStorage.removeItem("token"),Gr.push({name:"login"})},autoLoginRoot:function(e){var t=e.commit,a=localStorage.getItem("token");if(a){t("setToken",a);var o=Object(l["a"])(a);t("setUsuario",o.user_name),t("setAuthorities",o.authorities)}}},modules:{AdmStore:Yr}}),Hr={components:{},data:function(){return{}},created:function(){this.$store.dispatch("autoLogin")}},Jr=Hr,Qr=Object(f["a"])(Jr,s,n,!1,null,null,null),Wr=Qr.exports,Zr=a("f23d");a("202f");i["default"].use(Zr["a"]);var Xr=a("cb43"),el=a("ee98"),tl=a.n(el),al=a("8559");ge.a.locale("es");var ol={install:function(e){var t={success:function(t){e.prototype.$notify({group:"notification",title:"Éxito",text:t,type:"success"})},error:function(t,a){e.prototype.$notify({group:"notification",title:null!=a?"Error: "+a:"Error",text:t,type:"error"})},warning:function(t){e.prototype.$notify({group:"notification",title:"Advertencia",text:t,type:"warning"})},info:function(t){e.prototype.$notify({group:"notification",title:"Información",text:t,type:"info"})}};e.prototype.$notification=t;var a={formaDateWithoutTime:function(e){return null!=e&&""!=e?ge()(e,"YYYY-MM-DDTHH:mm:ssZ").format("DD/MM/YYYY"):""}};e.prototype.$dates=a}},il=a("26b9"),sl=a.n(il);i["default"].use(al["a"]);var nl=a("c1df");a("898b"),i["default"].use(Xr["default"]),i["default"].use(tl.a),i["default"].use(a("2ead"),{moment:nl}),i["default"].config.productionTip=!1,i["default"].prototype.$http=x.a,i["default"].use(ol),i["default"].use(sl.a,{color:"rgb(224,206,206)",failedColor:"red",height:"2px"}),new i["default"]({router:Gr,store:Kr,render:function(e){return e(Wr)}}).$mount("#app")},"5aea":function(e,t,a){},"5bac":function(e,t,a){"use strict";a("a1cb")},"5f48":function(e,t,a){},"60bc":function(e,t,a){"use strict";a("09ca")},6935:function(e,t,a){},"6b64":function(e,t,a){},"6df1":function(e,t,a){},"6fe7":function(e,t,a){"use strict";a("1a7b")},"70d2":function(e,t,a){"use strict";a("a76f")},"73f4":function(e,t,a){"use strict";a("1525")},"76d0":function(e,t,a){},7847:function(e,t,a){},"7e7b":function(e,t,a){"use strict";a("a324")},"82ec":function(e,t,a){"use strict";a("c426")},8446:function(e,t,a){"use strict";a("2da4")},"8f60":function(e,t,a){"use strict";a("a6fa")},"90e6":function(e,t,a){"use strict";a("95eb")},"91a1":function(e,t,a){"use strict";a("a253")},"95eb":function(e,t,a){},"998a":function(e,t,a){},"9d64":function(e,t,a){e.exports=a.p+"img/logo.713a9771.png"},a191:function(e,t,a){"use strict";a("6b64")},a1cb:function(e,t,a){},a205:function(e,t,a){"use strict";a("7847")},a253:function(e,t,a){},a324:function(e,t,a){},a6fa:function(e,t,a){},a720:function(e,t,a){e.exports=a.p+"img/logo_quickpay.943e5a90.jpg"},a76f:function(e,t,a){},b3837:function(e,t,a){"use strict";a("6935")},b76c:function(e,t,a){"use strict";a("36cd")},b7ac:function(e,t,a){},b93f:function(e,t,a){},bd85:function(e,t,a){"use strict";a("998a")},c141:function(e,t,a){"use strict";a("cecf")},c147:function(e,t,a){},c3fd:function(e,t,a){"use strict";a("c147")},c40a:function(e,t,a){},c426:function(e,t,a){},c803:function(e,t,a){},cecf:function(e,t,a){},d317:function(e,t,a){},d3f3:function(e,t,a){},d73a:function(e,t,a){},e4c1:function(e,t,a){"use strict";a("d3f3")},e93f:function(e,t,a){"use strict";a("c40a")},ea15:function(e,t,a){"use strict";a("c803")},ec3b:function(e,t,a){},fd49:function(e,t,a){"use strict";a("b93f")},fe98:function(e,t,a){},ff06:function(e,t,a){"use strict";a("6df1")}});
//# sourceMappingURL=app.118dd73c.js.map